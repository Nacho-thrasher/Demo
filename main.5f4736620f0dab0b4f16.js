(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("os0x"),i=n("wj3C"),o=n("q/0M"),s=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l=new o.Logger("@firebase/firestore");function h(){return l.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);l.debug.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var i=e.map(g);l.error.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.WARN){var i=e.map(g);l.warn.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.19.1) INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function v(t,e){t||m()}function y(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function S(t){return t+"\0"}var I=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},C=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return _(this.projectId,t.projectId)||_(this.database,t.database)},t}();function T(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var D=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.u(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype._=function(){return A(this.l)},t}(),x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),N=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),P=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new N(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),F=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return this.g(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(F),L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.O=function(t){return L.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.O(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.M=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new O(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new O(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(F),V=function(){function t(t){this.path=t}return t.B=function(e){return new t(R.k(e))},t.U=function(e){return new t(R.k(e).V(5))},t.prototype.W=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===R.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return R.P(t.path,e.path)},t.j=function(t){return t.length%2==0},t.K=function(e){return new t(new R(e.slice()))},t}();function j(t){return null==t}function U(t){return-0===t&&1/t==-1/0}function B(t){return"number"==typeof t&&Number.isInteger(t)&&!U(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.G=null};function H(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new $(t,e,n,r,i,o,s)}function q(t){var e=y(t);if(null===e.G){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Rt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),j(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fn(e.startAt)),e.endAt&&(n+="|ub:",n+=Fn(e.endAt)),e.G=n}return e.G}function G(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ot(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ln(t.startAt,e.startAt)&&Ln(t.endAt,e.endAt)}function z(t){return V.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}var W=function(){function t(t){this.H=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.H)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.H)},t.prototype.Y=function(){return 2*this.H.length},t.prototype.o=function(t){return _(this.H,t.H)},t.prototype.isEqual=function(t){return this.H===t.H},t}();W.J=new W("");var K,J,Y=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=P.min()),void 0===o&&(o=P.min()),void 0===s&&(s=W.J),this.target=t,this.targetId=e,this.X=n,this.sequenceNumber=r,this.Z=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.tt=function(e){return new t(this.target,this.targetId,this.X,e,this.Z,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.et=function(e,n){return new t(this.target,this.targetId,this.X,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.nt=function(e){return new t(this.target,this.targetId,this.X,this.sequenceNumber,this.Z,e,this.resumeToken)},t}(),Z=function(t){this.count=t};function X(t){switch(t){case x.OK:return m();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return m()}}function Q(t){if(void 0===t)return f("GRPC error has no .code"),x.UNKNOWN;switch(t){case K.OK:return x.OK;case K.CANCELLED:return x.CANCELLED;case K.UNKNOWN:return x.UNKNOWN;case K.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case K.INTERNAL:return x.INTERNAL;case K.UNAVAILABLE:return x.UNAVAILABLE;case K.UNAUTHENTICATED:return x.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case K.NOT_FOUND:return x.NOT_FOUND;case K.ALREADY_EXISTS:return x.ALREADY_EXISTS;case K.PERMISSION_DENIED:return x.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case K.ABORTED:return x.ABORTED;case K.OUT_OF_RANGE:return x.OUT_OF_RANGE;case K.UNIMPLEMENTED:return x.UNIMPLEMENTED;case K.DATA_LOSS:return x.DATA_LOSS;default:return m()}}(J=K||(K={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.st=function(e,n){return new t(this.P,this.root.st(e,n,this.P).copy(null,null,nt.it,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.it,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ut=function(){return new et(this.root,null,this.P,!1)},t.prototype.ct=function(t){return new et(this.root,t,this.P,!1)},t.prototype.lt=function(){return new et(this.root,null,this.P,!0)},t.prototype._t=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this.ft=r,this.dt=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ft?t.left:t.right;else{if(0===i){this.dt.push(t);break}this.dt.push(t),t=this.ft?t.right:t.left}}return t.prototype.wt=function(){var t=this.dt.pop(),e={key:t.key,value:t.value};if(this.ft)for(t=t.left;!t._();)this.dt.push(t),t=t.right;else for(t=t.right;!t._();)this.dt.push(t),t=t.left;return e},t.prototype.Tt=function(){return this.dt.length>0},t.prototype.Et=function(){if(0===this.dt.length)return null;var t=this.dt[this.dt.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.rt=function(){return this.min().key},t.prototype.ot=function(){return this.right._()?this.key:this.right.ot()},t.prototype.st=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.st(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.st(t,e,n))).It()},t.prototype.At=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.Rt()||e.left.left.Rt()||(e=e.Pt()),(e=e.copy(null,null,null,e.left.At(),null)).It()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.Rt()||i.left.left.Rt()||(i=i.Pt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Rt()&&(i=i.gt()),i.right._()||i.right.Rt()||i.right.left.Rt()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.It()},t.prototype.Rt=function(){return this.color},t.prototype.It=function(){var t=this;return t.right.Rt()&&!t.left.Rt()&&(t=t.yt()),t.left.Rt()&&t.left.left.Rt()&&(t=t.gt()),t.left.Rt()&&t.right.Rt()&&(t=t.pt()),t},t.prototype.Pt=function(){var t=this.pt();return t.right.left.Rt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.gt())).yt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.Rt()&&(t=(t=t.gt()).pt()),t},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.bt=function(){var t=this.vt();return Math.pow(2,t)<=this.size+1},t.prototype.vt=function(){if(this.Rt()&&this.left.Rt())throw m();if(this.right.Rt())throw m();var t=this.left.vt();if(t!==this.right.vt())throw m();return t+(this.Rt()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.it=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.st=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.rt=function(){return null},t.prototype.ot=function(){return null},t.prototype.Rt=function(){return!1},t.prototype.bt=function(){return!0},t.prototype.vt=function(){return 0},t}());var rt=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.rt()},t.prototype.last=function(){return this.data.ot()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.St=function(t,e){for(var n=this.data.ct(t[0]);n.Tt();){var r=n.wt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Dt=function(t,e){var n;for(n=void 0!==e?this.data.ct(e):this.data.ut();n.Tt();)if(!t(n.wt().key))return},t.prototype.Ct=function(t){var e=this.data.ct(t);return e.Tt()?e.wt().key:null},t.prototype.ut=function(){return new it(this.data.ut())},t.prototype.ct=function(t){return new it(this.data.ct(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).st(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Nt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ut(),r=e.data.ut();n.Tt();){var i=n.wt().key,o=r.wt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),it=function(){function t(t){this.Ft=t}return t.prototype.wt=function(){return this.Ft.wt().key},t.prototype.Tt=function(){return this.Ft.Tt()},t}(),ot=new tt(V.P);function st(){return ot}function at(){return st()}var ut=new tt(V.P);function ct(){return ut}var lt=new tt(V.P),ht=new rt(V.P);function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ft=new rt(_);function pt(){return ft}var gt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||V.P(e.key,n.key)}:function(t,e){return V.P(t.key,e.key)},this.kt=ct(),this.$t=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.rt()},t.prototype.last=function(){return this.$t.ot()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.st(t.key,t),e.$t.st(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.ut(),r=e.$t.ut();n.Tt();){var i=n.wt().key,o=r.wt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.kt=e,r.$t=n,r},t}(),mt=function(){function t(){this.Ot=new tt(V.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ot.get(e);n?0!==t.type&&3===n.type?this.Ot=this.Ot.st(e,t):3===t.type&&1!==n.type?this.Ot=this.Ot.st(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ot=this.Ot.st(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ot=this.Ot.remove(e):1===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):m():this.Ot=this.Ot.st(e,t)},t.prototype.Mt=function(){var t=[];return this.Ot.ht((function(e,n){t.push(n)})),t},t}(),vt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.qt=i,this.fromCache=o,this.Bt=s,this.Ut=a}return t.Qt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,gt.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.qt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.qt.isEqual(t.qt)&&bn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yt=function(){function t(t,e,n,r,i){this.Z=t,this.Wt=e,this.jt=n,this.Kt=r,this.Gt=i}return t.zt=function(e,n){var r=new Map;return r.set(e,bt.Ht(e,n)),new t(P.min(),r,pt(),st(),dt())},t}(),bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Yt=e,this.Jt=n,this.Xt=r,this.Zt=i}return t.Ht=function(e,n){return new t(W.J,n,dt(),dt(),dt())},t}(),wt=function(t,e,n,r){this.te=t,this.removedTargetIds=e,this.key=n,this.ee=r},_t=function(t,e){this.targetId=t,this.ne=e},Et=function(t,e,n,r){void 0===n&&(n=W.J),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},St=function(){function t(){this.se=0,this.ie=Tt(),this.re=W.J,this.oe=!1,this.he=!0}return Object.defineProperty(t.prototype,"Yt",{get:function(){return this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return 0!==this.se},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ue",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.ce=function(t){t.Y()>0&&(this.he=!0,this.re=t)},t.prototype.le=function(){var t=dt(),e=dt(),n=dt();return this.ie.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new bt(this.re,this.oe,t,e,n)},t.prototype._e=function(){this.he=!1,this.ie=Tt()},t.prototype.fe=function(t,e){this.he=!0,this.ie=this.ie.st(t,e)},t.prototype.de=function(t){this.he=!0,this.ie=this.ie.remove(t)},t.prototype.we=function(){this.se+=1},t.prototype.Te=function(){this.se-=1},t.prototype.Ee=function(){this.he=!0,this.oe=!0},t}(),It=function(){function t(t){this.Ie=t,this.me=new Map,this.Ae=st(),this.Re=Ct(),this.Pe=new rt(_)}return t.prototype.ge=function(t){for(var e=0,n=t.te;e<n.length;e++){var r=n[e];t.ee instanceof sn?this.Ve(r,t.ee):t.ee instanceof an&&this.ye(r,t.key,t.ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.ye(o[i],t.key,t.ee)},t.prototype.pe=function(t){var e=this;this.be(t,(function(n){var r=e.ve(n);switch(t.state){case 0:e.Se(n)&&r.ce(t.resumeToken);break;case 1:r.Te(),r.ae||r._e(),r.ce(t.resumeToken);break;case 2:r.Te(),r.ae||e.removeTarget(n);break;case 3:e.Se(n)&&(r.Ee(),r.ce(t.resumeToken));break;case 4:e.Se(n)&&(e.De(n),r.ce(t.resumeToken));break;default:m()}}))},t.prototype.be=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.me.forEach((function(t,r){n.Se(r)&&e(r)}))},t.prototype.Ce=function(t){var e=t.targetId,n=t.ne.count,r=this.Ne(e);if(r){var i=r.target;if(z(i))if(0===n){var o=new V(i.path);this.ye(e,o,new an(o,P.min()))}else v(1===n);else this.Fe(e)!==n&&(this.De(e),this.Pe=this.Pe.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.me.forEach((function(r,i){var o=e.Ne(i);if(o){if(r.Yt&&z(o.target)){var s=new V(o.target.path);null!==e.Ae.get(s)||e.$e(i,s)||e.ye(i,s,new an(s,t))}r.ue&&(n.set(i,r.le()),r._e())}}));var r=dt();this.Re.forEach((function(t,n){var i=!0;n.Dt((function(t){var n=e.Ne(t);return!n||2===n.X||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new yt(t,n,this.Pe,this.Ae,r);return this.Ae=st(),this.Re=Ct(),this.Pe=new rt(_),i},t.prototype.Ve=function(t,e){if(this.Se(t)){var n=this.$e(t,e.key)?2:0;this.ve(t).fe(e.key,n),this.Ae=this.Ae.st(e.key,e),this.Re=this.Re.st(e.key,this.xe(e.key).add(t))}},t.prototype.ye=function(t,e,n){if(this.Se(t)){var r=this.ve(t);this.$e(t,e)?r.fe(e,1):r.de(e),this.Re=this.Re.st(e,this.xe(e).delete(t)),n&&(this.Ae=this.Ae.st(e,n))}},t.prototype.removeTarget=function(t){this.me.delete(t)},t.prototype.Fe=function(t){var e=this.ve(t).le();return this.Ie.Oe(t).size+e.Jt.size-e.Zt.size},t.prototype.we=function(t){this.ve(t).we()},t.prototype.ve=function(t){var e=this.me.get(t);return e||(e=new St,this.me.set(t,e)),e},t.prototype.xe=function(t){var e=this.Re.get(t);return e||(e=new rt(_),this.Re=this.Re.st(t,e)),e},t.prototype.Se=function(t){var e=null!==this.Ne(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ne=function(t){var e=this.me.get(t);return e&&e.ae?null:this.Ie.Me(t)},t.prototype.De=function(t){var e=this;this.me.set(t,new St),this.Ie.Oe(t).forEach((function(n){e.ye(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ie.Oe(t).has(e)},t}();function Ct(){return new tt(V.P)}function Tt(){return new tt(V.P)}function kt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function At(t){var e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new N(e.seconds,e.nanos)}var Dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kt(t)?4:10:m()}function Ot(t,e){var n=xt(t);if(n!==xt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return At(t).isEqual(At(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lt(t.timestampValue),r=Lt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vt(t.bytesValue).isEqual(Vt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mt(t.geoPointValue.latitude)===Mt(e.geoPointValue.latitude)&&Mt(t.geoPointValue.longitude)===Mt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mt(t.integerValue)===Mt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mt(t.doubleValue),r=Mt(e.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],Ot);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(T(n)!==T(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ot(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function Nt(t,e){return void 0!==(t.values||[]).find((function(t){return Ot(t,e)}))}function Pt(t,e){var n=xt(t),r=xt(e);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mt(t.integerValue||t.doubleValue),r=Mt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ft(t.timestampValue,e.timestampValue);case 4:return Ft(At(t),At(e));case 5:return _(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vt(t),r=Vt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_(n[i],r[i]);if(0!==o)return o}return _(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_(Mt(t.latitude),Mt(e.latitude));return 0!==n?n:_(Mt(t.longitude),Mt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pt(n[i],r[i]);if(o)return o}return _(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=_(r[s],o[s]);if(0!==a)return a;var u=Pt(n[r[s]],i[o[s]]);if(0!==u)return u}return _(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function Ft(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _(t,e);var n=Lt(t),r=Lt(e),i=_(n.seconds,r.seconds);return 0!==i?i:_(n.nanos,r.nanos)}function Rt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Lt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vt(e.bytesValue).toBase64():"referenceValue"in e?V.U(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):m();var n}(t)}function Lt(t){if(v(!!t),"string"==typeof t){var e=0,n=Dt.exec(t);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vt(t){return"string"==typeof t?W.fromBase64String(t):W.fromUint8Array(t)}function jt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function Ut(t){return!!t&&"integerValue"in t}function Bt(t){return!!t&&"arrayValue"in t}function $t(t){return!!t&&"nullValue"in t}function Ht(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qt(t){return!!t&&"mapValue"in t}var Gt={asc:"ASCENDING",desc:"DESCENDING"},zt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wt=function(t,e){this.s=t,this.Le=e};function Kt(t){return{integerValue:""+t}}function Jt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(e)?"-0":e}}function Yt(t,e){return B(e)?Kt(e):Jt(t,e)}function Zt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Qt(t,e){return Zt(t,e.A())}function te(t){return v(!!t),P.I(function(t){var e=Lt(t);return new N(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new R(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=R.k(t);return v(Se(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return v(n.get(1)===t.s.projectId),v(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new V(ue(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?R.$():ue(e)}function ae(t){return new R(["projects",t.s.projectId,"databases",t.s.database]).F()}function ue(t){return v(t.length>4&&"documents"===t.get(4)),t.V(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof We)n={update:ce(t,e.key,e.value)};else if(e instanceof Qe)n={delete:re(t,e.key)};else if(e instanceof Ke)n={update:ce(t,e.key,e.data),updateMask:Ee(e.qe)};else if(e instanceof Ye)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ae)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof De)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof Oe)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Pe)return{fieldPath:e.field.F(),increment:n.Be};throw m()}(0,t)}))}};else{if(!(e instanceof tn))return m();n={verify:re(t,e.key)}}return e.Qe.Ue||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Qe)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?je.updateTime(te(t.updateTime)):void 0!==t.exists?je.exists(t.exists):je.We()}(e.currentDocument):je.We();if(e.update){var r=ie(t,e.update.name),i=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Le((t.fieldPaths||[]).map((function(t){return M.q(t)})))}(e.updateMask);return new Ke(r,i,o,n)}return new We(r,i,n)}if(e.delete){var s=ie(t,e.delete);return new Qe(s,n)}if(e.transform){var a=ie(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(v("REQUEST_TIME"===e.setToServerValue),n=new Ae):"appendMissingElements"in e?n=new De(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oe(e.removeAllFromArray.values||[]):"increment"in e?n=new Pe(t,e.increment):m();var r=M.q(e.fieldPath);return new Me(r,n)}(t,e)}));return v(!0===n.exists),new Ye(a,u)}if(e.verify){var c=ie(t,e.verify);return new tn(c,n)}return m()}function de(t,e){return{documents:[oe(t,e.path)]}}function fe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ht(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NAN"}};if($t(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ht(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NAN"}};if($t(t.value))return{unaryFilter:{field:ye(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ye(t.field),op:ve(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ye(t.field),direction:me(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Le||j(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function ge(t){return new Pn(t.values||[],!!t.before)}function me(t){return Gt[t]}function ve(t){return zt[t]}function ye(t){return{fieldPath:t.F()}}function be(t){return M.q(t.fieldPath)}function we(t){return In.create(be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function _e(t){switch(t.unaryFilter.op){case"IS_NAN":var e=be(t.unaryFilter.field);return In.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=be(t.unaryFilter.field);return In.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=be(t.unaryFilter.field);return In.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=be(t.unaryFilter.field);return In.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function Ee(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function Se(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ie=function(){this.je=void 0};function Ce(t,e,n){return t instanceof Ae?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof De?xe(t,e):t instanceof Oe?Ne(t,e):function(t,e){var n=ke(t,e),r=Fe(n)+Fe(t.Be);return Ut(n)&&Ut(t.Be)?Kt(r):Jt(t.serializer,r)}(t,e)}function Te(t,e,n){return t instanceof De?xe(t,e):t instanceof Oe?Ne(t,e):n}function ke(t,e){return t instanceof Pe?Ut(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ie),De=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ie);function xe(t,e){for(var n=Re(e),r=function(t){n.some((function(e){return Ot(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ie);function Ne(t,e){for(var n=Re(e),r=function(t){n=n.filter((function(e){return!Ot(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return r.__extends(e,t),e}(Ie);function Fe(t){return Mt(t.integerValue||t.doubleValue)}function Re(t){return Bt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Le=function(){function t(t){this.fields=t,t.sort(M.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Me=function(t,e){this.field=t,this.transform=e},Ve=function(t,e){this.version=t,this.transformResults=e},je=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ue(t,e){return void 0!==t.updateTime?e instanceof sn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof sn}var Be=function(){};function $e(t,e,n){return t instanceof We?function(t,e,n){return new sn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ke?function(t,e,n){if(!Ue(t.Qe,e))return new un(t.key,n.version);var r=Je(t,e);return new sn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ye?function(t,e,n){if(v(null!=n.transformResults),!Ue(t.Qe,e))return new un(t.key,n.version);var r=Ze(0,e),i=function(t,e,n){var r=[];v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof sn&&(a=e.field(o.field)),r.push(Te(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Xe(t,r.data(),i);return new sn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new an(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function He(t,e,n,r){return t instanceof We?function(t,e){if(!Ue(t.Qe,e))return e;var n=ze(e);return new sn(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof Ke?function(t,e){if(!Ue(t.Qe,e))return e;var n=ze(e),r=Je(t,e);return new sn(t.key,n,r,{Ge:!0})}(t,e):t instanceof Ye?function(t,e,n,r){if(!Ue(t.Qe,e))return e;var i=Ze(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof sn&&(c=n.field(a.field)),null===c&&r instanceof sn&&(c=r.field(a.field)),i.push(Ce(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Xe(t,i.data(),o);return new sn(t.key,i.version,s,{Ge:!0})}(t,e,r,n):function(t,e){return Ue(t.Qe,e)?new an(t.key,P.min()):e}(t,e)}function qe(t,e){return t instanceof Ye?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof sn?e.field(o.field):void 0,a=ke(o.transform,s||null);null!=a&&(n=null==n?(new nn).set(o.field,a):n.set(o.field,a))}return n?n.ze():null}(t,e):null}function Ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Qe.isEqual(e.Qe)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.qe.isEqual(e.qe):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof De&&e instanceof De||t instanceof Oe&&e instanceof Oe?E(t.elements,e.elements,Ot):t instanceof Pe&&e instanceof Pe?Ot(t.Be,e.Be):t instanceof Ae&&e instanceof Ae}(t.transform,e.transform)}(t,e)})))}function ze(t){return t instanceof sn?t.version:P.min()}var We=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Qe=r,i.type=0,i}return r.__extends(e,t),e}(Be),Ke=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.qe=r,o.Qe=i,o.type=1,o}return r.__extends(e,t),e}(Be);function Je(t,e){return function(t,e){var n=new nn(e);return t.qe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof sn?e.data():en.empty())}var Ye=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Qe=je.exists(!0),r}return r.__extends(e,t),e}(Be);function Ze(t,e){return e}function Xe(t,e,n){for(var r=new nn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.ze()}var Qe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=3,r}return r.__extends(e,t),e}(Be),tn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=4,r}return r.__extends(e,t),e}(Be),en=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Ot(this.proto,t.proto)},t}(),nn=function(){function t(t){void 0===t&&(t=en.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(M.$(),this.Ye);return null!=t?new en(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),o=qt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Xe(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function rn(t){var e=[];return k(t.fields||{},(function(t,n){var r=new M([t]);if(qt(n)){var i=rn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Le(e)}var on=function(t,e){this.key=t,this.version=e},sn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ze=r,o.Ge=!!i.Ge,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(on),an=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(on),un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(on);function cn(t,e){if(!(t instanceof e))throw new O(x.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var ln=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=s,this.endAt=a,this.sn=null,this.rn=null}return t.prototype.on=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.hn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.M())},t.prototype.an=function(){return!j(this.limit)&&"F"===this.nn},t.prototype.un=function(){return!j(this.limit)&&"L"===this.nn},t.prototype.cn=function(){return this.en.length>0?this.en[0].field:null},t.prototype.ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n._n())return n.field}return null},t.prototype.fn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function hn(t,e,n,r,i,o,s,a){return new ln(t,e,n,r,i,o,s,a)}function dn(t){return new ln(t)}function fn(t){return null!==t.collectionGroup}function pn(t){var e=cn(t,ln);if(null===e.sn){e.sn=[];var n=e.ln(),r=e.cn();if(null!==n&&null===r)n.M()||e.sn.push(new Mn(n)),e.sn.push(new Mn(M.L(),"asc"));else{for(var i=!1,o=0,s=e.en;o<s.length;o++){var a=s[o];e.sn.push(a),a.field.M()&&(i=!0)}if(!i){var u=e.en.length>0?e.en[e.en.length-1].dir:"asc";e.sn.push(new Mn(M.L(),u))}}}return e.sn}function gn(t){var e=cn(t,ln);if(!e.rn)if("F"===e.nn)e.rn=H(e.path,e.collectionGroup,pn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=pn(e);r<i.length;r++){var o=i[r];n.push(new Mn(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Pn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Pn(e.startAt.position,!e.startAt.before):null;e.rn=H(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.rn}function mn(t,e,n){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vn(t,e){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,e,t.endAt)}function yn(t,e){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,t.startAt,e)}function bn(t,e){return G(gn(t),gn(e))&&t.nn===e.nn}function wn(t){return q(gn(t))+"|lt:"+t.nn}function _n(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Rt(e.value);var e})).join(", ")+"]"),j(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fn(t.startAt)),t.endAt&&(e+=", endAt: "+Fn(t.endAt)),"Target("+e+")"}(gn(t))+"; limitType="+t.nn+")"}function En(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.W(t.collectionGroup)&&t.path.D(n):V.j(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.M()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Rn(t.startAt,pn(t),e)||t.endAt&&Rn(t.endAt,pn(t),e))}(t,e)}function Sn(t){return function(e,n){for(var r=!1,i=0,o=pn(t);i<o.length;i++){var s=o[i],a=Vn(s,e,n);if(0!==a)return a;r=r||s.field.M()}return 0}}var In=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.M())return"in"===n||"not-in"===n?this.dn(t,n,r):new Cn(t,n,r);if($t(r)){if("=="!==n&&"!="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Ht(r)){if("=="!==n&&"!="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Dn(t,r):"in"===n?new xn(t,r):"not-in"===n?new On(t,r):"array-contains-any"===n?new Nn(t,r):new e(t,n,r)},e.dn=function(t,e,n){return"in"===e?new Tn(t,n):new kn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.wn(Pt(e,this.value)):null!==e&&xt(this.value)===xt(e)&&this.wn(Pt(e,this.value))},e.prototype.wn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype._n=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),Cn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=V.U(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=V.P(t.key,this.key);return this.wn(e)},e}(In),Tn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=An(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(In),kn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=An(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(In);function An(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return V.U(t.referenceValue)}))}var Dn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Bt(e)&&Nt(e.arrayValue,this.value)},e}(In),xn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nt(this.value.arrayValue,e)},e}(In),On=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Nt(this.value.arrayValue,e)},e}(In),Nn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Bt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Nt(e.value.arrayValue,t)}))},e}(In),Pn=function(t,e){this.position=t,this.before=e};function Fn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Rt(t)})).join(",")}function Rn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.M()?V.P(V.U(s.referenceValue),n.key):Pt(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ln(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ot(t.position[n],e.position[n]))return!1;return!0}var Mn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vn(t,e,n){var r=t.field.M()?V.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function jn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Un=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.En=function(t,e,n){for(var r=n.In,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$e(o,e,r[i]))}return e},t.prototype.mn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=He(i,e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=He(u,e,o,this.Tn))}return e},t.prototype.An=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.mn(r.key,t.get(r.key));i&&(n=n.st(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return Ge(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return Ge(t,e)}))},t}(),Bn=function(){function t(t,e,n,r){this.batch=t,this.Rn=e,this.In=n,this.Pn=r}return t.from=function(e,n,r){v(e.mutations.length===r.length);for(var i=lt,o=e.mutations,s=0;s<o.length;s++)i=i.st(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),$n=function(){function t(t){var e=this;this.gn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.yn=!1,this.pn=!1,t((function(t){e.yn=!0,e.result=t,e.gn&&e.gn(t)}),(function(t){e.yn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.pn&&m(),this.pn=!0,this.yn?this.error?this.bn(n,this.error):this.vn(e,this.result):new t((function(t,i){r.gn=function(n){r.vn(e,n).next(t,i)},r.Vn=function(e){r.bn(n,e).next(t,i)}}))},t.prototype.Sn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Dn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vn=function(e,n){return e?this.Dn((function(){return e(n)})):t.resolve(n)},t.prototype.bn=function(e,n){return e?this.Dn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Cn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Nn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Cn(r)},t}(),Hn=function(){function t(){this.Fn=new D((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.kn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.On(),this.readTime=e,this.Fn.set(t.key,t)},t.prototype.Mn=function(t,e){this.On(),e&&(this.readTime=e),this.Fn.set(t,null)},t.prototype.Ln=function(t,e){this.On();var n=this.Fn.get(e);return void 0!==n?$n.resolve(n):this.qn(t,e)},t.prototype.getEntries=function(t,e){return this.Bn(t,e)},t.prototype.apply=function(t){return this.On(),this.kn=!0,this.Un(t)},t.prototype.On=function(){},t}(),qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gn=function(){function t(){this.Qn=[]}return t.prototype.Wn=function(t){this.Qn.push(t)},t.prototype.jn=function(){this.Qn.forEach((function(t){return t()}))},t}(),zn=function(){function t(t,e,n){this.Kn=t,this.Gn=e,this.zn=n}return t.prototype.Hn=function(t,e){var n=this;return this.Gn.Yn(t,e).next((function(r){return n.Jn(t,e,r)}))},t.prototype.Jn=function(t,e,n){return this.Kn.Ln(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].mn(e,t);return t}))},t.prototype.Xn=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].mn(t,e);r=r.st(t,e)})),r},t.prototype.Zn=function(t,e){var n=this;return this.Kn.getEntries(t,e).next((function(e){return n.ts(t,e)}))},t.prototype.ts=function(t,e){var n=this;return this.Gn.es(t,e).next((function(r){var i=n.Xn(t,e,r),o=st();return i.forEach((function(t,e){e||(e=new an(t,P.min())),o=o.st(t,e)})),o}))},t.prototype.ns=function(t,e,n){return function(t){return V.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ss(t,e.path):fn(e)?this.rs(t,e,n):this.os(t,e,n)},t.prototype.ss=function(t,e){return this.Hn(t,new V(e)).next((function(t){var e=ct();return t instanceof sn&&(e=e.st(t.key,t)),e}))},t.prototype.rs=function(t,e,n){var r=this,i=e.collectionGroup,o=ct();return this.zn.hs(t,i).next((function(s){return $n.forEach(s,(function(s){var a=e.on(s.child(i));return r.os(t,a,n).next((function(t){t.forEach((function(t,e){o=o.st(t,e)}))}))})).next((function(){return o}))}))},t.prototype.os=function(t,e,n){var r,i,o=this;return this.Kn.ns(t,e,n).next((function(n){return r=n,o.Gn.as(t,e)})).next((function(e){return o.us(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=He(u,l,l,o.Tn);r=h instanceof sn?r.st(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){En(e,n)||(r=r.remove(t))})),r}))},t.prototype.us=function(t,e,n){for(var r=dt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ke&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Kn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof sn&&(c=c.st(t,e))})),c}))},t}(),Wn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.cs=n,this.ls=r}return t._s=function(e,n){for(var r=dt(),i=dt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Kn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.fs=function(t){return n.ds(t)},this.ws=function(t){return e.Ts(t)})}return t.prototype.ds=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ws&&this.ws(t),t},t}();Kn.Es=-1;var Jn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Yn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Is=t,this.ms=e,this.As=n,this.Rs=r,this.Ps=i,this.gs=0,this.Vs=null,this.ys=Date.now(),this.reset()}return t.prototype.reset=function(){this.gs=0},t.prototype.ps=function(){this.gs=this.Ps},t.prototype.bs=function(t){var e=this;this.cancel();var n=Math.floor(this.gs+this.vs()),r=Math.max(0,Date.now()-this.ys),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.gs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.Is.Ss(this.ms,i,(function(){return e.ys=Date.now(),t()})),this.gs*=this.Rs,this.gs<this.As&&(this.gs=this.As),this.gs>this.Ps&&(this.gs=this.Ps)},t.prototype.Ds=function(){null!==this.Vs&&(this.Vs.Cs(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.vs=function(){return(Math.random()-.5)*this.gs},t}(),Zn=function(){function t(e,n,r){this.name=e,this.version=n,this.Ns=r,12.2===t.Fs(s.getUA())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return d("SimpleDb","Removing database:",t),rr(window.indexedDB.deleteDatabase(t)).Sn()},t.ks=function(){if("undefined"==typeof indexedDB)return!1;if(t.$s())return!0;var e=s.getUA(),n=t.Fs(e),r=0<n&&n<10,i=t.xs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$s=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Os)},t.Ms=function(t,e){return t.store(e)},t.Fs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Ls=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new Qn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new O(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qn(e))},r.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.Ns.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){d("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.qs&&(this.db.onversionchange=function(t){return e.qs(t)}),this.db)]}}))}))},t.prototype.Bs=function(t){this.qs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Ls()];case 2:return a.db=r.sent(),t=er.open(a.db,i?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),$n.reject(e)})).Sn(),u={},s.catch((function(){})),[4,t.Us];case 3:return[2,(u.value=(r.sent(),s),u)];case 4:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=r.sent()).message,l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Xn=function(){function t(t){this.Qs=t,this.Ws=!1,this.js=null}return Object.defineProperty(t.prototype,"yn",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ks",{get:function(){return this.js},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Ws=!0},t.prototype.Gs=function(t){this.js=t},t.prototype.delete=function(){return rr(this.Qs.delete())},t}(),Qn=function(t){function e(e){var n=this;return(n=t.call(this,x.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(O);function tr(t){return"IndexedDbTransactionError"===t.name}var er=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.zs=new Jn,this.transaction.oncomplete=function(){e.zs.resolve()},this.transaction.onabort=function(){t.error?e.zs.reject(new Qn(t.error)):e.zs.resolve()},this.transaction.onerror=function(t){var n=or(t.target.error);e.zs.reject(new Qn(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new Qn(e)}},Object.defineProperty(t.prototype,"Us",{get:function(){return this.zs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.zs.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new nr(e)},t}(),nr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rr(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),rr(this.store.add(t))},t.prototype.get=function(t){var e=this;return rr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),rr(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),rr(this.store.count())},t.prototype.Hs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ys(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Js=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Xs=!1;var r=this.cursor(n);return this.Ys(r,(function(t,e,n){return n.delete()}))},t.prototype.Zs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ys(r,e)},t.prototype.ti=function(t){var e=this.cursor({});return new $n((function(n,r){e.onerror=function(t){var e=or(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ys=function(t,e){var n=[];return new $n((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Xn(i),s=e(i.primaryKey,i.value,o);if(s instanceof $n){var a=s.catch((function(t){return o.done(),$n.reject(t)}));n.push(a)}o.yn?r():null===o.Ks?i.continue():i.continue(o.Ks)}else r()}})).next((function(){return $n.Cn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Xs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rr(t){return new $n((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=or(t.target.error);n(e)}}))}var ir=!1;function or(t){var e=Zn.Fs(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ir||(ir=!0,setTimeout((function(){throw r}),0)),r}}return t}function sr(){return"undefined"!=typeof window?window:null}function ar(){return"undefined"!=typeof document?document:null}var ur=function(){function t(t,e,n,r,i){this.ei=t,this.ms=e,this.ni=n,this.op=r,this.si=i,this.ii=new Jn,this.then=this.ii.promise.then.bind(this.ii.promise),this.ii.promise.catch((function(t){}))}return t.ri=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.oi=setTimeout((function(){return e.hi()}),t)},t.prototype.Cs=function(){return this.hi()},t.prototype.cancel=function(t){null!==this.oi&&(this.clearTimeout(),this.ii.reject(new O(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.hi=function(){var t=this;this.ei.ai((function(){return null!==t.oi?(t.clearTimeout(),t.op().then((function(e){return t.ii.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.oi&&(this.si(this),clearTimeout(this.oi),this.oi=null)},t}(),cr=function(){function t(){var t=this;this.ui=Promise.resolve(),this.ci=[],this.li=!1,this._i=[],this.fi=null,this.di=!1,this.wi=[],this.Ti=new Yn(this,"async_queue_retry"),this.Ei=function(){var e=ar();e&&d("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Ti.Ds()};var e=ar();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ei)}return Object.defineProperty(t.prototype,"Ii",{get:function(){return this.li},enumerable:!1,configurable:!0}),t.prototype.ai=function(t){this.enqueue(t)},t.prototype.mi=function(t){this.Ai(),this.Ri(t)},t.prototype.Pi=function(){if(!this.li){this.li=!0;var t=ar();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ei)}},t.prototype.enqueue=function(t){return this.Ai(),this.li?new Promise((function(t){})):this.Ri(t)},t.prototype.gi=function(t){var e=this;this.ci.push(t),this.ai((function(){return e.Vi()}))},t.prototype.Vi=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ci.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ci[0]()];case 2:return n.sent(),this.ci.shift(),this.Ti.reset(),[3,4];case 3:if(!tr(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ci.length>0&&this.Ti.bs((function(){return e.Vi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ri=function(t){var e=this,n=this.ui.then((function(){return e.di=!0,t().catch((function(t){throw e.fi=t,e.di=!1,f("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.di=!1,t}))}));return this.ui=n,n},t.prototype.Ss=function(t,e,n){var r=this;this.Ai(),this.wi.indexOf(t)>-1&&(e=0);var i=ur.ri(this,t,e,n,(function(t){return r.yi(t)}));return this._i.push(i),i},t.prototype.Ai=function(){this.fi&&m()},t.prototype.pi=function(){},t.prototype.bi=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ui];case 1:e.sent(),e.label=2;case 2:if(t!==this.ui)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this._i;e<n.length;e++)if(n[e].ms===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e._i.sort((function(t,e){return t.ni-e.ni}));for(var n=0,r=e._i;n<r.length;n++){var i=r[n];if(i.Cs(),"all"!==t&&i.ms===t)break}return e.bi()}))},t.prototype.Di=function(t){this.wi.push(t)},t.prototype.yi=function(t){var e=this._i.indexOf(t);this._i.splice(e,1)},t}();function lr(t,e){if(f("AsyncQueue",e+": "+t),tr(t))return new O(x.UNAVAILABLE,e+": "+t);throw t}function hr(t,e){var n=t[1],r=e[1],i=_(t[0],e[0]);return 0===i?_(n,r):i}var dr=function(){function t(t){this.Ci=t,this.buffer=new rt(hr),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fr={$i:!1,xi:0,Oi:0,Mi:0},pr=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();pr.ji=-1,pr.Ki=1048576,pr.Gi=41943040,pr.Qi=10,pr.Wi=1e3,pr.zi=new pr(pr.Gi,pr.Qi,pr.Wi),pr.Hi=new pr(pr.ji,0,0);var gr=function(){function t(t,e){this.Yi=t,this.ei=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==pr.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ei.Ss("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return tr(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Oi(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),mr=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return $n.resolve(Kn.Es);var r=new dr(e);return this.nr.be(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===pr.ji?(d("LruGarbageCollector","Garbage collection skipped; disabled"),$n.resolve(fr)):this.cr(t).next((function(r){return r<n.params.Li?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),fr):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,r,i,s,a,u,c,l=this,f=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>l.params.Bi?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Bi+" from "+e),r=l.params.Bi):r=e,s=Date.now(),l.rr(t,r)})).next((function(r){return n=r,a=Date.now(),l.hr(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.ar(t,n)})).next((function(t){return c=Date.now(),h()<=o.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),$n.resolve({$i:!0,xi:r,Oi:i,Mi:t})}))},t}();function vr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=br(e)),e=yr(t.get(n),e);return br(e)}function yr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function br(t){return t+"\x01\x01"}function wr(t){var e=t.length;if(v(e>=2),2===e)return v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),R.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&m(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:m()}o=s+2}return new R(r)}var _r=function(t){this._r=t};function Er(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new en({mapValue:{fields:e.fields}});return new sn(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=V.K(e.noDocument.path),r=kr(e.noDocument.readTime);return new an(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=V.K(e.unknownDocument.path),o=kr(e.unknownDocument.version);return new un(i,o)}return m()}function Sr(t,e,n){var r=Ir(n),i=e.key.path.p().N();if(e instanceof sn){var o=function(t,e){return{name:re(t,e.key),fields:e.tn().mapValue.fields,updateTime:Zt(t,e.version.A())}}(t._r,e);return new Xr(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof an){var s=e.key.path.N(),a=Tr(e.version),u=e.hasCommittedMutations;return new Xr(null,new Yr(s,a),null,u,r,i)}if(e instanceof un){var c=e.key.path.N(),l=Tr(e.version);return new Xr(new Zr(c,l),null,null,!0,r,i)}return m()}function Ir(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Cr(t){var e=new N(t[0],t[1]);return P.I(e)}function Tr(t){var e=t.A();return new Gr(e.seconds,e.nanoseconds)}function kr(t){var e=new N(t.seconds,t.nanoseconds);return P.I(e)}function Ar(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),r=e.mutations.map((function(e){return he(t._r,e)})),i=N.fromMillis(e.localWriteTimeMs);return new Un(e.batchId,i,n,r)}function Dr(t){var e,n,r=kr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?kr(t.lastLimboFreeSnapshotVersion):P.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=gn(dn(se(n.documents[0])))):e=function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[_e(e)]:void 0!==e.fieldFilter?[we(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):m():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Mn(be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return j(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ge(n.startAt));var l=null;return n.endAt&&(l=ge(n.endAt)),gn(hn(e,i,a,s,u,"F",c,l))}(t.query),new Y(e,t.targetId,0,t.lastListenSequenceNumber,r,i,W.fromBase64String(t.resumeToken))}function xr(t,e){var n,r=Tr(e.Z),i=Tr(e.lastLimboFreeSnapshotVersion);n=z(e.target)?de(t._r,e.target):fe(t._r,e.target);var o=e.resumeToken.toBase64();return new ti(e.targetId,q(e.target),r,o,e.sequenceNumber,i,n)}var Or=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.zn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return v(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).Zs({index:Kr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,r){var i=this,o=Rr(t),s=Fr(t);return s.add({}).next((function(a){v("number"==typeof a);for(var u=new Un(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t._r,e)})),i=n.mutations.map((function(e){return le(t._r,e)}));return new Kr(e,n.batchId,n.Tn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new rt((function(t,e){return _(t.F(),e.F())})),d=0,f=r;d<f.length;d++){var p=f[d],g=Jr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(c)),l.push(o.put(g,Jr.PLACEHOLDER))}return h.forEach((function(e){l.push(i.zn.Ar(t,e))})),t.Wn((function(){i.wr[a]=u.keys()})),$n.Cn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return Fr(t).get(e).next((function(t){return t?(v(t.userId===n.userId),Ar(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?$n.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fr(t).Zs({index:Kr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r),o=Ar(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Vr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fr(t).Zs({index:Kr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).Hs(Kr.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ar(e.serializer,t)}))}))},t.prototype.Yn=function(t,e){var n=this,r=Jr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Rr(t).Zs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=wr(r[1]);if(a===n.userId&&e.path.isEqual(c))return Fr(t).get(u).next((function(t){if(!t)throw m();v(t.userId===n.userId),o.push(Ar(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.es=function(t,e){var n=this,r=new rt(_),i=[];return e.forEach((function(e){var o=Jr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Rr(t).Zs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=wr(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),$n.Cn(i).next((function(){return n.pr(t,r)}))},t.prototype.as=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rt(_);return Rr(t).Zs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=wr(t[1]);s===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Fr(t).get(e).next((function(t){if(null===t)throw m();v(t.userId===n.userId),r.push(Ar(n.serializer,t))})))})),$n.Cn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return Pr(t.vr,this.userId,e).next((function(r){return t.Wn((function(){n.Sr(e.batchId)})),$n.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return $n.resolve();var r=IDBKeyRange.lowerBound(Jr.prefixForUser(e.userId)),i=[];return Rr(t).Zs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=wr(t[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length)}))}))},t.prototype.Nr=function(t,e){return Nr(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Lr(t).get(this.userId).next((function(t){return t||new Wr(e.userId,-1,"")}))},t}();function Nr(t,e,n){var r=Jr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Rr(t).Zs({range:o,Xs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Pr(t,e,n){var r=t.store(Kr.store),i=t.store(Jr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Zs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){v(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Jr.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return $n.Cn(o).next((function(){return c}))}function Fr(t){return mi.Ms(t,Kr.store)}function Rr(t){return mi.Ms(t,Jr.store)}function Lr(t){return mi.Ms(t,Wr.store)}var Mr=function(){function t(t,e){this.serializer=t,this.zn=e}return t.prototype.xn=function(t,e,n){return jr(t).put(Ur(e),n)},t.prototype.Mn=function(t,e){var n=jr(t),r=Ur(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.Ln=function(t,e){var n=this;return jr(t).get(Ur(e)).next((function(t){return n.$r(t)}))},t.prototype.xr=function(t,e){var n=this;return jr(t).get(Ur(e)).next((function(t){var e=n.$r(t);return e?{Or:e,size:Br(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Mr(t,e,(function(t,e){var i=n.$r(e);r=r.st(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=at(),i=new tt(V.P);return this.Mr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.st(t,o),i=i.st(t,Br(e))):(r=r.st(t,null),i=i.st(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Mr=function(t,e,n){if(e._())return $n.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.ut(),o=i.wt();return jr(t).Zs({range:r},(function(t,e,r){for(var s=V.K(t);o&&V.P(o,s)<0;)n(o,null),o=i.wt();o&&o.isEqual(s)&&(n(o,e),o=i.Tt()?i.wt():null),o?r.Gs(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Tt()?i.wt():null}))},t.prototype.ns=function(t,e,n){var r=this,i=ct(),o=e.path.length+1,s={};if(n.isEqual(P.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=Ir(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xr.collectionReadTimeIndex}return jr(t).Zs(s,(function(t,n,s){if(t.length===o){var a=Er(r.serializer,n);e.path.D(a.key.path)?a instanceof sn&&En(e,a)&&(i=i.st(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=st(),i=Ir(e),o=jr(t),s=IDBKeyRange.lowerBound(i,!0);return o.Zs({index:Xr.readTimeIndex,range:s},(function(t,e){var o=Er(n.serializer,e);r=r.st(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:Cr(i)}}))},t.prototype.Wr=function(t){var e=jr(t),n=P.min();return e.Zs({index:Xr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Cr(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Vr(t).get(Qr.key).next((function(t){return v(!!t),t}))},t.prototype.kr=function(t,e){return Vr(t).put(Qr.key,e)},t.prototype.$r=function(t){if(t){var e=Er(this.serializer,t);return e instanceof an&&e.version.isEqual(P.min())?null:e}return null},t}();function Vr(t){return mi.Ms(t,Qr.store)}function jr(t){return mi.Ms(t,Xr.store)}function Ur(t){return t.path.N()}function Br(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}Mr.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new D((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[],r=0,i=new rt((function(t,e){return _(t.F(),e.F())}));return this.Fn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var u=Sr(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var c=Br(u);r+=c-a,n.push(e.Hr.xn(t,o,u))}else if(r-=a,e.Gr){var l=Sr(e.Hr.serializer,new an(o,P.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.zn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),$n.Cn(n)},e.prototype.qn=function(t,e){var n=this;return this.Hr.xr(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Or)}))},e.prototype.Bn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(Hn);var $r=function(){function t(){this.Jr=new Hr}return t.prototype.Ar=function(t,e){return this.Jr.add(e),$n.resolve()},t.prototype.hs=function(t,e){return $n.resolve(this.Jr.getEntries(e))},t}(),Hr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new rt(R.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rt(R.P)).N()},t}(),qr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=10);var o=new er(e);n<1&&r>=1&&(function(t){t.createObjectStore(zr.store)}(t),function(t){t.createObjectStore(Wr.store,{keyPath:Wr.keyPath}),t.createObjectStore(Kr.store,{keyPath:Kr.keyPath,autoIncrement:!0}).createIndex(Kr.userMutationsIndex,Kr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jr.store)}(t),ii(t),function(t){t.createObjectStore(Xr.store)}(t));var s=$n.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ei.store),t.deleteObjectStore(ti.store),t.deleteObjectStore(ni.store)}(t),ii(t)),s=s.next((function(){return function(t){var e=t.store(ni.store),n=new ni(0,0,P.min().A(),0);return e.put(ni.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Kr.store).Hs().next((function(n){t.deleteObjectStore(Kr.store),t.createObjectStore(Kr.store,{keyPath:Kr.keyPath,autoIncrement:!0}).createIndex(Kr.userMutationsIndex,Kr.userMutationsKeyPath,{unique:!0});var r=e.store(Kr.store),i=n.map((function(t){return r.put(t)}));return $n.Cn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(oi.store,{keyPath:oi.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Qr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xr.store);e.createIndex(Xr.readTimeIndex,Xr.readTimeIndexPath,{unique:!1}),e.createIndex(Xr.collectionReadTimeIndex,Xr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Xr.store).Zs((function(t,n){e+=Br(n)})).next((function(){var n=new Qr(e);return t.store(Qr.store).put(Qr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Wr.store),r=t.store(Kr.store);return n.Hs().next((function(n){return $n.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Hs(Kr.userMutationsIndex,i).next((function(r){return $n.forEach(r,(function(r){v(r.userId===n.userId);var i=Ar(e.serializer,r);return Pr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ei.store),n=t.store(Xr.store);return t.store(ni.store).get(ni.key).next((function(t){var r=[];return n.Zs((function(n,i){var o=new R(n),s=function(t){return[0,vr(t)]}(o);r.push(e.get(s).next((function(n){return n?$n.resolve():function(n){return e.put(new ei(0,vr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return $n.Cn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ri.store,{keyPath:ri.keyPath});var n=e.store(ri.store),r=new Hr,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:vr(i)})}};return e.store(Xr.store).Zs({Xs:!0},(function(t,e){var n=new R(t);return i(n.p())})).next((function(){return e.store(Jr.store).Zs({Xs:!0},(function(t,e){var n=wr(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ti.store);return n.Zs((function(t,r){var i=Dr(r),o=xr(e.serializer,i);return n.put(o)}))},t}(),Gr=function(t,e){this.seconds=t,this.nanoseconds=e},zr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zr.store="owner",zr.key="owner";var Wr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Wr.store="mutationQueues",Wr.keyPath="userId";var Kr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Kr.store="mutations",Kr.keyPath="batchId",Kr.userMutationsIndex="userMutationsIndex",Kr.userMutationsKeyPath=["userId","batchId"];var Jr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vr(e)]},t.key=function(t,e,n){return[t,vr(e),n]},t}();Jr.store="documentMutations",Jr.PLACEHOLDER=new Jr;var Yr=function(t,e){this.path=t,this.readTime=e},Zr=function(t,e){this.path=t,this.version=e},Xr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xr.store="remoteDocuments",Xr.readTimeIndex="readTimeIndex",Xr.readTimeIndexPath="readTime",Xr.collectionReadTimeIndex="collectionReadTimeIndex",Xr.collectionReadTimeIndexPath=["parentPath","readTime"];var Qr=function(t){this.byteSize=t};Qr.store="remoteDocumentGlobal",Qr.key="remoteDocumentGlobalKey";var ti=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ti.store="targets",ti.keyPath="targetId",ti.queryTargetsIndexName="queryTargetsIndex",ti.queryTargetsKeyPath=["canonicalId","targetId"];var ei=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ei.store="targetDocuments",ei.keyPath=["targetId","path"],ei.documentTargetsIndex="documentTargetsIndex",ei.documentTargetsKeyPath=["path","targetId"];var ni=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ni.key="targetGlobalKey",ni.store="targetGlobal";var ri=function(t,e){this.collectionId=t,this.parent=e};function ii(t){t.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.documentTargetsIndex,ei.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store,{keyPath:ti.keyPath}).createIndex(ti.queryTargetsIndexName,ti.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ni.store)}ri.store="collectionParents",ri.keyPath=["collectionId","parent"];var oi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};oi.store="clientMetadata",oi.keyPath="clientId";var si=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Wr.store,Kr.store,Jr.store,Xr.store,ti.store,zr.store,ni.store,ei.store],[oi.store]),[Qr.store]),[ri.store]),ai=function(){function t(){this.Xr=new Hr}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Wn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:vr(i)};return ui(t).put(o)}return $n.resolve()},t.prototype.hs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[S(e),""],!1,!0);return ui(t).Hs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wr(o.parent))}return n}))},t}();function ui(t){return mi.Ms(t,ri.store)}var ci=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),li=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new ci(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return P.I(new N(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.co(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return hi(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return v(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return hi(t).Zs((function(s,a){var u=Dr(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r._o(t,u)))})).next((function(){return $n.Cn(o)})).next((function(){return i}))},t.prototype.be=function(t,e){return hi(t).Zs((function(t,n){var r=Dr(n);e(r)}))},t.prototype.so=function(t){return di(t).get(ni.key).next((function(t){return v(null!==t),t}))},t.prototype.io=function(t,e){return di(t).put(ni.key,e)},t.prototype.uo=function(t,e){return hi(t).put(xr(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=q(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hi(t).Zs({range:r,index:ti.queryTargetsIndexName},(function(t,n,r){var o=Dr(n);G(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=fi(t);return e.forEach((function(e){var s=vr(e.path);i.push(o.put(new ei(n,s))),i.push(r.dr.Eo(t,n,e))})),$n.Cn(i)},t.prototype.Io=function(t,e,n){var r=this,i=fi(t);return $n.forEach(e,(function(e){var o=vr(e.path);return $n.Cn([i.delete([n,o]),r.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=fi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=fi(t),i=dt();return r.Zs({range:n,Xs:!0},(function(t,e,n){var r=wr(t[1]),o=new V(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=vr(e.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),i=0;return fi(t).Zs({index:ei.documentTargetsIndex,Xs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return hi(t).get(e).next((function(t){return t?Dr(t):null}))},t}();function hi(t){return mi.Ms(t,ti.store)}function di(t){return mi.Ms(t,ni.store)}function fi(t){return mi.Ms(t,ei.store)}var pi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return r.__extends(e,t),e}(Gn),mi=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Is=o,this.window=s,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.ks())throw new O(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new bi(this,i),this.No=n+"main",this.serializer=new _r(u),this.Fo=new Zn(this.No,10,new qr(this.serializer)),this.ko=new li(this.dr,this.serializer),this.zn=new ai,this.Kn=new Mr(this.serializer,this.zn),this.window&&this.window.localStorage?this.$o=this.window.localStorage:(this.$o=null,!1===l&&f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof gi)return Zn.Ms(t.vr,e);throw m()},t.prototype.start=function(){var t=this;return this.xo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,pi);return t.Oo(),t.Mo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new Kn(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.Bs((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Is.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.xo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return yi(e).put(new oi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Is.gi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(tr(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Is.gi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return vi(t).get(zr.key).next((function(t){return $n.resolve(e.Go(t))}))},t.prototype.zo=function(t){return yi(t).delete(this.clientId)},t.prototype.Ho=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,oi.store);return n.Hs().next((function(t){var e=o.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return $n.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.$o)for(n=0,i=e;n<i.length;n++)this.$o.removeItem(this.Xo(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Is.Ss("client_metadata_refresh",4e3,(function(){return t.xo().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?$n.resolve(!0):vi(t).get(zr.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,pi);return!1}}return!(!e.networkEnabled||!e.inForeground)||yi(t).Hs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.Fo.runTransaction("readwrite",[zr.store,oi.store],(function(e){var n=new gi(e,Kn.Es);return t.jo(n).next((function(){return t.zo(n)}))}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return yi(e).Hs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return Or.Tr(t,this.serializer,this.zn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.uh=function(){return this.zn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",t),this.Fo.runTransaction("readonly"===e?"readonly":"readwrite",si,(function(o){return r=new gi(o,i.yo?i.yo.next():Kn.Es),"readwrite-primary"===e?i.Qo(r).next((function(t){return!!t||i.Wo(r)})).next((function(e){if(!e)throw f("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Is.gi((function(){return i.Co(!1)})),new O(x.FAILED_PRECONDITION,qn);return n(r)})).next((function(t){return i.Ko(r).next((function(){return t}))})):i.lh(r).next((function(){return n(r)}))})).then((function(t){return r.jn(),t}))},t.prototype.lh=function(t){var e=this;return vi(t).get(zr.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new O(x.FAILED_PRECONDITION,pi)}))},t.prototype.Ko=function(t){var e=new zr(this.clientId,this.allowTabSynchronization,Date.now());return vi(t).put(zr.key,e)},t.ks=function(){return Zn.ks()},t.prototype.jo=function(t){var e=this,n=vi(t);return n.get(zr.key).next((function(t){return e.Go(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(zr.key)):$n.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(f("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Oo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Is.ai((function(){return t.inForeground="visible"===t.document.visibilityState,t.xo()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Is.ai((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.$o)||void 0===e?void 0:e.getItem(this.Xo(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return f("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.$o)try{this.$o.setItem(this.Xo(this.clientId),String(Date.now()))}catch(r){f("Failed to set zombie client id.",r)}},t.prototype.ih=function(){if(this.$o)try{this.$o.removeItem(this.Xo(this.clientId))}catch(r){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vi(t){return mi.Ms(t,zr.store)}function yi(t){return mi.Ms(t,oi.store)}var bi=function(){function t(t,e){this.db=t,this.Yi=new mr(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.be=function(t,e){return this.db.hh().be(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return wi(t,n)},t.prototype.mo=function(t,e,n){return wi(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return wi(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Lr(t).ti((function(r){return Nr(t,r,e).next((function(t){return t&&(n=!0),$n.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var u=n.dh(t,s).next((function(e){if(!e)return o++,r.Ln(t,s).next((function(){return r.Mn(s),fi(t).delete([0,vr(s.path)])}))}));i.push(u)}})).next((function(){return $n.Cn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.tt(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return wi(t,e)},t.prototype.fh=function(t,e){var n,r=fi(t),i=Kn.Es;return r.Zs({index:ei.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Kn.Es&&e(new V(wr(n)),i),i=s,n=o):i=Kn.Es})).next((function(){i!==Kn.Es&&e(new V(wr(n)),i)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function wi(t,e){return fi(t).put(function(t,e){return new ei(0,vr(t.path),e)}(e,t.Ro))}function _i(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ei=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(_),this.Ih=new D((function(t){return q(t)}),G),this.mh=P.min(),this.Gn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new zn(this.Ah,this.Gn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function Si(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ah.jr({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=$n.resolve();return o.forEach((function(t){s=s.next((function(){return r.Ln(e,t)})).next((function(e){var o=e,s=n.Pn.get(t);v(null!==s),(!o||o.version.o(s)<0)&&(o=i.En(t,o,n))&&r.xn(o,n.Rn)}))})),s.next((function(){return t.Gn.br(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}function Ii(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ko.ro(t)}))}function Ci(t,e){var n=y(t),r=e.Z,i=n.Eh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ah.jr({Gr:!0});i=n.Eh;var s=[];e.Wt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.ko.Io(t,e.Zt,o).next((function(){return n.ko.To(t,e.Jt,o)})));var u=e.resumeToken;if(u.Y()>0){var c=a.et(u,r).tt(t.Ro);i=i.st(o,c),function(t,e,n){return v(e.resumeToken.Y()>0),0===t.resumeToken.Y()||e.Z.m()-t.Z.m()>=3e8||n.Jt.size+n.Xt.size+n.Zt.size>0}(a,c,e)&&s.push(n.ko.lo(t,c))}}}));var a=st(),u=dt();if(e.Kt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Kt.forEach((function(u,c){var l=i.get(u);c instanceof an&&c.version.isEqual(P.min())?(o.Mn(u,r),a=a.st(u,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(o.xn(c,r),a=a.st(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Gt.has(u)&&s.push(n.persistence.dr.wh(t,u))}))}))),!r.isEqual(P.min())){var c=n.ko.ro(t).next((function(e){return n.ko.ho(t,t.Ro,r)}));s.push(c)}return $n.Cn(s).next((function(){return o.apply(t)})).next((function(){return n.Rh.ts(t,a)}))})).then((function(t){return n.Eh=i,t}))}function Ti(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Gn.gr(t,e)}))}function ki(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ko.wo(t,e).next((function(i){return i?$n.resolve(r=i):n.ko.no(t).next((function(i){return r=new Y(e,i,0,t.Ro),n.ko.ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Eh.get(t.targetId);return(null===r||t.Z.o(r.Z)>0)&&(n.Eh=n.Eh.st(t.targetId,t),n.Ih.set(e,t.targetId)),t}))}function Ai(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=y(t),o=i.Eh.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.dr.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!tr(a=r.sent()))throw a;return d("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Eh=i.Eh.remove(e),i.Ih.delete(o.target),[2]}}))}))}function Di(t,e,n){var r=y(t),i=P.min(),o=dt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.Ih.get(n);return void 0!==i?$n.resolve(r.Eh.get(i)):r.ko.wo(e,n)}(r,t,gn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ko.Ao(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Th.ns(t,e,n?i:P.min(),n?o:dt())})).next((function(t){return{documents:t,gh:o}}))}))}function xi(t,e){var n=y(t),r=y(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function Oi(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==x.FAILED_PRECONDITION||t.message!==qn)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Ni=function(){function t(){this.Vh=new rt(Pi.yh),this.ph=new rt(Pi.bh)}return t.prototype._=function(){return this.Vh._()},t.prototype.Eo=function(t,e){var n=new Pi(t,e);this.Vh=this.Vh.add(n),this.ph=this.ph.add(n)},t.prototype.vh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Sh(new Pi(t,e))},t.prototype.Dh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.Ch=function(t){var e=this,n=new V(new R([])),r=new Pi(n,t),i=new Pi(n,t+1),o=[];return this.ph.St([r,i],(function(t){e.Sh(t),o.push(t.key)})),o},t.prototype.Nh=function(){var t=this;this.Vh.forEach((function(e){return t.Sh(e)}))},t.prototype.Sh=function(t){this.Vh=this.Vh.delete(t),this.ph=this.ph.delete(t)},t.prototype.Fh=function(t){var e=new V(new R([])),n=new Pi(e,t),r=new Pi(e,t+1),i=dt();return this.ph.St([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new Pi(t,0),n=this.Vh.Ct(e);return null!==n&&t.isEqual(n.key)},t}(),Pi=function(){function t(t,e){this.key=t,this.kh=e}return t.yh=function(t,e){return V.P(t.key,e.key)||_(t.kh,e.kh)},t.bh=function(t,e){return _(t.kh,e.kh)||V.P(t.key,e.key)},t}(),Fi=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.$h=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fi.UNAUTHENTICATED=new Fi(null),Fi.xh=new Fi("google-credentials-uid"),Fi.Oh=new Fi("first-party-uid");var Ri=function(t,e){this.user=e,this.type="OAuth",this.Mh={},this.Mh.Authorization="Bearer "+t},Li=function(){function t(){this.Lh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.qh=function(){},t.prototype.Bh=function(t){this.Lh=t,t(Fi.UNAUTHENTICATED)},t.prototype.Uh=function(){this.Lh=null},t}(),Mi=function(){function t(t){var e=this;this.Qh=null,this.currentUser=Fi.UNAUTHENTICATED,this.Wh=!1,this.jh=0,this.Lh=null,this.forceRefresh=!1,this.Qh=function(){e.jh++,e.currentUser=e.Kh(),e.Wh=!0,e.Lh&&e.Lh(e.currentUser)},this.jh=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qh):(this.Qh(null),t.get().then((function(t){e.auth=t,e.Qh&&e.auth.addAuthTokenListener(e.Qh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.jh,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.jh!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new Ri(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.qh=function(){this.forceRefresh=!0},t.prototype.Bh=function(t){this.Lh=t,this.Wh&&t(this.currentUser)},t.prototype.Uh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qh),this.Qh=null,this.Lh=null},t.prototype.Kh=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Fi(t)},t}(),Vi=function(){function t(t,e){this.Gh=t,this.zh=e,this.type="FirstParty",this.user=Fi.Oh}return Object.defineProperty(t.prototype,"Mh",{get:function(){var t={"X-Goog-AuthUser":this.zh},e=this.Gh.auth.Hh([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ji=function(){function t(t,e){this.Gh=t,this.zh=e}return t.prototype.getToken=function(){return Promise.resolve(new Vi(this.Gh,this.zh))},t.prototype.Bh=function(t){t(Fi.Oh)},t.prototype.Uh=function(){},t.prototype.qh=function(){},t}(),Ui=function(){function t(t,e,n,r,i,o){this.Is=t,this.Yh=n,this.Jh=r,this.Xh=i,this.listener=o,this.state=0,this.Zh=0,this.ta=null,this.stream=null,this.Ti=new Yn(t,e)}return t.prototype.ea=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.na=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sa()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ea()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){this.state=0,this.Ti.reset()},t.prototype.ra=function(){var t=this;this.na()&&null===this.ta&&(this.ta=this.Is.Ss(this.Yh,6e4,(function(){return t.oa()})))},t.prototype.ha=function(t){this.aa(),this.stream.send(t)},t.prototype.oa=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.na()?[2,this.close(0)]:[2]}))}))},t.prototype.aa=function(){this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.aa(),this.Ti.cancel(),this.Zh++,3!==t?this.Ti.reset():e&&e.code===x.RESOURCE_EXHAUSTED?(f(e.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.Ti.ps()):e&&e.code===x.UNAUTHENTICATED&&this.Xh.qh(),null!==this.stream&&(this.ua(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ca(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ua=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.la(this.Zh),n=this.Zh;this.Xh.getToken().then((function(e){t.Zh===n&&t._a(e)}),(function(n){e((function(){var e=new O(x.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fa(e)}))}))},t.prototype._a=function(t){var e=this,n=this.la(this.Zh);this.stream=this.da(t),this.stream.wa((function(){n((function(){return e.state=2,e.listener.wa()}))})),this.stream.ca((function(t){n((function(){return e.fa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sa=function(){var t=this;this.state=4,this.Ti.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fa=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.la=function(t){var e=this;return function(n){e.Is.ai((function(){return e.Zh===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Bi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.da=function(t){return this.Jh.Ta("Listen",t)},e.prototype.onMessage=function(t){this.Ti.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Le?(v(void 0===e||"string"==typeof e),W.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),W.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?x.UNKNOWN:Q(t.code);return new O(e,t.message||"")}(s);n=new Et(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=ie(t,u.document.name),l=te(u.document.updateTime),h=new en({mapValue:{fields:u.document.fields}}),d=new sn(c,l,h,{});n=new wt(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=ie(t,f.document),g=f.readTime?te(f.readTime):P.min(),y=new an(p,g);n=new wt([],f.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var b=e.documentRemove,w=ie(t,b.document);n=new wt([],b.removedTargetIds||[],w,null)}else{if(!("filter"in e))return m();var _=e.filter,E=new Z(_.count||0);n=new _t(_.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return P.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?te(e.readTime):P.min()}(t);return this.listener.Ea(e,n)},e.prototype.Ia=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=z(r)?{documents:de(t,r)}:{query:fe(t,r)}).targetId=e.targetId,e.resumeToken.Y()>0&&(n.resumeToken=Xt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.X);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ha(e)},e.prototype.ma=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ha(e)},e}(Ui),$i=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Aa=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"Ra",{get:function(){return this.Aa},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Aa=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ua=function(){this.Aa&&this.Pa([])},e.prototype.da=function(t){return this.Jh.Ta("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Aa){this.Ti.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map((function(t){return function(t,e){var n=te(t.updateTime?t.updateTime:e);n.isEqual(P.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ve(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.ga(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.Aa=!0,this.listener.Va()},e.prototype.ya=function(){var t={};t.database=ae(this.serializer),this.ha(t)},e.prototype.Pa=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.ha(n)},e}(Ui),Hi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Jh=n,i.serializer=r,i.pa=!1,i}return r.__extends(e,t),e.prototype.ba=function(){if(this.pa)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.va=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.va(t,e,n,i)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.Sa=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.Sa(t,e,n,i)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.terminate=function(){this.pa=!1},e}((function(){})),qi=function(){function t(t,e){this.ei=t,this.Da=e,this.state="Unknown",this.Ca=0,this.Na=null,this.Fa=!0}return t.prototype.ka=function(){var t=this;0===this.Ca&&(this.$a("Unknown"),this.Na=this.ei.Ss("online_state_timeout",1e4,(function(){return t.Na=null,t.xa("Backend didn't respond within 10 seconds."),t.$a("Offline"),Promise.resolve()})))},t.prototype.Oa=function(t){"Online"===this.state?this.$a("Unknown"):(this.Ca++,this.Ca>=1&&(this.Ma(),this.xa("Connection failed 1 times. Most recent error: "+t.toString()),this.$a("Offline")))},t.prototype.set=function(t){this.Ma(),this.Ca=0,"Online"===t&&(this.Fa=!1),this.$a(t)},t.prototype.$a=function(t){t!==this.state&&(this.state=t,this.Da(t))},t.prototype.xa=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fa?(f(e),this.Fa=!1):d("OnlineStateTracker",e)},t.prototype.Ma=function(){null!==this.Na&&(this.Na.cancel(),this.Na=null)},t}(),Gi=function(){function t(t,e,n,i,o){var s=this;this.La=t,this.qa=e,this.ei=n,this.Ba=[],this.Ua=new Map,this.Qa=null,this.Wa=new Set,this.ja=o,this.ja.Ka((function(t){n.ai((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.za()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ha=new qi(n,i),this.Ya=function(t,e,n){var r=y(t);return r.ba(),new Bi(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.Ja.bind(this),ca:this.Xa.bind(this),Ea:this.Za.bind(this)}),this.tu=function(t,e,n){var r=y(t);return r.ba(),new $i(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.eu.bind(this),ca:this.nu.bind(this),Va:this.su.bind(this),ga:this.ga.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Wa.delete(0),this.iu()},t.prototype.iu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(this.ru()?this.ou():this.Ha.set("Unknown"),[4,this.hu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(0),[4,this.au()];case 1:return t.sent(),this.Ha.set("Offline"),[2]}}))}))},t.prototype.au=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.tu.stop()];case 1:return t.sent(),[4,this.Ya.stop()];case 2:return t.sent(),this.Ba.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ba.length+" pending writes"),this.Ba=[]),this.uu(),[2]}}))}))},t.prototype.th=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Wa.add(5),[4,this.au()];case 1:return t.sent(),this.ja.th(),this.Ha.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ua.has(t.targetId)||(this.Ua.set(t.targetId,t),this.ru()?this.ou():this.Ya.na()&&this.cu(t))},t.prototype.lu=function(t){this.Ua.delete(t),this.Ya.na()&&this._u(t),0===this.Ua.size&&(this.Ya.na()?this.Ya.ra():this.Ga()&&this.Ha.set("Unknown"))},t.prototype.Me=function(t){return this.Ua.get(t)||null},t.prototype.Oe=function(t){return this.fu.Oe(t)},t.prototype.cu=function(t){this.Qa.we(t.targetId),this.Ya.Ia(t)},t.prototype._u=function(t){this.Qa.we(t),this.Ya.ma(t)},t.prototype.ou=function(){this.Qa=new It(this),this.Ya.start(),this.Ha.ka()},t.prototype.ru=function(){return this.Ga()&&!this.Ya.ea()&&this.Ua.size>0},t.prototype.Ga=function(){return 0===this.Wa.size},t.prototype.uu=function(){this.Qa=null},t.prototype.Ja=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.Ua.forEach((function(e,n){t.cu(e)})),[2]}))}))},t.prototype.Xa=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.uu(),this.ru()?(this.Ha.Oa(t),this.ou()):this.Ha.set("Unknown"),[2]}))}))},t.prototype.Za=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.Ha.set("Online"),!(t instanceof Et&&2===t.state&&t.cause))return[3,6];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.du(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.wu(n)];case 4:return r.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof wt?this.Qa.ge(t):t instanceof _t?this.Qa.Ce(t):this.Qa.pe(t),e.isEqual(P.min()))return[3,13];r.label=7;case 7:return r.trys.push([7,11,,13]),[4,Ii(this.La)];case 8:return i=r.sent(),e.o(i)>=0?[4,this.Tu(e)]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=r.sent()),[4,this.wu(o)];case 12:return r.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.wu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(!tr(t))throw t;return this.Wa.add(1),[4,this.au()];case 1:return i.sent(),this.Ha.set("Offline"),e||(e=function(){return Ii(n.La)}),this.ei.gi((function(){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Wa.delete(1),[4,this.iu()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Eu=function(t){var e=this;return t().catch((function(n){return e.wu(n,t)}))},t.prototype.Tu=function(t){var e=this,n=this.Qa.ke(t);return n.Wt.forEach((function(n,r){if(n.resumeToken.Y()>0){var i=e.Ua.get(r);i&&e.Ua.set(r,i.et(n.resumeToken,t))}})),n.jt.forEach((function(t){var n=e.Ua.get(t);if(n){e.Ua.set(t,n.et(W.J,n.Z)),e._u(t);var r=new Y(n.target,t,1,n.sequenceNumber);e.cu(r)}})),this.fu.Iu(n)},t.prototype.du=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=t.cause,n=0,i=t.targetIds,r.label=1;case 1:return n<i.length?this.Ua.has(o=i[n])?[4,this.fu.mu(o,e)]:[3,3]:[3,5];case 2:r.sent(),this.Ua.delete(o),this.Qa.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.hu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n;return r.__generator(this,(function(r){switch(r.label){case 0:t=this.Ba.length>0?this.Ba[this.Ba.length-1].batchId:-1,r.label=1;case 1:if(!this.Au())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ti(this.La,t)];case 3:return null===(e=r.sent())?(0===this.Ba.length&&this.tu.ra(),[3,7]):(t=e.batchId,this.Ru(e),[3,6]);case 4:return n=r.sent(),[4,this.wu(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.Au=function(){return this.Ga()&&this.Ba.length<10},t.prototype.Vu=function(){return this.Ba.length},t.prototype.Ru=function(t){this.Ba.push(t),this.tu.na()&&this.tu.Ra&&this.tu.Pa(t.mutations)},t.prototype.Pu=function(){return this.Ga()&&!this.tu.ea()&&this.Ba.length>0},t.prototype.gu=function(){this.tu.start()},t.prototype.eu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.tu.ya(),[2]}))}))},t.prototype.su=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e;return r.__generator(this,(function(n){for(t=0,e=this.Ba;t<e.length;t++)this.tu.Pa(e[t].mutations);return[2]}))}))},t.prototype.ga=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=this.Ba.shift(),i=Bn.from(n,t,e),[4,this.Eu((function(){return o.fu.yu(i)}))];case 1:return r.sent(),[4,this.hu()];case 2:return r.sent(),[2]}}))}))},t.prototype.nu=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t&&this.tu.Ra?[4,this.pu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.pu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return X(n=t.code)&&n!==x.ABORTED?(e=this.Ba.shift(),this.tu.ia(),[4,this.Eu((function(){return i.fu.bu(e.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,this.hu()];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.za=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(4),[4,this.au()];case 1:return t.sent(),this.Ha.set("Unknown"),this.tu.ia(),this.Ya.ia(),this.Wa.delete(4),[4,this.iu()];case 2:return t.sent(),[2]}}))}))},t.prototype.vu=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.ei.pi(),d("RemoteStore","RemoteStore received new credentials"),this.Wa.add(3),[4,this.au()];case 1:return e.sent(),this.Ha.set("Unknown"),[4,this.fu.vu(t)];case 2:return e.sent(),this.Wa.delete(3),[4,this.iu()];case 3:return e.sent(),[2]}}))}))},t.prototype.Su=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Wa.delete(2),[4,this.iu()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Wa.add(2),[4,this.au()]);case 3:e.sent(),this.Ha.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function zi(t,e){return"firestore_clients_"+t+"_"+e}function Wi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function Ki(t,e){return"firestore_targets_"+t+"_"+e}var Ji=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Du=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new O(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(f("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new O(r.error.code,r.error.message)),i?new t(e,r.state,o):(f("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pt(),s=0;i&&s<r.activeTargetIds.length;++s)i=B(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(f("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(f("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qi=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Nu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Fu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Cu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),to=function(){function t(t,e,n,r,i){this.window=t,this.Is=e,this.persistenceKey=n,this.ku=r,this.fu=null,this.Da=null,this.fs=null,this.$u=this.xu.bind(this),this.Ou=new tt(_),this.tr=!1,this.Mu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Lu=zi(this.persistenceKey,this.ku),this.qu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ou=this.Ou.st(this.ku,new Qi),this.Bu=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Uu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Qu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Wu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.$u)}return t.ks=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fu.rh()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.ku&&(o=this.getItem(zi(this.persistenceKey,i)))&&(s=Zi.Du(i,o))&&(this.Ou=this.Ou.st(s.clientId,s));for(this.ju(),(a=this.storage.getItem(this.Wu))&&(u=this.Ku(a))&&this.Gu(u),c=0,l=this.Mu;c<l.length;c++)this.xu(l[c]);return this.Mu=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.Ts=function(t){this.setItem(this.qu,JSON.stringify(t))},t.prototype.zu=function(){return this.Hu(this.Ou)},t.prototype.Yu=function(t){var e=!1;return this.Ou.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ju=function(t){this.Xu(t,"pending")},t.prototype.Zu=function(t,e,n){this.Xu(t,e,n),this.tc(t)},t.prototype.ec=function(t){var e="not-current";if(this.Yu(t)){var n=this.storage.getItem(Ki(this.persistenceKey,t));if(n){var r=Yi.Du(t,n);r&&(e=r.state)}}return this.nc.Nu(t),this.ju(),e},t.prototype.sc=function(t){this.nc.Fu(t),this.ju()},t.prototype.ic=function(t){return this.nc.activeTargetIds.has(t)},t.prototype.rc=function(t){this.removeItem(Ki(this.persistenceKey,t))},t.prototype.oc=function(t,e,n){this.hc(t,e,n)},t.prototype.ac=function(t,e,n){var r=this;e.forEach((function(t){r.tc(t)})),this.currentUser=t,n.forEach((function(t){r.Ju(t)}))},t.prototype.uc=function(t){this.cc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.$u),this.removeItem(this.Lu),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Lu)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Is.gi((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.tr){if(null!==n.key)if(this.Bu.test(n.key)){if(null==n.newValue)return t=this.lc(n.key),[2,this._c(t,null)];if(e=this.fc(n.key,n.newValue))return[2,this._c(e.clientId,e)]}else if(this.Uu.test(n.key)){if(null!==n.newValue&&(i=this.dc(n.key,n.newValue)))return[2,this.wc(i)]}else if(this.Qu.test(n.key)){if(null!==n.newValue&&(o=this.Tc(n.key,n.newValue)))return[2,this.Ec(o)]}else if(n.key===this.Wu){if(null!==n.newValue&&(s=this.Ku(n.newValue)))return[2,this.Gu(s)]}else n.key===this.qu&&(a=function(t){var e=Kn.Es;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){f("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Kn.Es&&this.fs(a)}else this.Mu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"nc",{get:function(){return this.Ou.get(this.ku)},enumerable:!1,configurable:!0}),t.prototype.ju=function(){this.setItem(this.Lu,this.nc.Cu())},t.prototype.Xu=function(t,e,n){var r=new Ji(this.currentUser,t,e,n),i=Wi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Cu())},t.prototype.tc=function(t){var e=Wi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.cc=function(t){this.storage.setItem(this.Wu,JSON.stringify({clientId:this.ku,onlineState:t}))},t.prototype.hc=function(t,e,n){var r=Ki(this.persistenceKey,t),i=new Yi(t,e,n);this.setItem(r,i.Cu())},t.prototype.lc=function(t){var e=this.Bu.exec(t);return e?e[1]:null},t.prototype.fc=function(t,e){var n=this.lc(t);return Zi.Du(n,e)},t.prototype.dc=function(t,e){var n=this.Uu.exec(t),r=Number(n[1]);return Ji.Du(new Fi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Tc=function(t,e){var n=this.Qu.exec(t),r=Number(n[1]);return Yi.Du(r,e)},t.prototype.Ku=function(t){return Xi.Du(t)},t.prototype.wc=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fu.Ic(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Ec=function(t){return this.fu.mc(t.targetId,t.state,t.error)},t.prototype._c=function(t,e){var n=this,r=e?this.Ou.st(t,e):this.Ou.remove(t),i=this.Hu(this.Ou),o=this.Hu(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fu.Ac(s,a).then((function(){n.Ou=r}))},t.prototype.Gu=function(t){this.Ou.get(t.clientId)&&this.Da(t.onlineState)},t.prototype.Hu=function(t){var e=pt();return t.forEach((function(t,n){e=e.Nt(n.activeTargetIds)})),e},t}(),eo=function(){function t(){this.Rc=new Qi,this.Pc={},this.Da=null,this.fs=null}return t.prototype.Ju=function(t){},t.prototype.Zu=function(t,e,n){},t.prototype.ec=function(t){return this.Rc.Nu(t),this.Pc[t]||"not-current"},t.prototype.oc=function(t,e,n){this.Pc[t]=e},t.prototype.sc=function(t){this.Rc.Fu(t)},t.prototype.ic=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.rc=function(t){delete this.Pc[t]},t.prototype.zu=function(){return this.Rc.activeTargetIds},t.prototype.Yu=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.start=function(){return this.Rc=new Qi,Promise.resolve()},t.prototype.ac=function(t,e,n){},t.prototype.uc=function(t){},t.prototype.th=function(){},t.prototype.Ts=function(t){},t}(),no=function(t){this.key=t},ro=function(t){this.key=t},io=function(){function t(t,e){this.query=t,this.gc=e,this.Vc=null,this.Yt=!1,this.yc=dt(),this.qt=dt(),this.pc=Sn(t),this.bc=new gt(this.pc)}return Object.defineProperty(t.prototype,"vc",{get:function(){return this.gc},enumerable:!1,configurable:!0}),t.prototype.Sc=function(t,e){var n=this,r=e?e.Dc:new mt,i=e?e.bc:this.bc,o=e?e.qt:this.qt,s=i,a=!1,u=this.query.an()&&i.size===this.query.limit?i.last():null,c=this.query.un()&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof sn?e:null;h&&(h=En(n.query,h)?h:null);var d=!!l&&n.qt.has(l.key),f=!!h&&(h.Ge||n.qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Cc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.pc(h,u)>0||c&&n.pc(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.an()||this.query.un())for(;s.size>this.query.limit;){var l=this.query.an()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{bc:s,Dc:r,Nc:a,qt:o}},t.prototype.Cc=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Un=function(t,e,n){var r=this,i=this.bc;this.bc=t.bc,this.qt=t.qt;var o=t.Dc.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r.pc(t.doc,e.doc)})),this.Fc(n);var s=e?this.kc():[],a=0===this.yc.size&&this.Yt?1:0,u=a!==this.Vc;return this.Vc=a,0!==o.length||u?{snapshot:new vt(this.query,t.bc,i,o,t.qt,0===a,u,!1),$c:s}:{$c:s}},t.prototype.xc=function(t){return this.Yt&&"Offline"===t?(this.Yt=!1,this.Un({bc:this.bc,Dc:new mt,qt:this.qt,Nc:!1},!1)):{$c:[]}},t.prototype.Oc=function(t){return!this.gc.has(t)&&!!this.bc.has(t)&&!this.bc.get(t).Ge},t.prototype.Fc=function(t){var e=this;t&&(t.Jt.forEach((function(t){return e.gc=e.gc.add(t)})),t.Xt.forEach((function(t){})),t.Zt.forEach((function(t){return e.gc=e.gc.delete(t)})),this.Yt=t.Yt)},t.prototype.kc=function(){var t=this;if(!this.Yt)return[];var e=this.yc;this.yc=dt(),this.bc.forEach((function(e){t.Oc(e.key)&&(t.yc=t.yc.add(e.key))}));var n=[];return e.forEach((function(e){t.yc.has(e)||n.push(new ro(e))})),this.yc.forEach((function(t){e.has(t)||n.push(new no(t))})),n},t.prototype.Mc=function(t){this.gc=t.gh,this.yc=dt();var e=this.Sc(t.documents);return this.Un(e,!0)},t.prototype.Lc=function(){return vt.Qt(this.query,this.bc,this.qt,0===this.Vc)},t}(),oo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},so=function(t){this.key=t,this.qc=!1},ao=function(){function t(t,e,n,r,i,o){this.La=t,this.Bc=e,this.qa=n,this.Uc=r,this.currentUser=i,this.Qc=o,this.Wc=null,this.jc=new D((function(t){return wn(t)}),bn),this.Kc=new Map,this.Gc=[],this.zc=new tt(V.P),this.Hc=new Map,this.Yc=new Ni,this.Jc={},this.Xc=new Map,this.Zc=ci.eo(),this.onlineState="Unknown",this.tl=void 0}return Object.defineProperty(t.prototype,"el",{get:function(){return!0===this.tl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Wc=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("listen()"),(n=this.jc.get(t))?(this.Uc.ec(n.targetId),e=n.view.Lc(),[3,4]):[3,1];case 1:return[4,ki(this.La,gn(t))];case 2:return i=r.sent(),o=this.Uc.ec(i.targetId),[4,this.sl(t,i.targetId,"current"===o)];case 3:e=r.sent(),this.el&&this.Bc.listen(i),r.label=4;case 4:return[2,e]}}))}))},t.prototype.sl=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Di(this.La,t,!0)];case 1:return i=r.sent(),o=new io(t,i.gh),s=o.Sc(i.documents),a=bt.Ht(e,n&&"Offline"!==this.onlineState),u=o.Un(s,this.el,a),this.il(e,u.$c),c=new oo(t,e,o),[2,(this.jc.set(t,c),this.Kc.has(e)?this.Kc.get(e).push(t):this.Kc.set(e,[t]),u.snapshot)]}}))}))},t.prototype.lu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("unlisten()"),e=this.jc.get(t),(n=this.Kc.get(e.targetId)).length>1?[2,(this.Kc.set(e.targetId,n.filter((function(e){return!bn(e,t)}))),void this.jc.delete(t))]:this.el?(this.Uc.sc(e.targetId),this.Uc.Yu(e.targetId)?[3,2]:[4,Ai(this.La,e.targetId,!1).then((function(){i.Uc.rc(e.targetId),i.Bc.lu(e.targetId),i.rl(e.targetId)})).catch(Oi)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.rl(e.targetId),[4,Ai(this.La,e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=N.now(),o=e.reduce((function(t,e){return t.add(e.key)}),dt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Rh.Zn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=qe(c,n.get(c.key));null!=l&&s.push(new Ke(c.key,l,rn(l.proto.mapValue),je.exists(!0)))}return r.Gn.mr(t,i,s,e)}))})).then((function(t){var e=t.An(n);return{batchId:t.batchId,Fn:e}}))}(this.La,t)];case 2:return n=r.sent(),this.Uc.Ju(n.batchId),this.ol(n.batchId,e),[4,this.hl(n.Fn)];case 3:return r.sent(),[4,this.Bc.hu()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),o=lr(i,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.Iu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ci(this.La,t)];case 2:return e=r.sent(),t.Wt.forEach((function(t,e){var r=n.Hc.get(e);r&&(v(t.Jt.size+t.Xt.size+t.Zt.size<=1),t.Jt.size>0?r.qc=!0:t.Xt.size>0?v(r.qc):t.Zt.size>0&&(v(r.qc),r.qc=!1))})),[4,this.hl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Oi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xc=function(t,e){if(this.el&&0===e||!this.el&&1===e){this.nl("applyOnlineStateChange()");var n=[];this.jc.forEach((function(e,r){var i=r.view.xc(t);i.snapshot&&n.push(i.snapshot)})),this.Wc.al(t),this.Wc.Ea(n),this.onlineState=t,this.el&&this.Uc.uc(t)}},t.prototype.mu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("rejectListens()"),this.Uc.oc(t,"rejected",e),n=this.Hc.get(t),(i=n&&n.key)?(o=(o=new tt(V.P)).st(i,new an(i,P.min())),s=dt().add(i),a=new yt(P.min(),new Map,new rt(_),o,s),[4,this.Iu(a)]):[3,2];case 1:return r.sent(),this.zc=this.zc.remove(i),this.Hc.delete(t),this.ul(),[3,4];case 2:return[4,Ai(this.La,t,!1).then((function(){return u.rl(t,e)})).catch(Oi)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.yu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(this.La,t)];case 2:return n=r.sent(),this.cl(e,null),this.ll(e),this.Uc.Zu(e,"acknowledged"),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Oi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Gn.Rr(t,e).next((function(e){return v(null!==e),r=e.keys(),n.Gn.br(t,e)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}(this.La,t)];case 2:return n=r.sent(),this.cl(t,e),this.ll(t),this.Uc.Zu(t,"rejected",e),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Oi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._l=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.Bc.Ga()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Gn.Vr(t)}))}(this.La)];case 2:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.Xc.get(e)||[]).push(t),this.Xc.set(e,n),[3,4]);case 3:return i=r.sent(),o=lr(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.ll=function(t){(this.Xc.get(t)||[]).forEach((function(t){t.resolve()})),this.Xc.delete(t)},t.prototype.fl=function(t){this.Xc.forEach((function(e){e.forEach((function(e){e.reject(new O(x.CANCELLED,t))}))})),this.Xc.clear()},t.prototype.ol=function(t,e){var n=this.Jc[this.currentUser.$h()];n||(n=new tt(_)),n=n.st(t,e),this.Jc[this.currentUser.$h()]=n},t.prototype.cl=function(t,e){var n=this.Jc[this.currentUser.$h()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Jc[this.currentUser.$h()]=n}},t.prototype.rl=function(t,e){var n=this;void 0===e&&(e=null),this.Uc.sc(t);for(var r=0,i=this.Kc.get(t);r<i.length;r++){var o=i[r];this.jc.delete(o),e&&this.Wc.dl(o,e)}this.Kc.delete(t),this.el&&this.Yc.Ch(t).forEach((function(t){n.Yc.Nr(t)||n.wl(t)}))},t.prototype.wl=function(t){var e=this.zc.get(t);null!==e&&(this.Bc.lu(e),this.zc=this.zc.remove(t),this.Hc.delete(e),this.ul())},t.prototype.il=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof no?(this.Yc.Eo(i.key,t),this.Tl(i)):i instanceof ro?(d("SyncEngine","Document no longer in limbo: "+i.key),this.Yc.mo(i.key,t),this.Yc.Nr(i.key)||this.wl(i.key)):m()}},t.prototype.Tl=function(t){var e=t.key;this.zc.get(e)||(d("SyncEngine","New document in limbo: "+e),this.Gc.push(e),this.ul())},t.prototype.ul=function(){for(;this.Gc.length>0&&this.zc.size<this.Qc;){var t=this.Gc.shift(),e=this.Zc.next();this.Hc.set(e,new so(t)),this.zc=this.zc.st(t,e),this.Bc.listen(new Y(gn(dn(t.path)),e,2,Kn.Es))}},t.prototype.El=function(){return this.zc},t.prototype.Il=function(){return this.Gc},t.prototype.hl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(a){switch(a.label){case 0:return n=[],i=[],o=[],this.jc.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Sc(t);return e.Nc?Di(s.La,a.query,!1).then((function(t){return a.view.Sc(t.documents,e)})):e})).then((function(t){var r=e&&e.Wt.get(a.targetId),o=a.view.Un(t,s.el,r);if(s.il(a.targetId,o.$c),o.snapshot){s.el&&s.Uc.oc(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Wn._s(a.targetId,o.snapshot);i.push(u)}})))})),[4,Promise.all(o)];case 1:return a.sent(),this.Wc.Ea(n),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return $n.forEach(e,(function(e){return $n.forEach(e.cs,(function(r){return n.persistence.dr.Eo(t,e.targetId,r)})).next((function(){return $n.forEach(e.ls,(function(r){return n.persistence.dr.mo(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!tr(i=r.sent()))throw i;return d("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.Eh.get(u),l=c.nt(c.Z),n.Eh=n.Eh.st(u,l));return[2]}}))}))}(this.La,i)];case 2:return a.sent(),[2]}}))}))},t.prototype.nl=function(t){},t.prototype.vu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.$h()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=y(t),i=n.Gn,o=n.Rh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Gn.yr(t).next((function(s){return r=s,i=n.persistence.oh(e),o=new zn(n.Ah,i,n.persistence.uh()),i.yr(t)})).next((function(e){for(var n=[],i=[],s=dt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.Zn(t,s).next((function(t){return{ml:t,Al:n,Rl:i}}))}))}))];case 1:return s=r.sent(),[2,(n.Gn=i,n.Rh=o,n.Th.Ph(n.Rh),s)]}}))}))}(this.La,t)]);case 1:return e=n.sent(),this.currentUser=t,this.fl("'waitForPendingWrites' promise is rejected due to a user change."),this.Uc.ac(t,e.Al,e.Rl),[4,this.hl(e.ml)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.Oe=function(t){var e=this.Hc.get(t);if(e&&e.qc)return dt().add(e.key);var n=dt(),r=this.Kc.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.jc.get(o[i]);n=n.Nt(s.view.vc)}return n},t}();function uo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Di((n=y(t)).La,e.query,!0)];case 1:return i=r.sent(),o=e.view.Mc(i),[2,(n.el&&n.il(e.targetId,o.$c),o)]}}))}))}function co(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=y(t)).nl("applyBatchState()"),[4,function(t,e){var n=y(t),r=y(n.Gn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Zn(t,e):$n.resolve(null)}))}))}(o.La,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.Bc.hu()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.cl(e,i||null),function(t,e){y(y(t).Gn).Sr(e)}(o.La,e)):m(),r.label=4;case 4:return[4,o.hl(s)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function lo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=y(t),!0!==e||!0===n.tl?[3,3]:(i=n.Uc.zu(),[4,ho(n,i.N())]);case 1:return o=r.sent(),n.tl=!0,[4,n.Bc.Su(!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)n.Bc.listen(a[s]);return[3,7];case 3:return!1!==e||!1===n.tl?[3,7]:(u=[],c=Promise.resolve(),n.Kc.forEach((function(t,e){n.Uc.ic(e)?u.push(e):c=c.then((function(){return n.rl(e),Ai(n.La,e,!0)})),n.Bc.lu(e)})),[4,c]);case 4:return r.sent(),[4,ho(n,u)];case 5:return r.sent(),function(t){var e=y(t);e.Hc.forEach((function(t,n){e.Bc.lu(n)})),e.Yc.Nh(),e.Hc=new Map,e.zc=new tt(V.P)}(n),n.tl=!1,[4,n.Bc.Su(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function ho(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,d,f,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=y(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.Kc.get(u=a[s]))&&0!==l.length?[4,ki(n.La,gn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,d=l,r.label=3;case 3:return h<d.length?(f=n.jc.get(d[h]),[4,uo(n,f)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,xi(n.La,u)];case 8:return g=r.sent(),[4,ki(n.La,g)];case 9:return c=r.sent(),[4,n.sl(fo(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Wc.Ea(o),i)]}}))}))}function fo(t){return hn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function po(t){var e=y(t);return y(y(e.La).persistence).rh()}function go(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=y(t)).tl?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Kc.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=y(t),n=y(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr;return e.mh=t.readTime,n}))}(o.La)];case 3:return s=r.sent(),a=yt.zt(e,"current"===n),[4,o.hl(s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ai(o.La,e,!0)];case 6:return r.sent(),o.rl(e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function mo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return r.__generator(this,(function(p){switch(p.label){case 0:if(!(i=y(t)).tl)return[3,10];o=0,s=e,p.label=1;case 1:return o<s.length?i.Kc.has(a=s[o])?(d("SyncEngine","Adding an already active target "+a),[3,5]):[4,xi(i.La,a)]:[3,6];case 2:return u=p.sent(),[4,ki(i.La,u)];case 3:return c=p.sent(),[4,i.sl(fo(u),c.targetId,!1)];case 4:p.sent(),i.Bc.listen(c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Kc.has(t)?[4,Ai(i.La,t,!1).then((function(){i.Bc.lu(t),i.rl(t)})).catch(Oi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var vo=function(){this.Pl=void 0,this.listeners=[]},yo=function(){function t(t){this.fu=t,this.gl=new D((function(t){return wn(t)}),bn),this.onlineState="Unknown",this.Vl=new Set,this.fu.subscribe(this)}return t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=!1,(i=this.gl.get(e=t.query))||(n=!0,i=new vo),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=i,[4,this.fu.listen(e)];case 2:return o.Pl=r.sent(),[3,4];case 3:return s=r.sent(),a=lr(s,"Initialization of query '"+_n(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.gl.set(e,i),i.listeners.push(t),t.xc(this.onlineState),i.Pl&&t.yl(i.Pl)&&this.pl(),[2]}}))}))},t.prototype.lu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return n=!1,(i=this.gl.get(e=t.query))&&(o=i.listeners.indexOf(t))>=0&&(i.listeners.splice(o,1),n=0===i.listeners.length),n?[2,(this.gl.delete(e),this.fu.lu(e))]:[2]}))}))},t.prototype.Ea=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.gl.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].yl(i)&&(e=!0);o.Pl=i}}e&&this.pl()},t.prototype.dl=function(t,e){var n=this.gl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.gl.delete(t)},t.prototype.al=function(t){this.onlineState=t;var e=!1;this.gl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].xc(t)&&(e=!0)})),e&&this.pl()},t.prototype.bl=function(t){this.Vl.add(t),t.next()},t.prototype.vl=function(t){this.Vl.delete(t)},t.prototype.pl=function(){this.Vl.forEach((function(t){t.next()}))},t}(),bo=function(){function t(t,e,n){this.query=t,this.Sl=e,this.Dl=!1,this.Cl=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yl=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vt(t.query,t.docs,t.Lt,e,t.qt,t.fromCache,t.Bt,!0)}var o=!1;return this.Dl?this.Nl(t)&&(this.Sl.next(t),o=!0):this.Fl(t,this.onlineState)&&(this.kl(t),o=!0),this.Cl=t,o},t.prototype.onError=function(t){this.Sl.error(t)},t.prototype.xc=function(t){this.onlineState=t;var e=!1;return this.Cl&&!this.Dl&&this.Fl(this.Cl,t)&&(this.kl(this.Cl),e=!0),e},t.prototype.Fl=function(t,e){return!t.fromCache||!(this.options.$l&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Nl=function(t){return t.docChanges.length>0||!!(t.Bt||this.Cl&&this.Cl.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.kl=function(t){t=vt.Qt(t.query,t.docs,t.qt,t.fromCache),this.Dl=!0,this.Sl.next(t)},t}(),wo=function(){function t(){}return t.prototype.Ph=function(t){this.xl=t},t.prototype.ns=function(t,e,n,r){var i=this;return e.hn()||n.isEqual(P.min())?this.Ol(t,e):this.xl.Zn(t,r).next((function(s){var a=i.Ml(e,s);return(e.an()||e.un())&&i.Nc(e.nn,a,r,n)?i.Ol(t,e):(h()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_n(e)),i.xl.ns(t,e,n).next((function(t){return a.forEach((function(e){t=t.st(e.key,e)})),t})))}))},t.prototype.Ml=function(t,e){var n=new rt(Sn(t));return e.forEach((function(e,r){r instanceof sn&&En(t,r)&&(n=n.add(r))})),n},t.prototype.Nc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Ol=function(t,e){return h()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",_n(e)),this.xl.ns(t,e,P.min())},t}(),_o=function(){function t(t,e){this.zn=t,this.dr=e,this.Gn=[],this.Ll=1,this.ql=new rt(Pi.yh)}return t.prototype.Ir=function(t){return $n.resolve(0===this.Gn.length)},t.prototype.mr=function(t,e,n,r){var i=this.Ll;this.Ll++;var o=new Un(i,e,n,r);this.Gn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.ql=this.ql.add(new Pi(u.key,i)),this.zn.Ar(t,u.key.path.p())}return $n.resolve(o)},t.prototype.Rr=function(t,e){return $n.resolve(this.Bl(e))},t.prototype.gr=function(t,e){var n=this.Ul(e+1),r=n<0?0:n;return $n.resolve(this.Gn.length>r?this.Gn[r]:null)},t.prototype.Vr=function(){return $n.resolve(0===this.Gn.length?-1:this.Ll-1)},t.prototype.yr=function(t){return $n.resolve(this.Gn.slice())},t.prototype.Yn=function(t,e){var n=this,r=new Pi(e,0),i=new Pi(e,Number.POSITIVE_INFINITY),o=[];return this.ql.St([r,i],(function(t){var e=n.Bl(t.kh);o.push(e)})),$n.resolve(o)},t.prototype.es=function(t,e){var n=this,r=new rt(_);return e.forEach((function(t){var e=new Pi(t,0),i=new Pi(t,Number.POSITIVE_INFINITY);n.ql.St([e,i],(function(t){r=r.add(t.kh)}))})),$n.resolve(this.Ql(r))},t.prototype.as=function(t,e){var n=e.path,r=n.length+1,i=n;V.j(i)||(i=i.child(""));var o=new Pi(new V(i),0),s=new rt(_);return this.ql.Dt((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.kh)),!0)}),o),$n.resolve(this.Ql(s))},t.prototype.Ql=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Bl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;v(0===this.Wl(e.batchId,"removed")),this.Gn.shift();var r=this.ql;return $n.forEach(e.mutations,(function(i){var o=new Pi(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.ql=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Pi(e,0),r=this.ql.Ct(n);return $n.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return $n.resolve()},t.prototype.Wl=function(t,e){return this.Ul(t)},t.prototype.Ul=function(t){return 0===this.Gn.length?0:t-this.Gn[0].batchId},t.prototype.Bl=function(t){var e=this.Ul(t);return e<0||e>=this.Gn.length?null:this.Gn[e]},t}(),Eo=function(){function t(t,e){this.zn=t,this.jl=e,this.docs=new tt(V.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jl(e);return this.docs=this.docs.st(r,{Or:e,size:s,readTime:n}),this.size+=s-o,this.zn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return $n.resolve(n?n.Or:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.st(t,e?e.Or:null)})),$n.resolve(r)},t.prototype.ns=function(t,e,n){for(var r=ct(),i=new V(e.path.child("")),o=this.docs.ct(i);o.Tt();){var s=o.wt(),a=s.value,u=a.Or,c=a.readTime;if(!e.path.D(s.key.path))break;c.o(n)<=0||u instanceof sn&&En(e,u)&&(r=r.st(u.key,u))}return $n.resolve(r)},t.prototype.Kl=function(t,e){return $n.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return $n.resolve(this.size)},t}();Eo.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return r.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[];return this.Fn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),$n.Cn(n)},e.prototype.qn=function(t,e){return this.Hr.Ln(t,e)},e.prototype.Bn=function(t,e){return this.Hr.getEntries(t,e)},e}(Hn);var So=function(){function t(t){this.persistence=t,this.Gl=new D((function(t){return q(t)}),G),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.zl=0,this.Hl=new Ni,this.targetCount=0,this.Yl=ci.to()}return t.prototype.be=function(t,e){return this.Gl.forEach((function(t,n){return e(n)})),$n.resolve()},t.prototype.ro=function(t){return $n.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return $n.resolve(this.zl)},t.prototype.no=function(t){return this.highestTargetId=this.Yl.next(),$n.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zl&&(this.zl=e),$n.resolve()},t.prototype.uo=function(t){this.Gl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yl=new ci(e),this.highestTargetId=e),t.sequenceNumber>this.zl&&(this.zl=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,$n.resolve()},t.prototype.lo=function(t,e){return this.uo(e),$n.resolve()},t.prototype._o=function(t,e){return this.Gl.delete(e.target),this.Hl.Ch(e.targetId),this.targetCount-=1,$n.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.Gl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gl.delete(s),o.push(r.fo(t,a.targetId)),i++)})),$n.Cn(o).next((function(){return i}))},t.prototype.do=function(t){return $n.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.Gl.get(e)||null;return $n.resolve(n)},t.prototype.To=function(t,e,n){return this.Hl.vh(e,n),$n.resolve()},t.prototype.Io=function(t,e,n){this.Hl.Dh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),$n.Cn(i)},t.prototype.fo=function(t,e){return this.Hl.Ch(e),$n.resolve()},t.prototype.Ao=function(t,e){var n=this.Hl.Fh(e);return $n.resolve(n)},t.prototype.Nr=function(t,e){return $n.resolve(this.Hl.Nr(e))},t}(),Io=function(){function t(t){var e=this;this.Jl={},this.yo=new Kn(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new So(this),this.zn=new $r,this.Kn=new Eo(this.zn,(function(t){return e.dr.Xl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.zn},t.prototype.oh=function(t){var e=this.Jl[t.$h()];return e||(e=new _o(this.zn,this.dr),this.Jl[t.$h()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Co(this.yo.next());return this.dr.Zl(),n(i).next((function(t){return r.dr.t_(i).next((function(){return t}))})).Sn().then((function(t){return i.jn(),t}))},t.prototype.e_=function(t,e){return $n.Nn(Object.values(this.Jl).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),Co=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return r.__extends(e,t),e}(Gn),To=function(){function t(t){this.persistence=t,this.n_=new Ni,this.s_=null}return t.i_=function(e){return new t(e)},Object.defineProperty(t.prototype,"r_",{get:function(){if(this.s_)return this.s_;throw m()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.n_.Eo(n,e),this.r_.delete(n.toString()),$n.resolve()},t.prototype.mo=function(t,e,n){return this.n_.mo(n,e),this.r_.add(n.toString()),$n.resolve()},t.prototype.Dr=function(t,e){return this.r_.add(e.toString()),$n.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.n_.Ch(e.targetId).forEach((function(t){return n.r_.add(t.toString())}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.r_.add(t.toString())}))})).next((function(){return r._o(t,e)}))},t.prototype.Zl=function(){this.s_=new Set},t.prototype.t_=function(t){var e=this,n=this.persistence.ah().jr();return $n.forEach(this.r_,(function(r){var i=V.B(r);return e.o_(t,i).next((function(t){t||n.Mn(i)}))})).next((function(){return e.s_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.o_(t,e).next((function(t){t?n.r_.delete(e.toString()):n.r_.add(e.toString())}))},t.prototype.Xl=function(t){return 0},t.prototype.o_=function(t,e){var n=this;return $n.Nn([function(){return $n.resolve(n.n_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.e_(t,e)}])},t}(),ko=function(){function t(t){this.h_=t.h_,this.a_=t.a_}return t.prototype.wa=function(t){this.u_=t},t.prototype.ca=function(t){this.c_=t},t.prototype.onMessage=function(t){this.l_=t},t.prototype.close=function(){this.a_()},t.prototype.send=function(t){this.h_(t)},t.prototype.__=function(){this.u_()},t.prototype.f_=function(t){this.c_(t)},t.prototype.d_=function(t){this.l_(t)},t}(),Ao={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Do=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.A_=function(t,e,n,r){return new Promise((function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),o(new O(x.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(x).indexOf(e)>=0?e:x.UNKNOWN}(r.status);o(new O(u,r.message))}else o(new O(x.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new O(x.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Ta=function(t,e){var n=[this.T_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.m_(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,l=!1,h=new ko({h_:function(t){l?d("Connection","Not sending because WebChannel is closed:",t):(c||(d("Connection","Opening WebChannel transport."),u.open(),c=!0),d("Connection","WebChannel sending:",t),u.send(t))},a_:function(){return u.close()}}),f=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a.WebChannel.EventType.OPEN,(function(){l||d("Connection","WebChannel transport opened.")})),f(a.WebChannel.EventType.CLOSE,(function(){l||(l=!0,d("Connection","WebChannel transport closed"),h.f_())})),f(a.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p("Connection","WebChannel transport errored:",t),h.f_(new O(x.UNAVAILABLE,"The operation could not be completed")))})),f(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];v(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=K[t];if(void 0!==e)return Q(e)}(i),s=r.message;void 0===o&&(o=x.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.f_(new O(o,s)),u.close()}else d("Connection","WebChannel received:",n),h.d_(n)}})),setTimeout((function(){h.__()}),0),h},e}(function(){function t(t){this.w_=t,this.s=t.s,this.T_=(t.ssl?"https":"http")+"://"+t.host,this.E_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.va=function(t,e,n,r){var i=this.I_(t,e);d("RestConnection","Sending: ",i,n);var o={};return this.m_(o,r),this.A_(t,i,o,n).then((function(t){return d("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Sa=function(t,e,n,r){return this.va(t,e,n,r)},t.prototype.m_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.19.1",t["Content-Type"]="text/plain",e)for(var n in e.Mh)e.Mh.hasOwnProperty(n)&&(t[n]=e.Mh[n])},t.prototype.I_=function(t,e){return this.T_+"/v1/"+e+":"+Ao[t]},t}()),xo=function(){function t(){var t=this;this.R_=function(){return t.P_()},this.g_=function(){return t.V_()},this.y_=[],this.p_()}return t.prototype.Ka=function(t){this.y_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.R_),window.removeEventListener("offline",this.g_)},t.prototype.p_=function(){window.addEventListener("online",this.R_),window.addEventListener("offline",this.g_)},t.prototype.P_=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(0)},t.prototype.V_=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(1)},t.ks=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Oo=function(){function t(){}return t.prototype.Ka=function(t){},t.prototype.th=function(){},t}();function No(t){return new Wt(t,!0)}var Po="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Fo=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Uc=this.b_(t),this.persistence=this.v_(t),[4,this.persistence.start()];case 1:return e.sent(),this.S_=this.D_(t),this.La=this.C_(t),[2]}}))}))},t.prototype.D_=function(t){return null},t.prototype.C_=function(t){return e=this.persistence,n=new wo,new Ei(e,n,t.N_);var e,n},t.prototype.v_=function(t){if(t.k_.F_)throw new O(x.FAILED_PRECONDITION,Po);return new Io(To.i_)},t.prototype.b_=function(t){return new eo},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.S_&&this.S_.stop(),[4,this.Uc.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new O(x.FAILED_PRECONDITION,Po)},t}(),Ro=function(t){function e(e){var n=this;return(n=t.call(this)||this).x_=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,this.x_.initialize(this,e)];case 2:return o.sent(),n=this.x_.fu,this.Uc instanceof to?(this.Uc.fu={Ic:co.bind(null,n),mc:go.bind(null,n),Ac:mo.bind(null,n),rh:po.bind(null,n)},[4,this.Uc.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.qo((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,lo(this.x_.fu,t)];case 1:return e.sent(),this.S_&&(t&&!this.S_.tr?this.S_.start(this.La):t||this.S_.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},e.prototype.b_=function(t){if(t.k_.F_&&t.k_.synchronizeTabs){var e=sr();if(!to.ks(e))throw new O(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_i(t.w_.s,t.w_.persistenceKey);return new to(e,t.ei,n,t.clientId,t.N_)}return new eo},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=y(t),n=y(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.La)];case 2:return n.sent(),[2]}}))}))},e.prototype.D_=function(t){return new gr(this.persistence.dr.Yi,t.ei)},e.prototype.v_=function(t){var e=_i(t.w_.s,t.w_.persistenceKey),n=No(t.w_.s);return new mi(t.k_.synchronizeTabs,e,t.clientId,pr.Ui(t.k_.cacheSizeBytes),t.ei,sr(),ar(),n,this.Uc,t.k_.Vo)},e.prototype.b_=function(t){return new eo},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Zn.ks()?[4,Zn.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(_i(t,e))},e}(Fo)),Lo=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.La?[3,3]:(this.La=t.La,this.Uc=t.Uc,this.qa=this.O_(e),this.Bc=this.M_(e),this.fu=this.L_(e),this.q_=this.B_(e),this.Uc.Da=function(t){return n.fu.xc(t,1)},this.Bc.fu=this.fu,[4,this.Bc.start()]);case 1:return r.sent(),[4,this.Bc.Su(this.fu.el)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.B_=function(t){return new yo(this.fu)},t.prototype.O_=function(t){var e=No(t.w_.s),n=new Do(t.w_);return function(t,e,n){return new Hi(t,e,n)}(t.credentials,n,e)},t.prototype.M_=function(t){var e=this;return new Gi(this.La,this.qa,t.ei,(function(t){return e.fu.xc(t,0)}),xo.ks()?new xo:new Oo)},t.prototype.L_=function(t){return function(t,e,n,r,i,o,s){var a=new ao(t,e,n,r,i,o);return s&&(a.tl=!0),a}(this.La,this.Bc,this.qa,this.Uc,t.N_,t.Qc,!t.k_.F_||!t.k_.synchronizeTabs)},t.prototype.terminate=function(){return this.Bc.th()},t}();function Mo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.U_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.U_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Q_=function(){this.muted=!0},t.prototype.U_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function jo(t,e){if(0!==e.length)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+rs(e.length,"argument")+".")}function Uo(t,e,n){if(e.length!==n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires "+rs(n,"argument")+", but was called with "+rs(e.length,"argument")+".")}function Bo(t,e,n){if(e.length<n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires at least "+rs(n,"argument")+", but was called with "+rs(e.length,"argument")+".")}function $o(t,e,n,r){if(e.length<n||e.length>r)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+rs(e.length,"argument")+".")}function Ho(t,e,n,r){Jo(t,e,ns(n)+" argument",r)}function qo(t,e,n,r){void 0!==r&&Ho(t,e,n,r)}function Go(t,e,n,r){Jo(t,e,n+" option",r)}function zo(t,e,n,r){void 0!==r&&Go(t,e,n,r)}function Wo(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Zo(u))}var c=Zo(r);throw new O(x.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Ko(t,e,n,r){if(!e.some((function(t){return t===r})))throw new O(x.INVALID_ARGUMENT,"Invalid value "+Zo(r)+" provided to function "+t+"() for its "+ns(n)+" argument. Acceptable values: "+e.join(", "));return r}function Jo(t,e,n,r){if(!("object"===e?Yo(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Zo(r);throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Yo(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Zo(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function Xo(t,e,n){if(void 0===n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ns(e)+" argument, but it was undefined.")}function Qo(t,e,n){k(e,(function(e,r){if(n.indexOf(e)<0)throw new O(x.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function ts(t,e,n,r){var i=Zo(r);return new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+ns(n)+" argument to be a "+e+", but it was: "+i)}function es(t,e,n){if(n<=0)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+ns(e)+" argument to be a positive number, but it was: "+n+".")}function ns(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function rs(t,e){return t+" "+e+(1===t?"":"s")}function is(){if("undefined"==typeof Uint8Array)throw new O(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function os(){if("undefined"==typeof atob)throw new O(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ss=function(){function t(t){os(),this.W_=t}return t.fromBase64String=function(e){Uo("Blob.fromBase64String",arguments,1),Ho("Blob.fromBase64String","string",1,e),os();try{return new t(W.fromBase64String(e))}catch(e){throw new O(x.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Uo("Blob.fromUint8Array",arguments,1),is(),!(e instanceof Uint8Array))throw ts("Blob.fromUint8Array","Uint8Array",1,e);return new t(W.fromUint8Array(e))},t.prototype.toBase64=function(){return Uo("Blob.toBase64",arguments,0),os(),this.W_.toBase64()},t.prototype.toUint8Array=function(){return Uo("Blob.toUint8Array",arguments,0),is(),this.W_.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.W_.isEqual(t.W_)},t}(),as=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new O(x.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+rs(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Ho("FieldPath","string",e,t[e]),0===t[e].length)throw new O(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new M(t)},us=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(M.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ts("isEqual","FieldPath",1,t);return this.j_.isEqual(t.j_)},e}(as),cs=new RegExp("[~\\*/\\[\\]]"),ls=function(){this.K_=this},hs=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return r.__extends(e,t),e.prototype.z_=function(t){if(2!==t.H_)throw t.Y_(1===t.H_?this.G_+"() can only appear at the top level of your update data":this.G_+"() cannot be used with set() unless you pass {merge:true}");return t.qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ls);function ds(t,e,n){return new Cs({H_:3,J_:e.settings.J_,methodName:t.G_,X_:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var fs=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return r.__extends(e,t),e.prototype.z_=function(t){return new Me(t.path,new Ae)},e.prototype.isEqual=function(t){return t instanceof e},e}(ls),ps=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=ds(this,t,!0),n=this.Z_.map((function(t){return Os(t,e)})),r=new De(n);return new Me(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),gs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=ds(this,t,!0),n=this.Z_.map((function(t){return Os(t,e)})),r=new Oe(n);return new Me(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),ms=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.tf=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=new Pe(t.serializer,Yt(t.serializer,this.tf));return new Me(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ls),vs=function(t){function e(){return t.call(this)||this}return r.__extends(e,t),e.delete=function(){return jo("FieldValue.delete",arguments),new ys(new hs("FieldValue.delete"))},e.serverTimestamp=function(){return jo("FieldValue.serverTimestamp",arguments),new ys(new fs("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bo("FieldValue.arrayUnion",arguments,1),new ys(new ps("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bo("FieldValue.arrayRemove",arguments,1),new ys(new gs("FieldValue.arrayRemove",t))},e.increment=function(t){return Ho("FieldValue.increment","number",1,t),Uo("FieldValue.increment",arguments,1),new ys(new ms("FieldValue.increment",t))},e}(ls),ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).K_=e,n.G_=e.G_,n}return r.__extends(e,t),e.prototype.z_=function(t){return this.K_.z_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.K_.isEqual(t.K_)},e}(vs),bs=function(){function t(t,e){if(Uo("GeoPoint",arguments,2),Ho("GeoPoint","number",1,t),Ho("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new O(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new O(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.ef=t,this.nf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.ef===t.ef&&this.nf===t.nf},t.prototype.toJSON=function(){return{latitude:this.ef,longitude:this.nf}},t.prototype.T=function(t){return _(this.ef,t.ef)||_(this.nf,t.nf)},t}(),ws=/^__.*__$/,_s=function(t,e,n){this.sf=t,this.if=e,this.rf=n},Es=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return n.push(null!==this.qe?new Ke(t,this.data,this.qe,e):new We(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ye(t,this.fieldTransforms)),n},t}(),Ss=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new Ke(t,this.data,this.qe,e)];return this.fieldTransforms.length>0&&n.push(new Ye(t,this.fieldTransforms)),n},t}();function Is(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var Cs=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.af(),this.fieldTransforms=i||[],this.qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"H_",{get:function(){return this.settings.H_},enumerable:!1,configurable:!0}),t.prototype.uf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.qe)},t.prototype.cf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uf({path:n,X_:!1});return r.lf(t),r},t.prototype._f=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uf({path:n,X_:!1});return r.af(),r},t.prototype.ff=function(t){return this.uf({path:void 0,X_:!0})},t.prototype.Y_=function(t){return Ms(t,this.settings.methodName,this.settings.df||!1,this.path,this.settings.J_)},t.prototype.contains=function(t){return void 0!==this.qe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.lf(this.path.get(t))},t.prototype.lf=function(t){if(0===t.length)throw this.Y_("Document fields must not be empty");if(Is(this.H_)&&ws.test(t))throw this.Y_('Document fields cannot begin and end with "__"')},t}(),Ts=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||No(t)}return t.prototype.wf=function(t,e,n,r){return void 0===r&&(r=!1),new Cs({H_:t,methodName:e,J_:n,path:M.$(),X_:!1,df:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function ks(t,e,n,r,i,o){void 0===o&&(o={});var s=t.wf(o.merge||o.mergeFields?2:0,e,n,i);Fs("Data must be an object, but it was:",s,r);var a,u,c=Ns(r,s);if(o.merge)a=new Le(s.qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof as)p=f.j_;else{if("string"!=typeof f)throw m();p=Ls(e,f,n)}if(!s.contains(p))throw new O(x.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Vs(l,p)||l.push(p)}a=new Le(l),u=s.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,u=s.fieldTransforms;return new Es(new en(c),a,u)}function As(t,e,n,r){var i=t.wf(1,e,n);Fs("Data must be an object, but it was:",i,r);var o=[],s=new nn;k(r,(function(t,r){var a=Ls(e,t,n),u=i._f(a);if(r instanceof ls&&r.K_ instanceof hs)o.push(a);else{var c=Os(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Le(o);return new Ss(s.ze(),a,i.fieldTransforms)}function Ds(t,e,n,r,i,o){var s=t.wf(1,e,n),a=[Rs(e,r,n)],u=[i];if(o.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Rs(e,o[c])),u.push(o[c+1]);for(var l=[],h=new nn,d=a.length-1;d>=0;--d)if(!Vs(l,a[d])){var f=a[d],p=u[d],g=s._f(f);if(p instanceof ls&&p.K_ instanceof hs)l.push(f);else{var m=Os(p,g);null!=m&&(l.push(f),h.set(f,m))}}var v=new Le(l);return new Ss(h.ze(),v,s.fieldTransforms)}function xs(t,e,n,r){return void 0===r&&(r=!1),Os(n,t.wf(r?4:3,e))}function Os(t,e){if(Ps(t))return Fs("Unsupported field value:",e,t),Ns(t,e);if(t instanceof ls)return function(t,e){if(!Is(e.H_))throw e.Y_(t.G_+"() can only be used with update() and set()");if(!e.path)throw e.Y_(t.G_+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.qe.push(e.path),t instanceof Array){if(e.settings.X_&&4!==e.H_)throw e.Y_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Os(o[i],e.ff(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=N.fromDate(t);return{timestampValue:Zt(e.serializer,n)}}if(t instanceof N){var r=new N(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zt(e.serializer,r)}}if(t instanceof bs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ss)return{bytesValue:Xt(e.serializer,t)};if(t instanceof _s){var i=e.s,o=t.sf;if(!o.isEqual(i))throw e.Y_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.sf||e.s,t.if.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Y_("Unsupported field value: "+Zo(t))}(t,e)}function Ns(t,e){var n={};return A(t)?e.path&&e.path.length>0&&e.qe.push(e.path):k(t,(function(t,r){var i=Os(r,e.cf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ps(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof N||t instanceof bs||t instanceof ss||t instanceof _s||t instanceof ls)}function Fs(t,e,n){if(!Ps(n)||!Yo(n)){var r=Zo(n);throw e.Y_("an object"===r?t+" a custom object":t+" "+r)}}function Rs(t,e,n){if(e instanceof as)return e.j_;if("string"==typeof e)return Ls(t,e);throw Ms("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ls(t,e,n){try{return function(t){if(t.search(cs)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(us.bind.apply(us,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).j_}catch(e){throw Ms((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ms(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new O(x.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vs(t,e){return t.some((function(t){return t.isEqual(e)}))}var js=function(){function t(t){this.qa=t,this.Tf=new Map,this.mutations=[],this.Ef=!1,this.If=null,this.mf=new Set}return t.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.Rf(),this.mutations.length>0)throw new O(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=y(t),i=ae(n.serializer)+"/documents",o={documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Sa("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found);var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new en({mapValue:{fields:e.found.fields}});return new sn(n,r,i,{})}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new an(n,r)}(t,e):m()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());v(!!e),u.push(e)})),u)]}}))}))}(this.qa,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof an||t instanceof sn?n.Pf(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.Qe(t))),this.mf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.gf(t)))}catch(t){this.If=t}this.mf.add(t.toString())},t.prototype.delete=function(t){this.write([new Qe(t,this.Qe(t))]),this.mf.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.Rf(),this.If)throw this.If;return t=this.Tf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=V.B(n);e.mutations.push(new tn(r,e.Qe(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=y(t),i=ae(n.serializer)+"/documents",o={writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.va("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.qa,this.mutations)];case 1:return n.sent(),this.Ef=!0,[2]}}))}))},t.prototype.Pf=function(t){var e;if(t instanceof sn)e=t.version;else{if(!(t instanceof an))throw m();e=P.min()}var n=this.Tf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new O(x.ABORTED,"Document version changed between two reads.")}else this.Tf.set(t.key.toString(),e)},t.prototype.Qe=function(t){var e=this.Tf.get(t.toString());return!this.mf.has(t.toString())&&e?je.updateTime(e):je.We()},t.prototype.gf=function(t){var e=this.Tf.get(t.toString());if(!this.mf.has(t.toString())&&e){if(e.isEqual(P.min()))throw new O(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(e)}return je.exists(!0)},t.prototype.write=function(t){this.Rf(),this.mutations=this.mutations.concat(t)},t.prototype.Rf=function(){},t}(),Us=function(){function t(t,e,n,r){this.ei=t,this.qa=e,this.updateFunction=n,this.ii=r,this.Vf=5,this.Ti=new Yn(this.ei,"transaction_retry")}return t.prototype.run=function(){this.yf()},t.prototype.yf=function(){var t=this;this.Ti.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new js(this.qa),(e=this.pf(t))&&e.then((function(e){n.ei.ai((function(){return t.commit().then((function(){n.ii.resolve(e)})).catch((function(t){n.bf(t)}))}))})).catch((function(t){n.bf(t)})),[2]}))}))}))},t.prototype.pf=function(t){try{var e=this.updateFunction(t);return!j(e)&&e.catch&&e.then?e:(this.ii.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ii.reject(t),null}},t.prototype.bf=function(t){var e=this;this.Vf>0&&this.vf(t)?(this.Vf-=1,this.ei.ai((function(){return e.yf(),Promise.resolve()}))):this.ii.reject(t)},t.prototype.vf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!X(e)}return!1},t}(),Bs=function(){function t(t,e){this.credentials=t,this.ei=e,this.clientId=w.t(),this.Sf=new Jn}return t.prototype.start=function(t,e,n,r){var i=this;this.Df(),this.w_=t;var o=new Jn,s=!1;return this.credentials.Bh((function(t){if(!s)return s=!0,d("FirestoreClient","Initializing. user=",t.uid),i.Cf(e,n,r,t,o).then(i.Sf.resolve,i.Sf.reject);i.ei.gi((function(){return i.Bc.vu(t)}))})),this.ei.ai((function(){return i.Sf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!0),t.Bc.enableNetwork()}))},t.prototype.Cf=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={ei:this.ei,w_:this.w_,clientId:this.clientId,credentials:this.credentials,N_:i,Qc:100,k_:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Uc=t.Uc,this.La=t.La,this.S_=t.S_,this.qa=e.qa,this.Bc=e.Bc,this.fu=e.fu,this.Nf=e.q_,this.persistence.Bo((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.Ff(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Cf(new Fo,new Lo,{F_:!1},i,o))];case 4:return[2]}}))}))},t.prototype.Ff=function(t){return"FirebaseError"===t.name?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Df=function(){if(this.ei.Ii)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!1),t.Bc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;this.ei.Pi();var e=new Jn;return this.ei.mi((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.S_&&this.S_.stop(),[4,this.Bc.th()];case 1:return r.sent(),[4,this.Uc.th()];case 2:return r.sent(),[4,this.persistence.th()];case 3:return r.sent(),this.credentials.Uh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=lr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.Df();var e=new Jn;return this.ei.ai((function(){return t.fu._l(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Df();var i=new Vo(n),o=new bo(t,i,e);return this.ei.ai((function(){return r.Nf.listen(o)})),function(){i.Q_(),r.ei.ai((function(){return r.Nf.lu(o)}))}},t.prototype.kf=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o=this;return r.__generator(this,(function(s){switch(s.label){case 0:return i=new Jn,[4,t.enqueue((function(){return r.__awaiter(o,void 0,void 0,(function(){var t,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Rh.Hn(t,e)}))}(e,n)];case 1:return(t=r.sent())instanceof sn?i.resolve(t):t instanceof an?i.resolve(null):i.reject(new O(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=lr(o,"Failed to get document '"+n+" from cache"),i.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),i.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.$f=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Jn,o=$s(t,e,dn(n.path),{includeMetadataChanges:!0,$l:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new O(x.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new O(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.xf=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o=this;return r.__generator(this,(function(s){switch(s.label){case 0:return i=new Jn,[4,t.enqueue((function(){return r.__awaiter(o,void 0,void 0,(function(){var t,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Di(e,n,!0)];case 1:return t=r.sent(),o=new io(n,t.gh),s=o.Sc(t.documents),a=o.Un(s,!1),i.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=lr(u,"Failed to execute query '"+n+" against cache"),i.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),i.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.Of=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Jn,o=$s(t,e,n,{includeMetadataChanges:!0,$l:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new O(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Df();var n=new Jn;return this.ei.ai((function(){return e.fu.write(t,n)})),n.promise},t.prototype.s=function(){return this.w_.s},t.prototype.bl=function(t){var e=this;this.Df();var n=new Vo(t);return this.ei.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.Nf.bl(n)]}))}))})),function(){n.Q_(),e.ei.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.Nf.vl(n)]}))}))}))}},Object.defineProperty(t.prototype,"Mf",{get:function(){return this.ei.Ii},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Df();var n=new Jn;return this.ei.ai((function(){return new Us(e.ei,e.qa,t,n).run(),Promise.resolve()})),n.promise},t}();function $s(t,e,n,r,i){var o=new Vo(i),s=new bo(n,o,r);return t.ai((function(){return e.listen(s)})),function(){o.Q_(),t.ai((function(){return e.lu(s)}))}}var Hs=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Lf=n,this.qf=r}return t.prototype.Bf=function(t){switch(xt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.Uf(t.timestampValue);case 4:return this.Qf(t);case 5:return t.stringValue;case 6:return new ss(Vt(t.bytesValue));case 7:return this.Wf(t.referenceValue);case 8:return this.jf(t.geoPointValue);case 9:return this.Kf(t.arrayValue);case 10:return this.Gf(t.mapValue);default:throw m()}},t.prototype.Gf=function(t){var e=this,n={};return k(t.fields||{},(function(t,r){n[t]=e.Bf(r)})),n},t.prototype.jf=function(t){return new bs(Mt(t.latitude),Mt(t.longitude))},t.prototype.Kf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Bf(t)}))},t.prototype.Qf=function(t){switch(this.Lf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return kt(n)?t(n):n}(t);return null==e?null:this.Bf(e);case"estimate":return this.Uf(At(t));default:return null}},t.prototype.Uf=function(t){var e=Lt(t),n=new N(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Wf=function(t){var e=R.k(t);v(Se(e));var n=new C(e.get(1),e.get(3)),r=new V(e.V(5));return n.isEqual(this.s)||f("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.qf(r)},t}(),qs=pr.ji,Gs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new O(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Go("settings","non-empty string","host",t.host),this.host=t.host,zo("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Qo("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),zo("settings","object","credentials",t.credentials),this.credentials=t.credentials,zo("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),zo("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?f("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&f("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,zo("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=pr.Gi;else{if(t.cacheSizeBytes!==qs&&t.cacheSizeBytes<pr.Ki)throw new O(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+pr.Ki);this.cacheSizeBytes=t.cacheSizeBytes}zo("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),zs=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new Fo),void 0===o&&(o=new Lo),this.zf=i,this.Hf=o,this.Yf=null,this.Jf=new cr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Xf(),[4,this.Zf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Yf=a,this.sf=t.td(a),this.ed=a.name,this.nd=new Mi(n)}else{var u=e;if(!u.projectId)throw new O(x.INVALID_ARGUMENT,"Must provide projectId");this.sf=new C(u.projectId,u.database),this.ed="[DEFAULT]",this.nd=new Li}this.sd=new Gs({})}return Object.defineProperty(t.prototype,"rd",{get:function(){return this.od||(this.od=new Ts(this.sf,this.sd.ignoreUndefinedProperties)),this.od},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Uo("Firestore.settings",arguments,1),Ho("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.sd),t)).merge;var e=new Gs(t);if(this.Zf&&!this.sd.isEqual(e))throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.sd=e,void 0!==e.credentials&&(this.nd=function(t){if(!t)return new Li;switch(t.type){case"gapi":var e=t.hd;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ji(e,t.zh||"0");case"provider":return t.hd;default:throw new O(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Xf(),this.Zf.enableNetwork()},t.prototype.disableNetwork=function(){return this.Xf(),this.Zf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Zf)throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&f("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new O(x.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.ad(this.zf,this.Hf,{F_:!0,cacheSizeBytes:this.sd.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.Zf&&!this.Zf.Mf)throw new O(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Jn,[2,(this.Jf.mi((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zf.clearPersistence(this.sf,this.ed)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ud",{get:function(){return this.Xf(),this.Zf.Mf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Xf(),this.Zf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Xf(),Mo(t)?this.Zf.bl(t):(Ho("Firestore.onSnapshotsInSync","function",1,t),this.Zf.bl({next:t}))},t.prototype.Xf=function(){return this.Zf||this.ad(new Fo,new Lo,{F_:!1}),this.Zf},t.prototype.ld=function(){return new I(this.sf,this.ed,this.sd.host,this.sd.ssl,this.sd.experimentalForceLongPolling)},t.prototype.ad=function(t,e,n){var r=this.ld();return this.Zf=new Bs(this.nd,this.Jf),this.Zf.start(r,t,e,n)},t.td=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new O(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new O(x.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new C(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yf)throw new O(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Uo("Firestore.collection",arguments,1),Ho("Firestore.collection","non-empty string",1,t),this.Xf(),new aa(R.k(t),this,null)},t.prototype.doc=function(t){return Uo("Firestore.doc",arguments,1),Ho("Firestore.doc","non-empty string",1,t),this.Xf(),Js._d(R.k(t),this,null)},t.prototype.collectionGroup=function(t){if(Uo("Firestore.collectionGroup",arguments,1),Ho("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Xf(),new oa(function(t){return new ln(R.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Uo("Firestore.runTransaction",arguments,1),Ho("Firestore.runTransaction","function",1,t),this.Xf().transaction((function(n){return t(new Ws(e,n))}))},t.prototype.batch=function(){return this.Xf(),new Ks(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){Uo("Firestore.setLogLevel",arguments,1),Ko("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),l.setLogLevel(t)},t.prototype.fd=function(){return this.sd.timestampsInSnapshots},t.prototype.dd=function(){return this.sd},t}(),Ws=function(){function t(t,e){this.wd=t,this.Td=e}return t.prototype.get=function(t){var e=this;Uo("Transaction.get",arguments,1);var n=ha("Transaction.get",t,this.wd);return this.Td.Af([n.if]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof an)return new Zs(e.wd,n.if,null,!1,!1,n.rf);if(r instanceof sn)return new Zs(e.wd,n.if,r,!1,!1,n.rf);throw m()}))},t.prototype.set=function(t,e,n){$o("Transaction.set",arguments,2,3);var r=ha("Transaction.set",t,this.wd);n=ua("Transaction.set",n);var i=fa(r.rf,e,n),o=ks(this.wd.rd,"Transaction.set",r.if,i,null!==r.rf,n);return this.Td.set(r.if,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof us?(Bo("Transaction.update",arguments,3),r=ha("Transaction.update",t,this.wd),i=Ds(this.wd.rd,"Transaction.update",r.if,e,n,o)):(Uo("Transaction.update",arguments,2),r=ha("Transaction.update",t,this.wd),i=As(this.wd.rd,"Transaction.update",r.if,e)),this.Td.update(r.if,i),this},t.prototype.delete=function(t){Uo("Transaction.delete",arguments,1);var e=ha("Transaction.delete",t,this.wd);return this.Td.delete(e.if),this},t}(),Ks=function(){function t(t){this.wd=t,this.Ed=[],this.Id=!1}return t.prototype.set=function(t,e,n){$o("WriteBatch.set",arguments,2,3),this.md();var r=ha("WriteBatch.set",t,this.wd);n=ua("WriteBatch.set",n);var i=fa(r.rf,e,n),o=ks(this.wd.rd,"WriteBatch.set",r.if,i,null!==r.rf,n);return this.Ed=this.Ed.concat(o.hf(r.if,je.We())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.md(),"string"==typeof e||e instanceof us?(Bo("WriteBatch.update",arguments,3),r=ha("WriteBatch.update",t,this.wd),i=Ds(this.wd.rd,"WriteBatch.update",r.if,e,n,o)):(Uo("WriteBatch.update",arguments,2),r=ha("WriteBatch.update",t,this.wd),i=As(this.wd.rd,"WriteBatch.update",r.if,e)),this.Ed=this.Ed.concat(i.hf(r.if,je.exists(!0))),this},t.prototype.delete=function(t){Uo("WriteBatch.delete",arguments,1),this.md();var e=ha("WriteBatch.delete",t,this.wd);return this.Ed=this.Ed.concat(new Qe(e.if,je.We())),this},t.prototype.commit=function(){return this.md(),this.Id=!0,this.Ed.length>0?this.wd.Xf().write(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Id)throw new O(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.sf,e,r)||this).if=e,i.firestore=n,i.rf=r,i.Zf=i.firestore.Xf(),i}return r.__extends(e,t),e._d=function(t,n,r){if(t.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new V(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new aa(this.if.path.p(),this.firestore,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.if.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Uo("DocumentReference.collection",arguments,1),Ho("DocumentReference.collection","non-empty string",1,t),!t)throw new O(x.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=R.k(t);return new aa(this.if.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ts("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.if.isEqual(t.if)&&this.rf===t.rf},e.prototype.set=function(t,e){$o("DocumentReference.set",arguments,1,2),e=ua("DocumentReference.set",e);var n=fa(this.rf,t,e),r=ks(this.firestore.rd,"DocumentReference.set",this.if,n,null!==this.rf,e);return this.Zf.write(r.hf(this.if,je.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof us?(Bo("DocumentReference.update",arguments,2),n=Ds(this.firestore.rd,"DocumentReference.update",this.if,t,e,r)):(Uo("DocumentReference.update",arguments,1),n=As(this.firestore.rd,"DocumentReference.update",this.if,t)),this.Zf.write(n.hf(this.if,je.exists(!0)))},e.prototype.delete=function(){return Uo("DocumentReference.delete",arguments,0),this.Zf.write([new Qe(this.if,je.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];$o("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Mo(i[a])||(Qo("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),zo("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Mo(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Ho("DocumentReference.onSnapshot","function",a,i[a]),qo("DocumentReference.onSnapshot","function",a+1,i[a+1]),qo("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Ad(t))},error:i[a+1],complete:i[a+2]};return this.Zf.listen(dn(this.if.path),u,l)},e.prototype.get=function(t){var e=this;$o("DocumentReference.get",arguments,0,1),la("DocumentReference.get",t);var n=this.firestore.Xf();return t&&"cache"===t.source?n.kf(this.if).then((function(t){return new Zs(e.firestore,e.if,t,!0,t instanceof sn&&t.Ge,e.rf)})):n.$f(this.if,t).then((function(t){return e.Ad(t)}))},e.prototype.withConverter=function(t){return new e(this.if,this.firestore,t)},e.prototype.Ad=function(t){var e=t.docs.get(this.if);return new Zs(this.firestore,this.if,e,t.fromCache,t.hasPendingWrites,this.rf)},e}(_s),Ys=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Zs=function(){function t(t,e,n,r,i,o){this.wd=t,this.if=e,this.Rd=n,this.Pd=r,this.gd=i,this.rf=o}return t.prototype.data=function(t){var e=this;if($o("DocumentSnapshot.data",arguments,0,1),t=ca("DocumentSnapshot.data",t),this.Rd){if(this.rf){var n=new Xs(this.wd,this.if,this.Rd,this.Pd,this.gd,null);return this.rf.fromFirestore(n,t)}return new Hs(this.wd.sf,this.wd.fd(),t.serverTimestamps||"none",(function(t){return new Js(t,e.wd,null)})).Bf(this.Rd.tn())}},t.prototype.get=function(t,e){var n=this;if($o("DocumentSnapshot.get",arguments,1,2),e=ca("DocumentSnapshot.get",e),this.Rd){var r=this.Rd.data().field(Rs("DocumentSnapshot.get",t,this.if));if(null!==r)return new Hs(this.wd.sf,this.wd.fd(),e.serverTimestamps||"none",(function(t){return new Js(t,n.wd,n.rf)})).Bf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Js(this.if,this.wd,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Rd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ys(this.gd,this.Pd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw ts("isEqual","DocumentSnapshot",1,e);return this.wd===e.wd&&this.Pd===e.Pd&&this.if.isEqual(e.if)&&(null===this.Rd?null===e.Rd:this.Rd.isEqual(e.Rd))&&this.rf===e.rf},t}(),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Zs);function Qs(t,e,n,r,i,o,s){var a;if(i.M()){if("array-contains"===o||"array-contains-any"===o)throw new O(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){na(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(ea(r,t,l[c]));a={arrayValue:{values:u}}}else a=ea(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||na(s,o),a=xs(n,e,s,"in"===o||"not-in"===o);var h=In.create(i,o,a);return function(t,e){if(e._n()){var n=t.ln();if(null!==n&&!n.isEqual(e.field))throw new O(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.cn();null!==r&&ra(0,e.field,r)}var i=t.fn(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new O(x.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}function ta(t,e,n){if(null!==t.startAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mn(e,n);return function(t,e){if(null===t.cn()){var n=t.ln();null!==n&&ra(0,n,e.field)}}(t,r),r}function ea(t,e,n){if("string"==typeof n){if(""===n)throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fn(e)&&-1!==n.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(R.k(n));if(!V.j(r))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jt(t,new V(r))}if(n instanceof _s)return jt(t,n.if);throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zo(n)+".")}function na(t,e){if(!Array.isArray(t)||0===t.length)throw new O(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ra(t,e,n){if(!n.isEqual(e))throw new O(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ia(t){if(t.un()&&0===t.en.length)throw new O(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oa=function(){function t(t,e,n){this.Vd=t,this.firestore=e,this.rf=n}return t.prototype.where=function(e,n,r){var i;Uo("Query.where",arguments,3),Xo("Query.where",3,r),i="not-in"===n||"!="===n?n:Ko("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Rs("Query.where",e),s=Qs(this.Vd,"Query.where",this.firestore.rd,this.firestore.sf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ln(t.path,t.collectionGroup,t.en.slice(),n,t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,s),this.firestore,this.rf)},t.prototype.orderBy=function(e,n){var r;if($o("Query.orderBy",arguments,1,2),qo("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new O(x.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Rs("Query.orderBy",e),o=ta(this.Vd,i,r);return new t(function(t,e){var n=t.en.concat([e]);return new ln(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,o),this.firestore,this.rf)},t.prototype.limit=function(e){return Uo("Query.limit",arguments,1),Ho("Query.limit","number",1,e),es("Query.limit",1,e),new t(mn(this.Vd,e,"F"),this.firestore,this.rf)},t.prototype.limitToLast=function(e){return Uo("Query.limitToLast",arguments,1),Ho("Query.limitToLast","number",1,e),es("Query.limitToLast",1,e),new t(mn(this.Vd,e,"L"),this.firestore,this.rf)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bo("Query.startAt",arguments,1);var i=this.yd("Query.startAt",e,n,!0);return new t(vn(this.Vd,i),this.firestore,this.rf)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bo("Query.startAfter",arguments,1);var i=this.yd("Query.startAfter",e,n,!1);return new t(vn(this.Vd,i),this.firestore,this.rf)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bo("Query.endBefore",arguments,1);var i=this.yd("Query.endBefore",e,n,!0);return new t(yn(this.Vd,i),this.firestore,this.rf)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bo("Query.endAt",arguments,1);var i=this.yd("Query.endAt",e,n,!1);return new t(yn(this.Vd,i),this.firestore,this.rf)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ts("isEqual","Query",1,e);return this.firestore===e.firestore&&bn(this.Vd,e.Vd)&&this.rf===e.rf},t.prototype.withConverter=function(e){return new t(this.Vd,this.firestore,e)},t.prototype.yd=function(t,e,n,i){if(Xo(t,1,e),e instanceof Zs)return Uo(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new O(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=pn(t);s<a.length;s++){var u=a[s];if(u.field.M())o.push(jt(e,r.key));else{var c=r.field(u.field);if(kt(c))throw new O(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new O(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Pn(o,i)}(this.Vd,this.firestore.sf,t,e.Rd,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.en;if(i.length>s.length)throw new O(x.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.M()){if("string"!=typeof c)throw new O(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!fn(t)&&-1!==c.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(R.k(c));if(!V.j(l))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new V(l);a.push(jt(e,h))}else{var d=xs(n,r,c);a.push(d)}}return new Pn(a,o)}(this.Vd,this.firestore.sf,this.firestore.rd,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];$o("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Mo(i[a])||(Qo("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),zo("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Mo(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Ho("Query.onSnapshot","function",a,i[a]),qo("Query.onSnapshot","function",a+1,i[a+1]),qo("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new sa(r.firestore,r.Vd,t,r.rf))},error:i[a+1],complete:i[a+2]};return ia(this.Vd),this.firestore.Xf().listen(this.Vd,s,c)},t.prototype.get=function(t){var e=this;$o("Query.get",arguments,0,1),la("Query.get",t),ia(this.Vd);var n=this.firestore.Xf();return(t&&"cache"===t.source?n.xf(this.Vd):n.Of(this.Vd,t)).then((function(t){return new sa(e.firestore,e.Vd,t,e.rf)}))},t}(),sa=function(){function t(t,e,n,r){this.wd=t,this.pd=e,this.bd=n,this.rf=r,this.vd=null,this.Sd=null,this.metadata=new Ys(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.bd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;$o("QuerySnapshot.forEach",arguments,1,2),Ho("QuerySnapshot.forEach","function",1,t),this.bd.docs.forEach((function(r){t.call(e,n.Dd(r,n.metadata.fromCache,n.bd.qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new oa(this.pd,this.wd,this.rf)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Qo("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),zo("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bd.Ut)throw new O(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vd&&this.Sd===e||(this.vd=function(t,e,n){if(t.Lt._()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Lt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:da(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.bd,e,this.Dd.bind(this)),this.Sd=e),this.vd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ts("isEqual","QuerySnapshot",1,e);return this.wd===e.wd&&bn(this.pd,e.pd)&&this.bd.isEqual(e.bd)&&this.rf===e.rf},t.prototype.Dd=function(t,e,n){return new Xs(this.wd,t.key,t,e,n,this.rf)},t}(),aa=function(t){function e(e,n,r){var i=this;if((i=t.call(this,dn(e),n,r)||this).Cd=e,e.length%2!=1)throw new O(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Vd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Vd.path.p();return t._()?null:new Js(new V(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Vd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){$o("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=w.t()),Ho("CollectionReference.doc","non-empty string",1,t);var e=R.k(t);return Js._d(this.Vd.path.child(e),this.firestore,this.rf)},e.prototype.add=function(t){Uo("CollectionReference.add",arguments,1),Ho("CollectionReference.add","object",1,this.rf?this.rf.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Cd,this.firestore,t)},e}(oa);function ua(t,e){if(void 0===e)return{merge:!1};if(Qo(t,e,["merge","mergeFields"]),zo(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Zo(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Zo(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof us}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new O(x.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ca(t,e){return void 0===e?{}:(Qo(t,e,["serverTimestamps"]),Wo(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function la(t,e){qo(t,"object",1,e),e&&(Qo(t,e,["source"]),Wo(t,0,"source",e.source,["default","server","cache"]))}function ha(t,e,n){if(e instanceof _s){if(e.firestore!==n)throw new O(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw ts(t,"DocumentReference",1,e)}function da(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function fa(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pa={Firestore:zs,GeoPoint:bs,Timestamp:N,Blob:ss,Transaction:Ws,WriteBatch:Ks,DocumentReference:Js,DocumentSnapshot:Zs,Query:oa,QueryDocumentSnapshot:Xs,QuerySnapshot:sa,CollectionReference:aa,FieldPath:us,FieldValue:vs,setLogLevel:zs.setLogLevel,CACHE_SIZE_UNLIMITED:qs};function ga(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new Lo,r=new Ro(n);return new zs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pa)))}(t),t.registerVersion("@firebase/firestore","1.16.6")}ga(c.default),e.__PRIVATE_registerFirestore=ga},He8V:function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var n,r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s={alertTime:3,dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],overlayClickDismiss:!0,overlayOpacity:.75,transitionCurve:"ease",transitionDuration:.3,transitionSelector:"all",classes:{container:"notie-container",textbox:"notie-textbox",textboxInner:"notie-textbox-inner",button:"notie-button",element:"notie-element",elementHalf:"notie-element-half",elementThird:"notie-element-third",overlay:"notie-overlay",backgroundSuccess:"notie-background-success",backgroundWarning:"notie-background-warning",backgroundError:"notie-background-error",backgroundInfo:"notie-background-info",backgroundNeutral:"notie-background-neutral",backgroundOverlay:"notie-background-overlay",alert:"notie-alert",inputField:"notie-input-field",selectChoiceRepeated:"notie-select-choice-repeated",dateSelectorInner:"notie-date-selector-inner",dateSelectorUp:"notie-date-selector-up"},ids:{overlay:"notie-overlay"},positions:{alert:"top",force:"top",confirm:"top",input:"top",select:"bottom",date:"top"}},a=e.setOptions=function(t){s=i({},s,t,{classes:i({},s.classes,t.classes),ids:i({},s.ids,t.ids),positions:i({},s.positions,t.positions)})},u=function(){return new Promise((function(t){return setTimeout(t,0)}))},c=function(t){return new Promise((function(e){return setTimeout(e,1e3*t)}))},l=function(){document.activeElement&&document.activeElement.blur()},h=function(){return"notie-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},d={1:s.classes.backgroundSuccess,success:s.classes.backgroundSuccess,2:s.classes.backgroundWarning,warning:s.classes.backgroundWarning,3:s.classes.backgroundError,error:s.classes.backgroundError,4:s.classes.backgroundInfo,info:s.classes.backgroundInfo,5:s.classes.backgroundNeutral,neutral:s.classes.backgroundNeutral},f=function(){return s.transitionSelector+" "+s.transitionDuration+"s "+s.transitionCurve},p=function(t){return 13===t.keyCode},g=function(t){return 27===t.keyCode},m=function(t,e){t.classList.add(s.classes.container),t.style[e]="-10000px",document.body.appendChild(t),t.style[e]="-"+t.offsetHeight+"px",t.listener&&window.addEventListener("keydown",t.listener),u().then((function(){t.style.transition=f(),t.style[e]=0}))},v=function(t,e){var n=document.getElementById(t);n&&(n.style[e]="-"+n.offsetHeight+"px",n.listener&&window.removeEventListener("keydown",n.listener),c(s.transitionDuration).then((function(){n.parentNode&&n.parentNode.removeChild(n)})))},y=function(t,e){var n=document.createElement("div");n.id=s.ids.overlay,n.classList.add(s.classes.overlay),n.classList.add(s.classes.backgroundOverlay),n.style.opacity=0,t&&s.overlayClickDismiss&&(n.onclick=function(){v(t.id,e),b()}),document.body.appendChild(n),u().then((function(){n.style.transition=f(),n.style.opacity=s.overlayOpacity}))},b=function(){var t=document.getElementById(s.ids.overlay);t.style.opacity=0,c(s.transitionDuration).then((function(){t.parentNode&&t.parentNode.removeChild(t)}))},w=e.hideAlerts=function(t){var e=document.getElementsByClassName(s.classes.alert);if(e.length){for(var n=0;n<e.length;n++){var r=e[n];v(r.id,r.position)}t&&c(s.transitionDuration).then((function(){return t()}))}},_=e.alert=function(t){var e=t.type,n=void 0===e?4:e,r=t.text,i=t.time,o=void 0===i?s.alertTime:i,a=t.stay,u=void 0!==a&&a,f=t.position,y=void 0===f?s.positions.alert||y.top:f;l(),w();var b=document.createElement("div"),_=h();b.id=_,b.position=y,b.classList.add(s.classes.textbox),b.classList.add(d[n]),b.classList.add(s.classes.alert),b.innerHTML='<div class="'+s.classes.textboxInner+'">'+r+"</div>",b.onclick=function(){return v(_,y)},b.listener=function(t){(p(t)||g(t))&&w()},m(b,y),o&&o<1&&(o=1),!u&&o&&c(o).then((function(){return v(_,y)}))},E=e.force=function(t,e){var n=t.type,r=void 0===n?5:n,i=t.text,o=t.buttonText,a=void 0===o?"OK":o,u=t.callback,c=t.position,f=void 0===c?s.positions.force||f.top:c;l(),w();var g=document.createElement("div"),_=h();g.id=_;var E=document.createElement("div");E.classList.add(s.classes.textbox),E.classList.add(s.classes.backgroundInfo),E.innerHTML='<div class="'+s.classes.textboxInner+'">'+i+"</div>";var S=document.createElement("div");S.classList.add(s.classes.button),S.classList.add(d[r]),S.innerHTML=a,S.onclick=function(){v(_,f),b(),u?u():e&&e()},g.appendChild(E),g.appendChild(S),g.listener=function(t){p(t)&&S.click()},m(g,f),y()},S=e.confirm=function(t,e,n){var r=t.text,i=t.submitText,o=void 0===i?"Yes":i,a=t.cancelText,u=void 0===a?"Cancel":a,c=t.submitCallback,d=t.cancelCallback,f=t.position,_=void 0===f?s.positions.confirm||_.top:f;l(),w();var E=document.createElement("div"),S=h();E.id=S;var I=document.createElement("div");I.classList.add(s.classes.textbox),I.classList.add(s.classes.backgroundInfo),I.innerHTML='<div class="'+s.classes.textboxInner+'">'+r+"</div>";var C=document.createElement("div");C.classList.add(s.classes.button),C.classList.add(s.classes.elementHalf),C.classList.add(s.classes.backgroundSuccess),C.innerHTML=o,C.onclick=function(){v(S,_),b(),c?c():e&&e()};var T=document.createElement("div");T.classList.add(s.classes.button),T.classList.add(s.classes.elementHalf),T.classList.add(s.classes.backgroundError),T.innerHTML=u,T.onclick=function(){v(S,_),b(),d?d():n&&n()},E.appendChild(I),E.appendChild(C),E.appendChild(T),E.listener=function(t){p(t)?C.click():g(t)&&T.click()},m(E,_),y(E,_)},I=function(t,e,n){var i=t.text,o=t.submitText,a=void 0===o?"Submit":o,u=t.cancelText,c=void 0===u?"Cancel":u,d=t.submitCallback,f=t.cancelCallback,_=t.position,E=void 0===_?s.positions.input||E.top:_,S=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["text","submitText","cancelText","submitCallback","cancelCallback","position"]);l(),w();var I=document.createElement("div"),C=h();I.id=C;var T=document.createElement("div");T.classList.add(s.classes.textbox),T.classList.add(s.classes.backgroundInfo),T.innerHTML='<div class="'+s.classes.textboxInner+'">'+i+"</div>";var k=document.createElement("input");k.classList.add(s.classes.inputField),k.setAttribute("autocapitalize",S.autocapitalize||"none"),k.setAttribute("autocomplete",S.autocomplete||"off"),k.setAttribute("autocorrect",S.autocorrect||"off"),k.setAttribute("autofocus",S.autofocus||"true"),k.setAttribute("inputmode",S.inputmode||"verbatim"),k.setAttribute("max",S.max||""),k.setAttribute("maxlength",S.maxlength||""),k.setAttribute("min",S.min||""),k.setAttribute("minlength",S.minlength||""),k.setAttribute("placeholder",S.placeholder||""),k.setAttribute("spellcheck",S.spellcheck||"default"),k.setAttribute("step",S.step||"any"),k.setAttribute("type",S.type||"text"),k.value=S.value||"",S.allowed&&(k.oninput=function(){var t=void 0;if(Array.isArray(S.allowed)){for(var e="",n=S.allowed,i=0;i<n.length;i++)"an"===n[i]?e+="0-9a-zA-Z":"a"===n[i]?e+="a-zA-Z":"n"===n[i]&&(e+="0-9"),"s"===n[i]&&(e+=" ");t=new RegExp("[^"+e+"]","g")}else"object"===r(S.allowed)&&(t=S.allowed);k.value=k.value.replace(t,"")});var A=document.createElement("div");A.classList.add(s.classes.button),A.classList.add(s.classes.elementHalf),A.classList.add(s.classes.backgroundSuccess),A.innerHTML=a,A.onclick=function(){v(C,E),b(),d?d(k.value):e&&e(k.value)};var D=document.createElement("div");D.classList.add(s.classes.button),D.classList.add(s.classes.elementHalf),D.classList.add(s.classes.backgroundError),D.innerHTML=c,D.onclick=function(){v(C,E),b(),f?f(k.value):n&&n(k.value)},I.appendChild(T),I.appendChild(k),I.appendChild(A),I.appendChild(D),I.listener=function(t){p(t)?A.click():g(t)&&D.click()},m(I,E),k.focus(),y(I,E)};e.input=I;var C=e.select=function(t,e){var n=t.text,r=t.cancelText,i=void 0===r?"Cancel":r,o=t.cancelCallback,a=t.choices,u=t.position,c=void 0===u?s.positions.select||c.top:u;l(),w();var f=document.createElement("div"),p=h();f.id=p;var _=document.createElement("div");_.classList.add(s.classes.textbox),_.classList.add(s.classes.backgroundInfo),_.innerHTML='<div class="'+s.classes.textboxInner+'">'+n+"</div>",f.appendChild(_),a.forEach((function(t,e){var n=t.type,r=void 0===n?1:n,i=t.text,o=t.handler,u=document.createElement("div");u.classList.add(d[r]),u.classList.add(s.classes.button),u.classList.add(s.classes.selectChoice);var l=a[e+1];l&&!l.type&&(l.type=1),l&&l.type===r&&u.classList.add(s.classes.selectChoiceRepeated),u.innerHTML=i,u.onclick=function(){v(p,c),b(),o()},f.appendChild(u)}));var E=document.createElement("div");E.classList.add(s.classes.backgroundNeutral),E.classList.add(s.classes.button),E.innerHTML=i,E.onclick=function(){v(p,c),b(),o?o():e&&e()},f.appendChild(E),f.listener=function(t){g(t)&&E.click()},m(f,c),y(f,c)},T=e.date=function(t,e,n){var r=t.value,i=void 0===r?new Date:r,o=t.submitText,a=void 0===o?"OK":o,u=t.cancelText,c=void 0===u?"Cancel":u,d=t.submitCallback,f=t.cancelCallback,_=t.position,E=void 0===_?s.positions.date||E.top:_;l(),w();var S="&#9662",I=document.createElement("div"),C=document.createElement("div"),T=document.createElement("div"),k=function(t){I.innerHTML=s.dateMonths[t.getMonth()],C.innerHTML=t.getDate(),T.innerHTML=t.getFullYear()},A=function(t){k(i)},D=function(t){var e=new Date(i.getFullYear(),i.getMonth()+t+1,0).getDate();i.getDate()>e&&i.setDate(e),i.setMonth(i.getMonth()+t),k(i)},x=function(t){i.setDate(i.getDate()+t),k(i)},O=function(t){var e=i.getFullYear()+t;i.setFullYear(e<0?0:i.getFullYear()+t),k(i)},N=document.createElement("div"),P=h();N.id=P;var F=document.createElement("div");F.classList.add(s.classes.backgroundInfo);var R=document.createElement("div");R.classList.add(s.classes.dateSelectorInner);var L=document.createElement("div");L.classList.add(s.classes.button),L.classList.add(s.classes.elementThird),L.classList.add(s.classes.dateSelectorUp),L.innerHTML=S;var M=document.createElement("div");M.classList.add(s.classes.button),M.classList.add(s.classes.elementThird),M.classList.add(s.classes.dateSelectorUp),M.innerHTML=S;var V=document.createElement("div");V.classList.add(s.classes.button),V.classList.add(s.classes.elementThird),V.classList.add(s.classes.dateSelectorUp),V.innerHTML=S,I.classList.add(s.classes.element),I.classList.add(s.classes.elementThird),I.innerHTML=s.dateMonths[i.getMonth()],C.classList.add(s.classes.element),C.classList.add(s.classes.elementThird),C.setAttribute("contentEditable",!0),C.addEventListener("input",(function(t){var e=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),n=t.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,2);Number(n)>e&&(n=e.toString()),t.target.textContent=n,Number(n)<1&&(n="1"),i.setDate(Number(n))})),C.addEventListener("blur",A),C.innerHTML=i.getDate(),T.classList.add(s.classes.element),T.classList.add(s.classes.elementThird),T.setAttribute("contentEditable",!0),T.addEventListener("input",(function(t){var e=t.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,4);t.target.textContent=e,i.setFullYear(Number(e))})),T.addEventListener("blur",A),T.innerHTML=i.getFullYear();var j=document.createElement("div");j.classList.add(s.classes.button),j.classList.add(s.classes.elementThird),j.innerHTML=S;var U=document.createElement("div");U.classList.add(s.classes.button),U.classList.add(s.classes.elementThird),U.innerHTML=S;var B=document.createElement("div");B.classList.add(s.classes.button),B.classList.add(s.classes.elementThird),B.innerHTML=S,L.onclick=function(){return D(1)},M.onclick=function(){return x(1)},V.onclick=function(){return O(1)},j.onclick=function(){return D(-1)},U.onclick=function(){return x(-1)},B.onclick=function(){return O(-1)};var $=document.createElement("div");$.classList.add(s.classes.button),$.classList.add(s.classes.elementHalf),$.classList.add(s.classes.backgroundSuccess),$.innerHTML=a,$.onclick=function(){v(P,E),b(),d?d(i):e&&e(i)};var H=document.createElement("div");H.classList.add(s.classes.button),H.classList.add(s.classes.elementHalf),H.classList.add(s.classes.backgroundError),H.innerHTML=c,H.onclick=function(){v(P,E),b(),f?f(i):n&&n(i)},R.appendChild(L),R.appendChild(M),R.appendChild(V),R.appendChild(I),R.appendChild(C),R.appendChild(T),R.appendChild(j),R.appendChild(U),R.appendChild(B),F.appendChild(R),N.appendChild(F),N.appendChild($),N.appendChild(H),N.listener=function(t){p(t)?$.click():g(t)&&H.click()},m(N,E),y(N,E)};e.default={alert:_,force:E,confirm:S,input:I,select:C,date:T,setOptions:a,hideAlerts:w}}])},"object"===o(e)&&"object"===o(t)?t.exports=i():void 0===(r="function"==typeof(n=i)?n.apply(e,[]):n)||(t.exports=r)}).call(e,n(0)(t))}])},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function I(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t,e,n){this.code=A+t,this.message=e||D[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new C(e.substring(A.length),t.message,t.serverResponse):null}I(C,Error),C.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.v()};var k,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function R(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}k=O("__EID__")?"__EID__":void 0,I(P,Error),P.prototype.name="CustomError",I(F,P),F.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new L((function(){return new B}),(function(t){t.reset()}));function U(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=$(t,e)}function K(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function J(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){X=lt;break t}}X=""}function ht(t){return at(X,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===_t&&e||"",this.b=wt}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===wt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ra=!0,yt.prototype.qa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},_t={},Et=new yt(_t,"");function St(t,e){this.a=t===Dt&&e||"",this.b=At}function It(t){return t instanceof St&&t.constructor===St&&t.b===At?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=bt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))})),new St(Dt,t)}St.prototype.ra=!0,St.prototype.qa=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},Dt={};function xt(t,e){this.a=t===Rt&&e||"",this.b=Ft}function Ot(t){return t instanceof xt&&t.constructor===xt&&t.b===Ft?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof xt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new xt(Rt,t))}var Ft={},Rt={};function Lt(){this.a="",this.b=Vt}function Mt(t){return t instanceof Lt&&t.constructor===Lt&&t.b===Vt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Lt.prototype.ra=!0,Lt.prototype.qa=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function jt(t){var e=new Lt;return e.a=t,e}jt("<!DOCTYPE html>");var Ut=jt("");function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function $t(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}jt("<br>"),Ht[" "]=h;var qt,Gt,zt=ht("Opera"),Wt=ht("Trident")||ht("MSIE"),Kt=ht("Edge"),Jt=Kt||Wt,Yt=ht("Gecko")&&!(at(X.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Zt=at(X.toLowerCase(),"webkit")&&!ht("Edge");function Xt(){var t=u.document;return t?t.documentMode:void 0}t:{var Qt="",te=(Gt=X,Yt?/rv:([^\);]+)(\)|;)/.exec(Gt):Kt?/Edge\/([\d\.]+)/.exec(Gt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Zt?/WebKit\/(\S+)/.exec(Gt):zt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(te&&(Qt=te?te[1]:""),Wt){var ee=Xt();if(null!=ee&&ee>parseFloat(Qt)){qt=String(ee);break t}}qt=Qt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Q(String(qt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&Wt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var oe=!Wt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!f(o)||g(o)&&0<o.nodeType?r(o):H(fe(o)?Z(o):o,r)}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ge(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(ye)}}else ce=function(){var t=ye;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",function(t){var e=new St(Dt,bt(Et));vt(t,"HTMLIFrameElement"),t.src=It(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Mt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),me||(ce(),me=!0),ve.add(t,e)}var me=!1,ve=new V;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){pe(e)}M(j,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ne(n,_e,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Ee,t)}))}catch(r){Ne(this,Ee,r)}}var we=0,_e=2,Ee=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new L((function(){return new Se}),(function(t){t.reset()}));function Ce(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof be)return t;var e=new be(h);return Ne(e,_e,t),e}function ke(t){return new be((function(e,n){n(t)}))}function Ae(t,e,n){Pe(t,e,n,null)||ge(E(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=_e&&t.a!=Ee||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Ce(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,xe(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ge((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return xe(t,Ce(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,ge(t.ec,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(i){Ve.call(null,i)}M(Ie,e)}function Me(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).ma=function(t,e){return(t=Ce(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ge((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Re(r),Le(r,o,Ee,n)))}e.c=null}else Ne(e,Ee,n)}(this,e)}),this)}},t.Yc=function(t){this.a=we,Ne(this,_e,t)},t.Zc=function(t){this.a=we,Ne(this,Ee,t)},t.ec=function(){for(var t;t=Re(this);)Le(this,t,this.a,this.i);this.h=!1};var Ve=pe;function je(t){P.call(this,t)}function Ue(){0!=Be&&($e[m(this)]=this),this.wa=this.wa,this.na=this.na}I(je,P),je.prototype.name="cancel";var Be=0,$e={};function He(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Be)){var e=m(t);if(0!=Be&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $e[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var qe=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(ne),ze=Wt&&!ie("9"),We=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Je,Ke);var Ye=qe({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.f=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Xe,this.ua=this.Na=!1}function tn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Qe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Ze]?wn(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ze]?_n(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Ze]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ze])nn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function dn(t){return t in sn?sn[t]:sn[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&hn(t),n.call(r,e)}function gn(t,e){if(t.ua)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Je(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function bn(){Ue.call(this),this.u=new en(this),this.Yb=this,this.eb=null}function wn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&nn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function In(t){var e=null;return new be((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Cn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,Ue),bn.prototype[Ze]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;mt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Ba=function(){if(bn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=kn.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof On?(this.h=void 0!==e?e:t.h,Nn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Fn(this,Qn(t.a)),this.g=t.g):t&&(n=String(t).match(xn))?(this.h=!!e,Nn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Pn(this,n[4]),this.c=jn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new Wn(null,this.h))}function Nn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Fn(t,e,n){e instanceof Wn?(t.a=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,Gn)),t.a=new Wn(e,t.h))}function Rn(t,e,n){t.a.set(e,n)}function Ln(t,e){return t.a.get(e)}function Mn(t){return t instanceof On?new On(t):new On(t,void 0)}function Vn(t,e){var n=new On(null,void 0);return Nn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,$n,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,$n,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?qn:Hn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,zn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Nn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Fn(e,Qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var $n=/[#\/\?@]/g,Hn=/[#\?:]/g,qn=/[#\?]/g,Gn=/[#\?@]/g,zn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Kn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Zn(t,e){return Kn(t),e=tr(t,e),Dn(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Z(n)),t.b+=n.length)}function Qn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Wn.prototype).add=function(t,e){Kn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Kn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Kn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Zn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Ir();return Wt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ar(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||u.window;var n="about:blank";t&&(n=Ot(Pt(t))),e.location.href=n}function cr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),_r(Ir())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e instanceof xt||e instanceof xt||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new xt(Rt,e)),s.href=Ot(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Ot(e),s&&(Jt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$t(t)+'">'),r=s.document)&&(r.write(Mt(t)),r.close())):(s=r.open(Ot(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new be((function(e){"complete"==u.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function gr(t){return t=t||Ir(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function yr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function br(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox";function _r(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?wr:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Er={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=_r(i=Ir()):"Worker"===r&&(r=_r(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=u.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!u.indexedDB}catch(n){return vr()&&!!u.indexedDB}return!1}function kr(){return(Ar()||"chrome-extension:"===Dr()||gr())&&!br()&&Tr()&&!vr()}function Ar(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return u.location&&u.location.protocol||null}function xr(t){return!cr(t=t||Ir())&&_r(t)!=wr}function Or(t){return void 0===t?null:er(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=_r(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Mr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=yr(),this.b=cr(t)||"ReactNative"===e}function Vr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}Mr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,$r={};function Hr(t){$r[t]||($r[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==qr.abcd}catch(Gt){Br=!1}function Gr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Wr(t){var e={};return zr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,Kr(t[n]));return e}function Jr(t){var e=t&&(t[ti]?"phone":null);if(!(e&&t&&t[Qr]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[Qr]),Gr(this,"displayName",t[Zr]||null);var n=null;t[Xr]&&(n=new Date(t[Xr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Yr(t){try{var e=new ei(t)}catch(n){e=null}return e}Jr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",Xr="enrolledAt",Qr="mfaEnrollmentId",ti="phoneInfo";function ei(t){Jr.call(this,t),Gr(this,"phoneNumber",t[ti])}function ni(t){var e={},n=t[si],r=t[ui],i=t[ci];if(t=Yr(t[ai]),!i||i!=ii&&i!=oi&&!n||i==oi&&!r||i==ri&&!t)throw Error("Invalid checkActionCode response!");i==oi?(e[hi]=n||null,e[fi]=n||null,e[li]=r):(e[hi]=r||null,e[fi]=r||null,e[li]=n||null),e[di]=t||null,Gr(this,gi,i),Gr(this,pi,Kr(e))}I(ei,Jr),ei.prototype.v=function(){var t=ei.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ri="REVERT_SECOND_FACTOR_ADDITION",ii="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",si="email",ai="mfaInfo",ui="newEmail",ci="requestType",li="email",hi="fromEmail",di="multiFactorInfo",fi="previousEmail",pi="data",gi="operation";function mi(t){var e=Ln(t=Mn(t),vi)||null,n=Ln(t,yi)||null,r=Ln(t,_i)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new C("argument-error",vi+", "+yi+"and "+_i+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,bi)||null,languageCode:Ln(t,wi)||null,tenantId:Ln(t,Ei)||null})}var vi="apiKey",yi="oobCode",bi="continueUrl",wi="languageCode",_i="mode",Ei="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ri,signIn:ii,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new mi(t)}catch(e){return null}}function Ci(t){var e=t[xi];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Pi];var r=n[Oi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new C("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",ki="dynamicLinkDomain",Ai="handleCodeInApp",Di="iOS",xi="url",Oi="installApp",Ni="minimumVersion",Pi="packageName",Fi="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function Mi(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Mi(t)}catch(e){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],$i={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Bi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Bi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Bi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ui},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Hi(t){for(var e in $i)if($i[e].ea==t)return $i[e];return null}function qi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=Zi,e["github.com"]=Yi,e["twitter.com"]=Xi;var n=t&&t[zi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[Gi])return new Wi(t)}catch(r){}return null}var Gi="idToken",zi="providerId";function Wi(t){var e=t[zi];if(!e&&t[Gi]){var n=Vi(t[Gi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Ki(t){Wi.call(this,t),Gr(this,"profile",Kr((t=Pr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function Qi(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function to(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?eo:no}I(Ki,Wi),I(Ji,Ki),I(Yi,Ki),I(Zi,Ki),I(Xi,Ki);var eo="enroll",no="signin";function ro(){}function io(t,e){return t.then((function(t){if(t[qs]){var n=Vi(t[qs]);if(!n||e!=n.h)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new C("user-mismatch"):t}))}function oo(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ao(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new oo(t.providerId,t.pendingToken)}catch(e){}return null}function uo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function co(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new uo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function ho(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Hi(t)||{}).Ha||null,this.kb=null}function fo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,t,[])}function po(t){ho.call(this,t,Bi),this.a=[]}function go(){po.call(this,"facebook.com")}function mo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function vo(){po.call(this,"github.com")}function yo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function bo(){po.call(this,"google.com"),this.Aa("profile")}function wo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new bo).credential({idToken:n,accessToken:e})}function _o(){ho.call(this,"twitter.com",Ui)}function Eo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=ko(e)))throw new C("argument-error","Invalid email link!");return new So(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Ii(t=Qi(t)))&&t.operation===ii?t:null}function Ao(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new C("internal-error");this.a=t,Gr(this,"providerId","phone"),this.ea="phone",Gr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function xo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Oo(t){try{this.a=t||e.auth()}catch(n){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Ao({bb:t,ab:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return mo(n);case"github.com":return yo(n);case"twitter.com":return Eo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new oo(e,s):new uo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new po(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Fo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Ro(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new Ro(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}to.prototype.Fa=function(){return Te(this.a?this.a:this.b)},to.prototype.v=function(){return this.type==eo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ro.prototype.ia=function(){},ro.prototype.b=function(){},ro.prototype.c=function(){},ro.prototype.v=function(){},oo.prototype.ia=function(t){return ca(t,so(this))},oo.prototype.b=function(t,e){var n=so(this);return n.idToken=e,la(t,n)},oo.prototype.c=function(t,e){return io(ha(t,so(this)),e)},oo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ia=function(t){return ca(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,la(t,n)},uo.prototype.c=function(t,e){return io(ha(t,co(this)),e)},uo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ho.prototype.Ia=function(t){return this.Fb=pt(t),this},I(fo,ho),I(po,ho),po.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},po.prototype.Nb=function(){return Z(this.a)},po.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},I(go,po),Gr(go,"PROVIDER_ID","facebook.com"),Gr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(vo,po),Gr(vo,"PROVIDER_ID","github.com"),Gr(vo,"GITHUB_SIGN_IN_METHOD","github.com"),I(bo,po),Gr(bo,"PROVIDER_ID","google.com"),Gr(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(_o,ho),Gr(_o,"PROVIDER_ID","twitter.com"),Gr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ia=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?za(t,ba,{email:this.a,oobCode:this.f}):za(t,Ba,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?za(t,wa,{idToken:e,email:this.a,oobCode:this.f}):za(t,Pa,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return io(this.ia(t),e)},So.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ia=function(t){return t.cb(xo(this))},Ao.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,za(t,Ha,n)},Ao.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",io(t=za(t,qa,n),e)},Ao.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Oo.prototype.cb=function(t,e){var n=this.a.b;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==eo?i.Fa().then((function(t){return function(t,e){return za(t,Ra,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==no?i.Fa().then((function(e){return function(t,e){return za(t,La,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return za(t,Oa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Oo,{PROVIDER_ID:"phone"}),zr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Ro.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ro.prototype.S=function(){return this.h},Ro.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Vo,jo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Bo(t,e,n){C.call(this,t,n),(t=e||{}).Gb&&Gr(this,"email",t.Gb),t.da&&Gr(this,"phoneNumber",t.da),t.credential&&Gr(this,"credential",t.credential),t.Wb&&Gr(this,"tenantId",t.Wb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Po(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function Ho(){}function qo(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zo(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.oc,this),this.a.onerror=_(this.Pb,this),this.a.onprogress=_(this.pc,this),this.a.ontimeout=_(this.tc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}I(Uo,C),I(Bo,C),Bo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&mt(t,e),t},Bo.prototype.toJSON=function(){return this.v()},Ho.prototype.c=null,I(qo,Ho),qo.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},Vo=new qo,I(zo,Ho),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},Zo.prototype.toString=function(){return this.name};var Xo=new Zo("SEVERE",1e3),Qo=new Zo("WARNING",900),ts=new Zo("CONFIG",700),es=new Zo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ns={},rs=null;function is(t){var e;if(rs||(rs=new Yo(""),ns[""]=rs,rs.c=ts),!(e=ns[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=is(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ns[t]=e}return e}function os(t,e){t&&t.log(es,e,void 0)}function ss(t){this.f=t}function as(t){bn.call(this),this.s=t,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=is("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(ss,Ho),ss.prototype.a=function(){return new as(this.f)},ss.prototype.b=function(t){return function(){return t}}({}),I(as,bn);var us=0;function cs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ls(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,hs(t)}function hs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){bn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=fs,this.w=this.R=!1}(t=as.prototype).open=function(t,e){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,hs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ls(this,!1)),this.readyState=us},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,hs(this)),this.a&&(this.readyState=3,hs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ls(this,!0):hs(this),3==this.readyState&&cs(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ls(this,!0))},t.qc=function(t){this.a&&(this.response=t,ls(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Qo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ls(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Qo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Qo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},I(ds,bn);var fs="";ds.prototype.b=is("goog.net.XhrIo");var ps=/^https?$/i,gs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function vs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ys(t),ws(t)}function ys(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bs(t){if(t.c&&void 0!==a)if(t.B[1]&&4==Es(t)&&2==Ss(t))os(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==Es(t))Sn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Es(t)){os(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Ss(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!ps.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Es(t)?t.a.statusText:""}catch(l){os(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ss(t)+"]",ys(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){_s(t);var n=t.a,r=t.B[0]?h:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Xo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Es(t){return t.a?t.a.readyState:0}function Ss(t){try{return 2<Es(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Ss(t)+"]"}function Cs(t){var e=Ls;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ts(t,e,n){t.a=!0,t.c=n,t.f=!e,xs(t)}function ks(t){if(t.a){if(!t.u)throw new Os(t);t.u=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&xs(t)}function Ds(t){return z(t.g,(function(t){return p(t[1])}))}function xs(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=Fs[e];n&&(u.clearTimeout(n.a),delete Fs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(a=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Cs?(As(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new Ps(e),Fs[e.a]=e,t.h=e.a)}function Os(){P.call(this)}function Ns(){P.call(this)}function Ps(t){this.a=u.setTimeout(_(this.c,this),0),this.b=t}(t=ds.prototype).Ka=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(os(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),ds.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?bs(this):this.Hc())},t.Hc=function(){bs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Xo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return os(this.b,"Can not get response: "+e.message),null}},Cs.prototype.cancel=function(t){if(this.a)this.c instanceof Cs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ns(this),ks(this),Ts(this,!1,t))}},Cs.prototype.m=function(t,e){this.i=!1,Ts(this,t,e)},Cs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return As(this,r,(function(t){t instanceof Ns?o.cancel():i(t)})),o.then(t,e,n)},Cs.prototype.$goog_Thenable=!0,I(Os,P),Os.prototype.message="Deferred has already fired",Os.prototype.name="AlreadyCalledError",I(Ns,P),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete Fs[this.a],this.b};var Fs={};function Rs(t){var e={},n=e.document||document,r=It(t).toString(),i=de(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new Cs(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){Ms(i,!0);var t=new Us(js,"Timeout reached for loading script "+r);ks(s),Ts(s,!1,t)}),h),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ms(i,e.ud||!1,a),ks(s),Ts(s,!0,null))},i.onerror=function(){Ms(i,!0,a);var t=new Us(Vs,"Error while loading script "+r);ks(s),Ts(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=It(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ls(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ms(t,!0,this.Ka)}}function Ms(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,js=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Bs(t){this.f=t}function $s(t,n,r){if(this.c=t,this.u=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Gs,this.g=pt(t.secureTokenHeaders||zs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ws,this.a=pt(t.firebaseHeaders||Ks),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==yr(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!vr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new ss(self):br()?new Bs(r):new zo,this.b=null}I(Us,P),I(Bs,Ho),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var Hs,qs="idToken",Gs=new Mr(3e4,6e4),zs={"Content-Type":"application/x-www-form-urlencoded"},Ws=new Mr(3e4,6e4),Ks={"Content-Type":"application/json"};function Js(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Zs(t,e,n,r,i,o,s){(function(){var t=Ir();return!((t="Chrome"!=_r(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ne&&!(9<ne))})()||vr()?t=_(t.w,t):(Hs||(Hs=new be((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[Qs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){As(t,null,e,void 0)}(Rs(Ct(Xs,{onload:Qs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.S=function(){return this.b},$s.prototype.w=function(t,e,n,r,i,o){if(vr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(s,"ready",(function(){a&&clearTimeout(a),He(this)})),_n(s,"timeout",(function(){a&&clearTimeout(a),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Vo),t.a.onreadystatechange=_(t.Sb,t);try{os(t.b,Is(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return os(t.b,Is(t,"Error opening Xhr: "+s.message)),void vs(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Tn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!W(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_s(t),0<t.g&&(t.w=function(t){return Wt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),os(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ka,t)):t.s=Sn(t.Ka,t.g,t)),os(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){os(t.b,Is(t,"Send error: "+s.message)),vs(t,s)}}(s,t,n,r,i)};var Xs=new yt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),Qs="__fcb"+Math.floor(1e6*Math.random()).toString();function ta(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new C("invalid-email")}function ea(t){"email"in t&&ta(t)}function na(t){if(!t[qs]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,pt(t));throw new C("internal-error")}}function ra(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Hs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$s.prototype.vb=function(){return za(this,Fa,{})},$s.prototype.xb=function(t,e){return za(this,Na,{idToken:t,email:e})},$s.prototype.yb=function(t,e){return za(this,Pa,{idToken:t,password:e})};var ia={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function oa(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function sa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function aa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ua(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=Wa(t.errorMessage)),e)throw e;na(t)}function ca(t,e){return e.returnIdpCredential=!0,za(t,Ma,e)}function la(t,e){return e.returnIdpCredential=!0,za(t,ja,e)}function ha(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,za(t,Va,e)}function da(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=$s.prototype).zb=function(t,e){var n={idToken:t},r=[];return dt(ia,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),za(this,Na,n)},t.rb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),za(this,ka,t)},t.sb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),za(this,Ia,t)},t.qb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),za(this,Ca,t)},t.Ab=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),za(this,Ta,t)},t.cb=function(t){return za(this,$a,t)},t.jb=function(t,e){return za(this,xa,{oobCode:t,newPassword:e})},t.Pa=function(t){return za(this,pa,{oobCode:t})},t.fb=function(t){return za(this,fa,{oobCode:t})};var fa={endpoint:"setAccountInfo",A:da,Y:"email",C:!0},pa={endpoint:"resetPassword",A:da,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},C:!0},ga={endpoint:"signupNewUser",A:function(t){if(ta(t),!t.password)throw new C("weak-password")},G:na,U:!0,C:!0},ma={endpoint:"createAuthUri",C:!0},va={endpoint:"deleteAccount",M:["idToken"]},ya={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=d(t.deleteProvider))throw new C("internal-error")}},ba={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ta,G:na,U:!0,C:!0},wa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ta,G:na,U:!0},_a={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:oa,G:na,C:!0,La:!0},Ea={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:oa,G:na,C:!0,La:!0},Sa={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ta(t)},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},Ta={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ta(t)},Y:"email",C:!0},Aa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Da={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},xa={endpoint:"resetPassword",A:da,Y:"email",C:!0},Oa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Na={endpoint:"setAccountInfo",M:["idToken"],A:ea,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ea(t),!t.password)throw new C("weak-password")},G:na,U:!0},Fa={endpoint:"signupNewUser",G:na,U:!0,C:!0},Ra={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},La={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Ma={endpoint:"verifyAssertion",A:sa,Wa:aa,G:ua,U:!0,C:!0},Va={endpoint:"verifyAssertion",A:sa,Wa:aa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw Wa(t.errorMessage);na(t)},U:!0,C:!0},ja={endpoint:"verifyAssertion",A:function(t){if(sa(t),!t.idToken)throw new C("internal-error")},Wa:aa,G:ua,U:!0},Ua={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:na,U:!0,C:!0},Ba={endpoint:"verifyPassword",A:function(t){if(ta(t),!t.password)throw new C("wrong-password")},G:na,U:!0,C:!0},$a={endpoint:"verifyPhoneNumber",A:ra,G:na,C:!0},Ha={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ra(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);na(t)}},qa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ra,G:na,C:!0},Ga={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new C("internal-error")},C:!0,La:!0};function za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return ke(new C("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Te(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Mn(e+n);Rn(a,"key",t.c),s&&Rn(a,"cb",S().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(a,c,i[c]);return new be((function(e,n){Zs(t,a.toString(),(function(t){t?t.error?n(Ka(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:er(Nr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new C("internal-error");return r[e.Y]}))}function Wa(t){return Ka({error:{errors:[{message:t}],code:400,message:t}})}function Ka(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Or(t)),new C("internal-error",e)}function Ja(t){this.b=t,this.a=null,this.nb=function(t){return(Qa||(Qa=new be((function(t,e){function n(){Lr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:Za.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Te(Rs(r=Ct(Ya,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Qa=null,t})))).then((function(){return new be((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Xa.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ya=new yt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),Za=new Mr(3e4,6e4),Xa=new Mr(5e3,15e3),Qa=null;function tu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Vn(this.i,"/__/auth/iframe"),Rn(this.a,"apiKey",this.g),Rn(this.a,"appName",this.h),this.b=null,this.c=[]}function eu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function nu(t){try{return e.app(t).auth().Ea()}catch(n){return[]}}function ru(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function iu(t){var e=ar();return function(t){return za(t,Aa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(ar())}))}function ou(t){return t.l||(t.l=pr().then((function(){if(!t.s){var e=t.c,n=t.h,r=nu(t.b),i=new tu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Z(r||[]),t.s=i.toString()}t.i=new Ja(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.l}function su(t){return t.m||(t.w=t.c?Sr(t.c,nu(t.b)):null,t.m=new $s(t.f,O(t.h),t.w)),t.m}function au(t,e,n,r,i,o,s,a,u,c,l){return(t=new eu(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.ub(l).toString()}function uu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function cu(t){this.b=t,this.a={},this.f=_(this.c,this)}tu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Yn(this.a.a,"v"),this.b?Rn(this.a,"eid",this.b):Yn(this.a.a,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Yn(this.a.a,"fw"),this.a.toString()},eu.prototype.ub=function(t){return this.h=t,this},eu.prototype.toString=function(){var t=Vn(this.s,"/__/auth/handler");if(Rn(t,"apiKey",this.m),Rn(t,"appName",this.c),Rn(t,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ja()}catch(u){r=null}for(var i in n.kb=r,Rn(t,"providerId",this.a.providerId),r=Nr((n=this.a).Fb))r[i]=r[i].toString();i=n.Oc,r=pt(r);for(var o=0;o<i.length;o++){var s=i[o];s in r&&delete r[s]}n.lb&&n.kb&&!r[n.lb]&&(r[n.lb]=n.kb),ft(r)||Rn(t,"customParameters",Or(r))}if("function"==typeof this.a.Nb&&(n=this.a.Nb()).length&&Rn(t,"scopes",n.join(",")),this.l?Rn(t,"redirectUrl",this.l):Yn(t.a,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Yn(t.a,"eventId"),this.i?Rn(t,"v",this.i):Yn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):Yn(t.a,"tid"),this.f?Rn(t,"eid",this.f):Yn(t.a,"eid"),(a=nu(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=ru.prototype).Lb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return ou(t).then((function(){return function(t,e){return t.nb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return In(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Ir();return!xr(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new C("popup-blocked"));if(s&&!xr())return this.ka().o((function(e){lr(t),i(e)})),r(),Te();this.a||(this.a=iu(su(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){Fo(n),s||ur(au(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=iu(su(this)));var i=this;return this.a.then((function(){Fo(e),ur(au(i.u,i.f,i.b,t,e,ar(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return ou(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new C("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){J(this.g,(function(e){return e==t}))},(t=uu.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Pr(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Or(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var lu,hu=[];function du(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function fu(t){this.a=t}function pu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return mu(t,c),e})).o((function(e){throw mu(t,c),e}))}function mu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),J(t.a,(function(t){return t==e}))}}function vu(){if(!bu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if(H(hu,(function(n){n.b==t&&(e=n)})),!e){var e=new cu(t);hu.push(e)}return e}(),du(this.l,"keyChanged",(function(e,n){return Iu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),du(this.l,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new pu(new fu(e)),gu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function yu(t){return t.m||(t.m=function t(e){return new be((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new be((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function bu(){try{return!!u.indexedDB}catch(Gt){return!1}}function wu(t){return t.objectStore("firebaseLocalStorage")}function _u(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Eu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Su(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?gu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function Iu(t){return yu(t).then((function(t){var e=wu(_u(t,!1));return e.getAll?Eu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Cu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Tu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(bu()){var t=Fr(),r="__sak"+t;return lu||(lu=new vu),(n=lu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){H(e.a,(function(e){e(t)}))})),t}))}function ku(){this.a={},this.type="inMemory"}function Au(){if(!function(){var t="Node"==yr();if(!(t=Du()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Du()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=u.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function xu(){this.type="nullStorage"}function Ou(){if(!function(){var t="Node"==yr();if(!(t=Nu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Nu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Nu(){try{var t=u.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pu(){var t={};t.Browser=Lu,t.Node=Mu,t.ReactNative=Vu,t.Worker=ju,this.a=t[yr()]}cu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},fu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},pu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(t=vu.prototype).set=function(t,e){var n,r=!1,i=this;return yu(this).then((function(e){return Eu((e=wu(_u(n=e,!0))).get(t))})).then((function(o){var s=wu(_u(n,!0));return o?(o.value=e,Eu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Eu(s.add(o)))})).then((function(){return i.c[t]=e,Su(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return yu(this).then((function(e){return Eu(wu(_u(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return yu(this).then((function(r){return e=!0,n.b++,Eu(wu(_u(r,!0)).delete(t))})).then((function(){return delete n.c[t],Su(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Cu(t),function e(){t.f=setTimeout((function(){t.i=Iu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){J(this.a,(function(e){return e==t})),0==this.a.length&&Cu(this)},(t=Tu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){J(this.a,(function(e){return e==t}))},(t=ku.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ba=function(){},t.ha=function(){},(t=Au.prototype).get=function(t){var e=this;return Te().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(t){u.window&&an(u.window,"storage",t)},t.ha=function(t){u.window&&ln(u.window,"storage",t)},(t=xu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ba=function(){},t.ha=function(){},(t=Ou.prototype).get=function(t){var e=this;return Te().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Fu,Ru,Lu={F:Au,$a:Ou},Mu={F:Au,$a:Ou},Vu={F:uu,$a:xu},ju={F:Au,$a:xu},Uu={od:"local",NONE:"none",qd:"session"};function Bu(){var t=!(Rr(Ir())||!mr()),e=xr(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new Pu),t=Fu;try{this.g=!sr()&&Ur()||!u.indexedDB?new t.a.F:new Tu(vr()?new ku:new t.a.F)}catch(r){this.g=new ku,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new ku}this.u=new ku,this.f=_(this.Vb,this),this.b={}}function $u(){return Ru||(Ru=new Bu),Ru}function Hu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function qu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Gu(t,e,n){return n=qu(e,n),"local"==e.F&&(t.b[n]=null),Hu(t,e.F).T(n)}function zu(t){t.c&&(clearInterval(t.c),t.c=null)}function Wu(t){this.a=t,this.b=$u()}(t=Bu.prototype).get=function(t,e){return Hu(this,t.F).get(qu(t,e))},t.set=function(t,e,n){var r=qu(t,n),i=this,o=Hu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=qu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),ft(this.a)&&(Hu(this,"local").ba(this.f),this.h||(sr()||!Ur())&&u.indexedDB||!this.l||function(t){zu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=qu(t,e),this.a[t]&&(J(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Hu(this,"local").ha(this.f),zu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Hu(this,"local").ha(this.f):zu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},Wt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,_(this.ib,this))},t.ib=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Ku,Ju={name:"authEvent",F:"local"};function Yu(){this.a=$u()}function Zu(t,e){this.b=Xu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===Ku&&(Ku=u.Int32Array?new Int32Array(oc):oc),this.reset()}I(Zu,(function(){this.b=-1}));for(var Xu=64,Qu=Xu-1,tc=[],ec=0;ec<Qu;ec++)tc[ec]=0;var nc=Y(128,tc);function rc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Ku[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ic(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(rc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(rc(t),i=0)}}t.c=i,t.g+=n}Zu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var oc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sc(){Zu.call(this,8,ac)}I(sc,Zu);var ac=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function uc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Yu,this.g=new Wu(this.h),this.f=null,this.b=[],this.a=this.c=null}function cc(t){return new C("invalid-cordova-configuration",t)}function lc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function hc(t){return t.f||(t.f=t.ka().then((function(){return new be((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),dc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Qi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(Ln(o=Mn(i),"firebaseError")||null))?T(o):null)?new Ro(r.c,r.b,null,null,o,null,r.S()):new Ro(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}lc(t,i)}))}var n=new Ro("unknown",null,null,null,new C("no-auth-event")),r=!1,i=In(500).then((function(){return dc(t).then((function(){r||lc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},jo||(jo=new Mo),function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Cr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function dc(t){var e=null;return function(t){return t.b.get(Ju,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Gu((n=t.g).b,Ju,n.a)})).then((function(){return e}))}function fc(t){this.a=t,this.b=$u()}(t=uc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(gr(void 0)?pr().then((function(){return new be((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Cr("universalLinks.subscribe",u))throw cc("cordova-universal-links-plugin-fix is not installed");if(void 0===Cr("BuildInfo.packageName",u))throw cc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cr("cordova.plugins.browsertab.openUrl",u))throw cc("cordova-plugin-browsertab is not installed");if("function"!=typeof Cr("cordova.InAppBrowser.open",u))throw cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Lb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Te()},t.Jb=function(){return ke(new C("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return ke(new C("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=Te().then((function(){return Fo(e),hc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Ro(e,r,null,o,new C("no-auth-event"),null,i),a=Cr("BuildInfo.packageName",u);if("string"!=typeof a)throw new C("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",u),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Ir().toLowerCase().match(/android/))return ke(new C("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=function(t){var e=new sc;ic(e,t),t=[];var n=8*e.g;ic(e,nc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(rc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=au(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Ju,s.v(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new C("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){a=function(){var e=Cr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){s||(s=In(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return dc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},t.Ca=function(t){this.b.push(t),hc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ro("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Qa=function(t){J(this.b,(function(e){return e==t}))};var pc={name:"pendingRedirect",F:"session"};function gc(t){return Gu(t.b,pc,t.a)}function mc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new xc,this.B=new Rc,this.g=new fc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=vc(this.D,this.u,this.m,k)}function vc(t,n,r,i){var o=e.SDK_VERSION||null;return gr()?new uc(t,n,r,o,i):new ru(t,n,r,o,i)}function yc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function bc(t){t.a.Ub()&&yc(t).o((function(e){var n=new Ro("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)})),t.a.Qb()||Oc(t.b)}function wc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(pc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?gc(t.g).then((function(){yc(t).o((function(e){var n=new Ro("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)}))})):bc(t)})).o((function(){bc(t)}))}function _c(t,e){J(t.h,(function(t){return t==e}))}mc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=vc(this.D,this.u,this.m),this.i={}},mc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=S()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=S())),e=!0;break}}return Oc(this.b),e};var Ec=new Mr(2e3,1e4),Sc=new Mr(3e4,6e4);function Ic(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Cc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Tc(t,e,n,r,i){var o;return function(t){return t.b.set(pc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Cc(e))throw new C("operation-not-supported-in-this-environment");return o=e,gc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new be((function(){})):gc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function kc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Ec.get())}mc.prototype.pa=function(){return this.b.pa()};var Ac={};function Dc(t,e,n){var r=e+":"+n;return Ac[r]||(Ac[r]=new mc(t,e,n)),Ac[r]}function xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Oc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function Nc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Pc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Pc(t,n):Pc(t,{user:null}),t.f=[],t.c=[]}function Rc(){}function Lc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Mc(t,e){this.a=e,Gr(this,"verificationId",t)}function Vc(t,e,n,r){return new Oo(t).cb(e,n).then((function(t){return new Mc(t,r)}))}function jc(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Uc(t,e,n){var r=e&&e[$c];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new to(null,r),this.b=[];var i=this;H(e[Bc]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fc(this,!0,null,t.a),Te()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Fc(t,a,e,null)})).o((function(e){Fc(t,a,null,e)}))}(this,t,e):ke(new C("invalid-auth-event")):(Fc(this,!1,null,null),Te())}else ke(new C("invalid-auth-event"))},xc.prototype.pa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=In(Sc.get()).then((function(){t.b||(t.g=!0,Fc(t,!0,null,e))}))}(t))}))},Rc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Te()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):ke(new C("invalid-auth-event"))}else ke(new C("invalid-auth-event"))},Mc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Bc="mfaInfo",$c="mfaPendingCredential";function Hc(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new Uc(t,e,n),Gr(this,"resolver",this.b)}function qc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Hc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Gc(){}function zc(t){Gr(this,"factorId",t.ea),this.a=t}function Wc(t){if(zc.call(this,t),this.a.ea!=Oo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Kc(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function Jc(t,e){this.a=t,this.b=[],this.c=_(this.wc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[Xr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ti]=t.phoneNumber);try{e=new ei(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Yc(this,n)}function Yc(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function Zc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xc(t){this.c=t,this.b=this.a=null}function Qc(t){return t.b&&1e3*t.b.c||0}function tl(t,e){var n=e.refreshToken;t.b=Vi(e[qs]||""),t.a=n}function el(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function nl(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function rl(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=e.SDK_VERSION?Sr(e.SDK_VERSION):null,this.a=new $s(this.l,O(k),t),this.b=new Xc(this.a),ll(this,n[qs]),tl(this.b,n),Gr(this,"refreshToken",this.b.a),fl(this,r||{}),bn.call(this),this.P=!1,this.s&&kr()&&(this.i=Dc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Zc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Qc(t.b)-S()-3e5;return 0<e?e:0}))}(this),this.Z=_(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ol(i,t.c)},this.$=null,this.O=new Jc(this,r),Gr(this,"multiFactor",this.O)}function il(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&an(e,"languageCodeChanged",t.za)}function ol(t,n){t.W=n,Ys(t.a,e.SDK_VERSION?Sr(e.SDK_VERSION,t.W):null)}function sl(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&an(e,"frameworkChanged",t.ya)}function al(t){try{return e.app(t.m).auth()}catch(n){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ul(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),an(t,"tokenChanged",t.Z))}function cl(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function ll(t,e){t.xa=e,Gr(t,"_lat",e)}function hl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return De(e).then((function(){return t}))}function dl(t){t.i&&!t.P&&(t.P=!0,wc(t.i,t))}function fl(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new el(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function pl(){}function gl(t){return Te().then((function(){if(t.D)throw new C("app-deleted")}))}function ml(t){return G(t.providerData,(function(t){return t.providerId}))}function vl(t,e){e&&(yl(t,e.providerId),t.providerData.push(e))}function yl(t,e){J(t.providerData,(function(t){return t.providerId==e}))}function bl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function wl(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Gr(t,"metadata",e.metadata?function(t){return new el(t.a,t.b)}(e.metadata):new el),H(e.providerData,(function(e){vl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Gr(t,"refreshToken",t.b.a),Yc(t.O,e.O.b))}function _l(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return za(t.a,Sa,{idToken:e}).then(_(t.Ic,t))}(t,e).then((function(){return n||bl(t,"isAnonymous",!1),e}))}))}function El(t,e){e[qs]&&t.xa!=e[qs]&&(tl(t.b,e),t.dispatchEvent(new Kc("tokenChanged")),ll(t,e[qs]),bl(t,"refreshToken",t.b.a))}function Sl(t,e){return _l(t).then((function(){if(W(ml(t),e))return hl(t).then((function(){throw new C("provider-already-linked")}))}))}function Il(t,e,n){return Wr({user:t,credential:Po(e),additionalUserInfo:e=qi(e),operationType:n})}function Cl(t,e){return El(t,e),t.reload().then((function(){return t}))}function Tl(t,n,r,i,o){if(!kr())return ke(new C("operation-not-supported-in-this-environment"));if(t.h&&!o)return ke(t.h);var s=Hi(r.providerId),a=Fr(t.uid+":::"),u=null;(!xr()||mr())&&t.s&&r.isOAuthProvider&&(u=au(t.s,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(Al(t),!o)return t.I().then((function(){}))})).then((function(){return Ic(t.i,c,n,r,a,!!u,t.tenantId)})).then((function(){return new be((function(e,r){t.la(n,null,new C("cancelled-popup-request"),t.g||null),t.f=e,t.w=r,t.g=a,t.c=kc(t.i,t,n,c,a)}))})).then((function(t){return c&&lr(c),t?Wr(t):null})).o((function(t){throw c&&lr(c),t})),Dl(t,i,o)}function kl(t,e,n,r,i){if(!kr())return ke(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Al(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,hl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Nl,t.v(),e.a)),e})).then((function(){return Tc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Pl(t.ga);throw o})).then((function(){if(o)throw o})),Dl(t,r,i)}function Al(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Dl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Kc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){K(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=qc(e.v(),al(t),_(t.hc,t))),n||e}))}function xl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new rl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&vl(r,Wr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ol(t){this.a=t,this.b=$u()}Uc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=pt(e.f);return delete n[Bc],delete n[$c],mt(n,t),e.g(n)}))},I(Hc,C),Gc.prototype.ob=function(t,e,n){return e.type==eo?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:xo(t.a)}),za(e,_a,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),za(e,Ea,n)}))}(this,t,e)},I(zc,Gc),I(Wc,zc),I(Kc,Ke),(t=Jc.prototype).wc=function(t){Yc(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new to(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return El(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return za(r,Ga,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return Yc(e,r),El(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.v()}))}}},Zc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Vr()||!t?Te():new be((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Zc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Qc(this)}},Xc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new C("user-token-expired")):t||!this.b||S()>Qc(this)-3e4?this.a?function(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Zs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ka(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}(t.c,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},el.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(rl,bn),rl.prototype.va=function(t){this.oa=t,Js(this.a,t)},rl.prototype.ja=function(){return this.oa},rl.prototype.Ea=function(){return Z(this.W)},rl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Gr(rl.prototype,"providerId","firebase"),(t=rl.prototype).reload=function(){var t=this;return Dl(this,gl(this).then((function(){return _l(t).then((function(){return hl(t)})).then(pl)})))},t.mc=function(t){return this.I(t).then((function(t){return new jc(t)}))},t.I=function(t){var e=this;return Dl(this,gl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.xa&&(ll(e,t.accessToken),e.dispatchEvent(new Kc("tokenChanged"))),bl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");fl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new nl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)vl(this,e[n]);bl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Kc("userReloaded",{ed:t}))},t.Jc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Dl(this,t.c(this.a,this.uid).then((function(t){return El(e,t),n=Il(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Dl(this,Sl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Il(e,t,"link"),Cl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Dl(this,Sl(this,"phone").then((function(){return Vc(al(n),t,e,_(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Dl(this,Te().then((function(){return Vc(al(n),t,e,_(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return El(e,t),e.reload()})))},t.cd=function(t){var e=this;return Dl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return El(e,t),e.reload()})))},t.yb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return El(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return gl(this);var e=this;return Dl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return El(e,t),bl(e,"displayName",t.displayName||null),bl(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),hl(e)})).then(pl))},t.ad=function(t){var e=this;return Dl(this,_l(this).then((function(n){return W(ml(e),t)?function(t,e,n){return za(t,ya,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(ml(e),(function(t){n[t]||yl(e,t)})),n[Oo.PROVIDER_ID]||Gr(e,"phoneNumber",null),hl(e)})):hl(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Dl(this,this.I().then((function(e){return za(t.a,va,{idToken:e})})).then((function(){t.dispatchEvent(new Kc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");il(t,null),sl(t,null),t.N=[],t.D=!0,cl(t),Gr(t,"refreshToken",null),t.i&&_c(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?_(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?_(this.Ib,this):null},t.Cc=function(t){var e=this;return Tl(this,"linkViaPopup",t,(function(){return Sl(e,t.providerId).then((function(){return hl(e)}))}),!1)},t.Lc=function(t){return Tl(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Dc=function(t){var e=this;return kl(this,"linkViaRedirect",t,(function(){return Sl(e,t.providerId)}),!1)},t.Mc=function(t){return kl(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,this.I().then((function(n){return la(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Il(i,t,"link"),Cl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,Te().then((function(){return io(ha(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Il(i,t,"reauthenticate"),El(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Dl(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Ri(new Ci(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Dl(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Ri(new Ci(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Dl(this,t=io(Te(t),n.uid).then((function(t){return e=Il(n,t,"reauthenticate"),El(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&mt(t,this.metadata.v()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.v()),t};var Nl={name:"redirectUser",F:"session"};function Pl(t){return Gu(t.b,Nl,t.a)}function Fl(t){this.a=t,this.b=$u(),this.c=null,this.f=function(t){var e=Ml("local"),n=Ml("session"),r=Ml("none");return function(t,e,n){var r=qu(e,n),i=Hu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Pr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Ll,t.a).then((function(t){return t?Ml(t):e}))}))}))})).then((function(e){return t.c=e,Rl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ml("local"),this.a,_(this.g,this))}function Rl(t,e){var n,r=[];for(n in Uu)Uu[n]!==e&&r.push(Gu(t.b,Ml(Uu[n]),t.a));return r.push(Gu(t.b,Ll,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],E(o,a),s);else e(i)}))}(r)}Fl.prototype.g=function(){var t=this,e=Ml("local");Bl(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Rl(t,"local").then((function(){t.c=e}))}))}))};var Ll={name:"persistence",F:"session"};function Ml(t){return{name:"authUser",F:t}}function Vl(t,e){return Bl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function jl(t){return Bl(t,(function(){return Gu(t.b,t.c,t.a)}))}function Ul(t,e){return Bl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),xl(t||{})}))}))}function Bl(t,e){return t.f=t.f.then(e,e),t.f}function $l(t){if(this.l=!1,Gr(this,"settings",new Lc),Gr(this,"app",t),!Jl(this).options||!Jl(this).options.apiKey)throw new C("invalid-api-key");t=e.SDK_VERSION?Sr(e.SDK_VERSION):null,this.b=new $s(Jl(this).options&&Jl(this).options.apiKey,O(k),t),this.P=[],this.m=[],this.O=[],this.$b=e.INTERNAL.createSubscribe(_(this.xc,this)),this.W=void 0,this.ac=e.INTERNAL.createSubscribe(_(this.yc,this)),Wl(this,null),this.i=new Fl(Jl(this).options.apiKey+":"+Jl(this).name),this.B=new Ol(Jl(this).options.apiKey+":"+Jl(this).name),this.Z=Ql(this,function(t){var e=Jl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Nl,t.a).then((function(t){return t&&e&&(t.authDomain=e),xl(t||{})}))}(t.B,Jl(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Pl(t.B)}));return Ql(t,e)}(t).then((function(){return Ul(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Vl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:jl(t.i)}))):null})).then((function(e){Wl(t,e||null)}));return Ql(t,n)}(this)),this.h=Ql(this,function(t){return t.Z.then((function(){return zl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Ml("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=_(this.Xc,this),this.Ma=_(this.ca,this),this.xa=_(this.jc,this),this.ya=_(this.uc,this),this.za=_(this.vc,this),this.a=null,function(t){var e=Jl(t).options.authDomain,n=Jl(t).options.apiKey;e&&kr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Dc(e,n,Jl(t).name),wc(t.a,t),Yl(t)&&dl(Yl(t)),t.D){dl(t.D);var r=t.D;r.va(t.ja()),il(r,t),ol(r=t.D,t.N),sl(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Ec,this),this.s=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Hl(t){Ke.call(this,"languageCodeChanged"),this.g=t}function ql(t){Ke.call(this,"frameworkChanged"),this.c=t}function Gl(t){return t.Zb||ke(new C("auth-domain-config-required"))}function zl(t){if(!kr())return ke(new C("operation-not-supported-in-this-environment"));var e=Gl(t).then((function(){return t.a.pa()})).then((function(t){return t?Wr(t):null}));return Ql(t,e)}function Wl(t,e){Yl(t)&&(function(t,e){J(t.R,(function(t){return t==e}))}(Yl(t),t.Ma),ln(Yl(t),"tokenChanged",t.xa),ln(Yl(t),"userDeleted",t.ya),ln(Yl(t),"userInvalidated",t.za),cl(Yl(t))),e&&(e.R.push(t.Ma),an(e,"tokenChanged",t.xa),an(e,"userDeleted",t.ya),an(e,"userInvalidated",t.za),0<t.s&&ul(e)),Gr(t,"currentUser",e),e&&(e.va(t.ja()),il(e,t),ol(e,t.N),sl(e,t))}function Kl(t,e){var n=null,r=null;return Ql(t,e.then((function(e){return n=Po(e),r=qi(e),function(t,e){var n={};return n.apiKey=Jl(t).options.apiKey,n.authDomain=Jl(t).options.authDomain,n.appName=Jl(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new rl(t,e);return n&&(i.ga=n),r&&ol(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Yl(t)&&e.uid==Yl(t).uid?(wl(Yl(t),e),t.ca(e)):(Wl(t,e),dl(e),t.ca(e))})).then((function(){Xl(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=qc(e.v(),t,_(t.ic,t))),n||e})).then((function(){return Wr({user:Yl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Jl(t){return t.app}function Yl(t){return t.currentUser}function Zl(t){return Yl(t)&&Yl(t)._lat||null}function Xl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Zl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Zl(t))}}function Ql(t,e){return t.P.push(e),e.ma((function(){K(t.P,e)})),e}function th(){}function eh(){this.a={},this.b=1e12}Fl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Uu)if(Uu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!bu()&&"none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Bl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Rl(n,t)})).then((function(){if(n.c=Ml(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},I($l,bn),I(Hl,Ke),I(ql,Ke),(t=$l.prototype).tb=function(t){return Ql(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Js(this.b,this.$),this.dispatchEvent(new Hl(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ys(this.b,e.SDK_VERSION?Sr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new ql(this.N))},t.Ea=function(){return Z(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Jl(this).options.apiKey,authDomain:Jl(this).options.authDomain,appName:Jl(this).name,currentUser:Yl(this)&&Yl(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Kl(i,ca(i.b,o))}))},t.Vc=function(t){if(!kr())return ke(new C("operation-not-supported-in-this-environment"));var n=this,r=Hi(t.providerId),i=Fr(),o=null;(!xr()||mr())&&Jl(this).options.authDomain&&t.isOAuthProvider&&(o=au(Jl(this).options.authDomain,Jl(this).options.apiKey,Jl(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S()));var s=hr(o,r&&r.ta,r&&r.sa);return Ql(this,r=Gl(this).then((function(e){return Ic(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new be((function(t,e){n.la("signInViaPopup",null,new C("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=i,n.c=kc(n.a,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&lr(s),t?Wr(t):null})).o((function(t){throw s&&lr(s),t})))},t.Wc=function(t){if(!kr())return ke(new C("operation-not-supported-in-this-environment"));var e=this;return Ql(this,Gl(this).then((function(){return function(t){return Bl(t,(function(){return t.b.set(Ll,t.c.F,t.a)}))}(e.i)})).then((function(){return Tc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return zl(this).then((function(e){return t.a&&Nc(t.a.b),e})).o((function(e){throw t.a&&Nc(t.a.b),e}))},t.bd=function(t){if(!t)return ke(new C("null-user"));if(this.R!=t.tenantId)return ke(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=Jl(this).options.apiKey,n.authDomain=Jl(this).options.authDomain,n.appName=Jl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new rl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ol(e,r),wl(e,t),e}(t,n,e.B,e.Ea());return Ql(this,this.h.then((function(){if(Jl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Yl(e)&&t.uid==Yl(e).uid?(wl(Yl(e),t),e.ca(t)):(Wl(e,r),dl(r),e.ca(r))})).then((function(){Xl(e)})))},t.wb=function(){var t=this;return Ql(this,this.h.then((function(){return t.a&&Nc(t.a.b),Yl(t)?(Wl(t,null),jl(t.i).then((function(){Xl(t)}))):Te()})))},t.Xc=function(){var t=this;return Ul(this.i,Jl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Yl(t)&&e){n=Yl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return wl(Yl(t),e),Yl(t).I();(Yl(t)||e)&&(Wl(t,e),e&&(dl(e),e.ga=t.B),t.a&&wc(t.a,t),Xl(t))}}))},t.ca=function(t){return Vl(this.i,t)},t.jc=function(){Xl(this),this.ca(Yl(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Kl(e,Te(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Yl(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Ql(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Zl(t)))})))}(this,(function(){t.next(Yl(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Ql(this,this.h.then((function(){return Yl(e)?Yl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Kl(e,za(e.b,Ua,{token:t}))})).then((function(t){var n=t.user;return bl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Kl(n,za(n.b,Ba,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Kl(n,za(n.b,ga,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Kl(e,t.ia(e.b))}))},t.Qc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Yl(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Kl(t,t.b.vb()).then((function(e){var n=e.user;return bl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Yl(this)&&Yl(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Yl(this)&&ul(Yl(this))},t.Nc=function(t){var e=this;H(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Yl(this)&&cl(Yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ql(this,this.h.then((function(){e.l||W(e.m,t)&&t(Zl(e))})))},t.removeAuthTokenListener=function(t){J(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ml("local"),t.a,this.oa),this.a&&(_c(this.a,this),Nc(this.a.b)),Promise.resolve()},t.fc=function(t){return Ql(this,function(t,e){return za(t,ma,{identifier:e,continueUri:Ar()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!ko(t)},t.sb=function(t,e){var n=this;return Ql(this,Te().then((function(){var t=new Ci(e);if(!t.c)throw new C("argument-error",Ai+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Ql(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Ql(this,this.b.Pa(t).then((function(t){return new ni(t)})))},t.fb=function(t){return Ql(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Ql(this,Te().then((function(){return void 0===e||ft(e)?{}:Ri(new Ci(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Ql(this,Vc(this,t,e,_(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Ql(this,Te().then((function(){var r=e||ar(),i=To(t,r);if(!(r=ko(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Ya(i)})))},th.prototype.render=function(){},th.prototype.reset=function(){},th.prototype.getResponse=function(){},th.prototype.execute=function(){};var nh=null;function rh(t,e){return(e=ih(e))&&t.a[e]||null}function ih(t){return(t=void 0===t?1e12:t)?t.toString():null}function oh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ah(){}function uh(){}eh.prototype.render=function(t,e){return this.a[this.b.toString()]=new oh(t,e),this.b++},eh.prototype.reset=function(t){var e=rh(this,t);t=ih(t),e&&t&&(e.delete(),delete this.a[t])},eh.prototype.getResponse=function(t){return(t=rh(this,t))?t.getResponse():null},eh.prototype.execute=function(t){(t=rh(this,t))&&t.execute()},oh.prototype.getResponse=function(){return sh(this),this.b},oh.prototype.execute=function(){sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},oh.prototype.delete=function(){sh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Gr(ah,"FACTOR_ID","phone"),uh.prototype.g=function(){return nh||(nh=new eh),Te(nh)},uh.prototype.c=function(){};var ch=null;function lh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hh=new yt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dh=new Mr(3e4,6e4);lh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),dh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete u[e.a]},Te(Rs(Ct(hh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},lh.prototype.c=function(){this.b--};var fh=null;function ph(t,e,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(ch||(ch=new uh),s=ch):(fh||(fh=new lh),s=fh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[vh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[yh],!u.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var c=this.a[gh];this.a[gh]=function(t){if(bh(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Cr(c,u);"function"==typeof e&&e(t)}};var l=this.a[mh];this.a[mh]=function(){if(bh(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=Cr(l,u);"function"==typeof t&&t()}}}var gh="callback",mh="expired-callback",vh="sitekey",yh="size";function bh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function wh(t,e){return t.h.push(e),e.ma((function(){K(t.h,e)})),e}function _h(t){if(t.D)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Eh(t,n,r){var i=!1;try{this.b=r||e.app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.SDK_VERSION?Sr(e.SDK_VERSION,s):null,ph.call(this,r,t,n,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,O(k),i)}function Sh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Ih.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Ih[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=ph.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=wh(this,Te().then((function(){if(Ar()&&!vr())return pr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,za(t.s,Da,{})})).then((function(e){t.a[vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){_h(this);var t=this;return wh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',$t(s.name),'"'),s.type){o.push(' type="',$t(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){_h(this);var t=this;return wh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){J(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){_h(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){_h(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Eh,ph);var Ih="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ch(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Th(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function kh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function Ah(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Dh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function xh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Oh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Nh(t){return g(t)&&"string"==typeof t.uid}function Ph(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Fh(t,e){for(var n in e){var r=e[n].name;t[r]=Mh(r,t[n],e[n].j)}}function Rh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Sh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Lh(t,e,n,r){t[e]=Mh(e,n,r)}function Mh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Sh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Fh($l.prototype,{fb:{name:"applyActionCode",j:[Ch("code")]},Pa:{name:"checkActionCode",j:[Ch("code")]},jb:{name:"confirmPasswordReset",j:[Ch("code"),Ch("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ch("email"),Ch("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ch("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ch("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Ph(kh(),Ah(),"nextOrObserver"),Ah("opt_error",!0),Ah("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Ph(kh(),Ah(),"nextOrObserver"),Ah("opt_error",!0),Ah("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ch("email"),Ph(kh("opt_actionCodeSettings",!0),Dh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ch("email"),kh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ch("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[xh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[xh()]},Rc:{name:"signInWithCustomToken",j:[Ch("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ch("email"),Ch("password")]},Tc:{name:"signInWithEmailLink",j:[Ch("email"),Ch("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Ph({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof rl)}},Dh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ch("code")]}}),Rh($l.prototype,{lc:{name:"languageCode",gb:Ph(Ch(),Dh(),"languageCode")},ti:{name:"tenantId",gb:Ph(Ch(),Dh(),"tenantId")}}),($l.Persistence=Uu).LOCAL="local",$l.Persistence.SESSION="session",$l.Persistence.NONE="none",Fh(rl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Th("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Th("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[xh()]},mb:{name:"linkWithCredential",j:[xh()]},Bc:{name:"linkWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[xh()]},pb:{name:"reauthenticateWithCredential",j:[xh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Ph(kh("opt_actionCodeSettings",!0),Dh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},ad:{name:"unlink",j:[Ch("provider")]},xb:{name:"updateEmail",j:[Ch("email")]},yb:{name:"updatePassword",j:[Ch("password")]},cd:{name:"updatePhoneNumber",j:[xh("phone")]},zb:{name:"updateProfile",j:[kh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ch("email"),Ph(kh("opt_actionCodeSettings",!0),Dh(null,!0),"opt_actionCodeSettings",!0)]}}),Fh(eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(be.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Rh(Lc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Th("appVerificationDisabledForTesting")}}),Fh(Mc.prototype,{confirm:{name:"confirm",j:[Ch("verificationCode")]}}),Lh(ro,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,Io,Do,ao],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Ph(Ch(),kh(),"json")]),Lh(Co,"credential",(function(t,e){return new So(t,e)}),[Ch("email"),Ch("password")]),Fh(So.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(go.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Lh(go,"credential",mo,[Ph(Ch(),kh(),"token")]),Lh(Co,"credentialWithLink",To,[Ch("email"),Ch("emailLink")]),Fh(vo.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Lh(vo,"credential",yo,[Ph(Ch(),kh(),"token")]),Fh(bo.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Lh(bo,"credential",wo,[Ph(Ch(),Ph(kh(),Dh()),"idToken"),Ph(Ch(),Dh(),"accessToken",!0)]),Fh(_o.prototype,{Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Lh(_o,"credential",Eo,[Ph(Ch(),kh(),"token"),Ch("secret",!0)]),Fh(po.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},credential:{name:"credential",j:[Ph(Ch(),Ph(kh(),Dh()),"optionsOrIdToken"),Ph(Ch(),Dh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Fh(uo.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(oo.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Lh(Oo,"credential",No,[Ch("verificationId"),Ch("verificationCode")]),Fh(Oo.prototype,{cb:{name:"verifyPhoneNumber",j:[Ph(Ch(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Oh(t.session,eo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Oh(t.session,no)&&Nh(t.multiFactorHint):t.session&&t.multiFactorUid?Oh(t.session,no)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Fh(Ao.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(C.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(Bo.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(Uo.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(Hc.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Fh(Uc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Fh(Jc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ch("displayName",!0)]},$c:{name:"unenroll",j:[Ph({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Nh},Ch(),"multiFactorInfoIdentifier")]}}),Fh(Eh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(mi,"parseLink",Ii,[Ch("link")]),Lh(ah,"assertion",(function(t){return new Wc(t)}),[xh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ii,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ri,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$l,AuthCredential:ro,Error:C};Lh(t,"EmailAuthProvider",Co,[]),Lh(t,"FacebookAuthProvider",go,[]),Lh(t,"GithubAuthProvider",vo,[]),Lh(t,"GoogleAuthProvider",bo,[]),Lh(t,"TwitterAuthProvider",_o,[]),Lh(t,"OAuthProvider",po,[Ch("providerId")]),Lh(t,"SAMLAuthProvider",fo,[Ch("providerId")]),Lh(t,"PhoneAuthProvider",Oo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof $l)}}]),Lh(t,"RecaptchaVerifier",Eh,[Ph(Ch(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),kh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Lh(t,"ActionCodeURL",mi,[]),Lh(t,"PhoneMultiFactorGenerator",ah,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new $l(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.kc,t),addAuthTokenListener:_(t.bc,t),removeAuthTokenListener:_(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.14.9"),e.INTERNAL.extendNamespace({User:rl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("os0x"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.19.1","app"),t.exports=i.default},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},p46w:function(t,e,n){var r,i,o;void 0===(i="function"==typeof(r=o=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(c){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=e(a[0]);if(u=(r.read||r)(u,c)||e(u),n)try{u=JSON.parse(u)}catch(l){}if(i[c]=u,t===c)break}catch(l){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return s(t,!1)},i.getJSON=function(t){return s(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(e,n,e,t):r)||(t.exports=i),t.exports=o()},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("os0x"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Qn})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Xn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)}(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var k,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function x(t,e){return t<e?-1:t>e?1:0}t:{var O=u.navigator;if(O){var N=O.userAgent;if(N){k=N;break t}}k=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function F(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}M[" "]=c;var V,j,U=D(k,"Opera"),B=D(k,"Trident")||D(k,"MSIE"),$=D(k,"Edge"),H=$||B,q=D(k,"Gecko")&&!(D(k.toLowerCase(),"webkit")&&!D(k,"Edge"))&&!(D(k,"Trident")||D(k,"MSIE"))&&!D(k,"Edge"),G=D(k.toLowerCase(),"webkit")&&!D(k,"Edge");function z(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",K=(j=k,q?/rv:([^\);]+)(\)|;)/.exec(j):$?/Edge\/([\d\.]+)/.exec(j):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):U?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(K&&(W=K?K[1]:""),B){var J=z();if(null!=J&&J>parseFloat(W)){V=String(J);break t}}V=W}var Y={};function Z(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(V)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=x(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||x(0==s[2].length,0==a[2].length)||x(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var X=u.document&&B&&(z()||parseInt(V,10))||void 0,Q=!B||9<=Number(X),tt=B&&!Z("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{M(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},w(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ot]?e.wa(n,r,d(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.va(e,n,d(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i;if(s&&!Q)return null;var a=wt(t);if(a||(t[dt]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=bt,e=Q?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(lt(n,t),0==n.b&&(n.src=null,e[dt]=null)):ut(t)}}}function vt(t){return t in ft?ft[t]:ft[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Q){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function wt(t){return(t=t[dt])instanceof ct?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function St(){_.call(this),this.c=new ct(this),this.J=this,this.C=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}w(St,_),St.prototype[ot]=!0,(o=St.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=d(i)?!!i.capture:!!i,r=Et(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=It(s,r,!0,t)&&i}if(i=It(s=t.a=n,r,!0,t)&&i,i=It(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(St.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ct=u.JSON.stringify;function Tt(){this.b=this.a=null}var kt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new xt}),(function(t){t.reset()}),100);function Dt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xt(){this.next=this.b=this.a=null}function Ot(t){u.setTimeout((function(){throw t}),0)}function Nt(t,e){kt||function(){var t=u.Promise.resolve(void 0);kt=function(){t.then(Rt)}}(),Pt||(kt(),Pt=!0),Ft.add(t,e)}Tt.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Ft=new Tt;function Rt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Ot(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Lt(t,e){St.call(this),this.b=t||1,this.a=e||u,this.f=v(this.Ya,this),this.g=b()}function Mt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"==l(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function jt(t){t.a=Vt((function(){t.a=null,t.c&&(t.c=!1,jt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Lt,St),(o=Lt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Mt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Lt.S.G.call(this),Mt(this),delete this.a};var Ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Bt(t){_.call(this),this.b=t,this.a={}}w(Bt,_);var $t=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Gt(){this.a=!0}function zt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ct(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Bt.prototype.G=function(){Bt.S.G.call(this),qt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var Wt=null;function Kt(){return Wt=Wt||new St}function Jt(t){nt.call(this,"serverreachability",t)}function Yt(t){var e=Kt();e.dispatchEvent(new Jt(e,t))}function Zt(t){nt.call(this,"statevent",t)}function Xt(t){var e=Kt();e.dispatchEvent(new Zt(e,t))}function Qt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Jt,nt),w(Zt,nt),w(Qt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Bt(this),this.P=he,this.R=new Lt(t=H?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(ae,nt),w(ue,nt),w(ce,re),oe=new ce;var he=45e3,de={},fe={};function pe(t,e,n){t.H=1,t.i=Le(xe(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=b(),ye(t),t.l=xe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ut(v(t.Ca,t,t.a),t.O)),Ht(t.J,t.a,"readystatechange",t.Wa),e=t.B?F(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ve(t,n);if(i==fe){4==e&&(t.h=4,Xt(14),r=!1),zt(t.c,t.f,null,"[Incomplete Response]");break}if(i==de){t.h=4,Xt(15),zt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}zt(t.c,t.f,i,null),Se(t,i)}4==e&&0==n.length&&(t.h=1,Xt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):(zt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),_e(t))}function ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.D=r+n,e))}function ye(t){t.U=b()+t.P,be(t,t.P)}function be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(v(t.Ua,t),e)}function we(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function _e(t){0==t.g.v||t.A||jn(t.g,t)}function Ee(t){we(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Mt(t.R),qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vn(n),kn(n)}Rn(n),Xt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(v(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Bn(n,11)}else if((t.C||n.a==t)&&Vn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Re(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Hn(u,u.C?u.ga:null,u.fa),f.C){on(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(we(p),ye(p)),u.a=f}else Fn(u);0<n.g.length&&xn(n)}else"stop"!=i[0]&&"close"!=i[0]||Bn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Bn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Yt(4)}catch(m){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||Yt(8==n||0>=r?3:2),we(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Xt(12),Ee(this),_e(this);break t}zt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,u)}this.I?(me(this,e,o),H&&this.b&&3==e&&(Ht(this.J,this.R,"tick",this.Va),this.R.start())):(zt(this.c,this.f,o,null),Se(this,o)),4==e&&Ee(this),this.b&&!this.A&&(4==e?jn(this.g,this):(this.b=!1,ye(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Xt(12)):(this.h=0,Xt(13)),Ee(this),_e(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(we(this),me(this,t,e),this.b&&4!=t&&ye(this))}},o.cancel=function(){this.A=!0,Ee(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Yt(3),Xt(17)),Ee(this),this.h=2,_e(this)):be(this,this.U-t)},(o=Ce.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Te(this),this.a.concat()},o.get=function(t,e){return ke(this.b,t)?this.b[t]:e},o.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof De){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,Ne(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Fe(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Me(n[2]||""),Ne(this,n[3]||"",!0),Pe(this,n[4]),this.g=Me(n[5]||"",!0),Fe(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function xe(t){return new De(t)}function Oe(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Me(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fe(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ve(e,He)),t.b=new Ge(e,t.a))}function Re(t,e,n){t.b.set(e,n)}function Le(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ve(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?$e:Be,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ve(n,qe)),t.join("")};var Ue=/[#\/\?@]/g,Be=/[#\?:]/g,$e=/[#\?]/g,He=/[#\?@]/g,qe=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ze(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){ze(t),e=Ye(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function Ke(t,e){return ze(t),e=Ye(t,e),ke(t.a.b,e)}function Je(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Ye(t,e),C(n)),t.b+=n.length)}function Ye(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ze(t,e){this.b=t,this.a=e}function Xe(t){this.g=t||Qe,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ge.prototype).add=function(t,e){ze(this),this.c=null,t=Ye(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){ze(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){ze(this);var e=[];if("string"==typeof t)Ke(this,t)&&(e=I(e,this.a.get(Ye(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},o.set=function(t,e){return ze(this),this.c=null,Ke(this,t=Ye(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Qe=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return C(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Ie(t,(function(t,n){var i=t;d(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Xe.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function dn(t){St.call(this),this.headers=new Ce,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fn,this.D=this.F=!1}w(dn,St);var fn="",pn=/^https?$/i,gn=["POST","PUT"];function mn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),wn(t)}function yn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Vt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",yn(t)}}finally{wn(t)}}}function wn(t,e){if(t.a){_n(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function In(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=In("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=In("baseRetryDelayMs",5e3,t),this.Ma=In("retryDelaySeedMs",1e4,t),this.Ja=In("forwardChannelMaxRetries",2,t),this.ma=In("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Xe(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(An(t),3==t.v){var e=t.R++,n=xe(t.B);Re(n,"SID",t.J),Re(n,"RID",e),Re(n,"TYPE","terminate"),Nn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Le(xe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=qn(e.g,null),e.a.ba(e.i)),e.u=b(),ye(e)}$n(t)}function kn(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function An(t){kn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Vn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Dn(t,e){t.g.push(new Ze(t.La++,e)),3==t.v&&xn(t)}function xn(t){tn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function On(t,e){var n;n=e?e.f:t.R++;var r=xe(t.B);Re(r,"SID",t.J),Re(r,"RID",n),Re(r,"AID",t.P),Nn(t,r),t.i&&t.l&&Sn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Nn(t,e){t.f&&Ie({},(function(t,n){Re(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fn(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function Rn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(v(t.Aa,t),Un(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Mn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xe(t.la);Re(e,"RID","rpc"),Re(e,"SID",t.J),Re(e,"CI",t.H?"0":"1"),Re(e,"AID",t.P),Nn(t,e),Re(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(xe(e)),n.j=null,n.I=!0,ge(n,t)}function Vn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function jn(t,e){var n=null;if(t.a==e){Vn(t),Ln(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Kt()).dispatchEvent(new Qt(r,n,e,i)),xn(t)}else Fn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(v(t.Ba,t,e),Un(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function Un(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Bn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Xa,t);n||(n=new De("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Oe(n,"https"),Le(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=y(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=y(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.v=0,t.f&&t.f.ra(e),$n(t),An(t)}function $n(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,C(t.g),t.g.length=0),t.f.qa())}function Hn(t,e,n){var r=function(t){return t instanceof De?xe(t):new De(t,void 0)}(n);if(""!=r.c)e&&Ne(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Oe(i,t),e&&Ne(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){Re(r,e,t)})),n=t.na,(e=t.A)&&n&&Re(r,e,n),Re(r,"VER",t.ha),Nn(t,r),r}function qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t.Ka)).F=t.C,e}function Gn(){}function zn(){if(B&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Wn(t,e){St.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yn(this)}function Kn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){ue.call(this),this.status=1}function Yn(t){this.a=t}(o=dn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Ce(this.headers);r&&Ie(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.D=function(t){return B&&Z(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wn(this,!0)),dn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?bn(this):this.Ta())},o.Ta=function(){bn(this)},o.X=function(){try{return 2<En(this)?this.a.status:-1}catch(j){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Cn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=F(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),Re(i=xe(this.B),"RID",t),Re(i,"CVER",22),this.A&&Re(i,"X-HTTP-Session-Id",this.A),Nn(this,i),this.i&&r&&Sn(i,this.i,r),rn(this.b,n),this.Ga&&Re(i,"TYPE","init"),this.da?(Re(i,"$req",e),Re(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?On(this,t):0==this.g.length||tn(this.b)||On(this))},o.Aa=function(){if(this.j=null,Mn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(v(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kn(this),Mn(this))},o.Ra=function(){null!=this.m&&(this.m=null,kn(this),Rn(this),Xt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Xt(2)):(this.c.info("Failed to ping google.com"),Xt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},zn.prototype.a=function(t,e){return new Wn(t,e)},w(Wn,St),(o=Wn.prototype).addEventListener=function(t,e,n,r){Wn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Wn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Xt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Hn(t,null,t.fa),xn(t)},o.close=function(){Tn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Dn(this.a,e)}else this.g?((e={}).__data__=Ct(t),Dn(this.a,e)):Dn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,Wn.S.G.call(this)},w(Kn,ae),w(Jn,ue),w(Yn,Gn),Yn.prototype.ta=function(){this.a.dispatchEvent("a")},Yn.prototype.sa=function(t){this.a.dispatchEvent(new Kn(t))},Yn.prototype.ra=function(t){this.a.dispatchEvent(new Jn(t))},Yn.prototype.qa=function(){this.a.dispatchEvent("b")},zn.prototype.createWebChannel=zn.prototype.a,Wn.prototype.send=Wn.prototype.Pa,Wn.prototype.open=Wn.prototype.Oa,Wn.prototype.close=Wn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",St.prototype.listen=St.prototype.va,dn.prototype.listenOnce=dn.prototype.wa,dn.prototype.getLastError=dn.prototype.Qa,dn.prototype.getLastErrorCode=dn.prototype.ua,dn.prototype.getStatus=dn.prototype.X,dn.prototype.getResponseJson=dn.prototype.Na,dn.prototype.getResponseText=dn.prototype.$,dn.prototype.send=dn.prototype.ba;var Zn={createWebChannelTransport:function(){return new zn},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:dn},Xn=Zn.createWebChannelTransport,Qn=Zn.ErrorCode,tr=Zn.EventType,er=Zn.WebChannel,nr=Zn.XhrIo;e.default=Zn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?d(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new E(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function C(t){return t&&"function"==typeof t.schedule}class T extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const k=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=A(),x=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function O(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(x(t))return k(t);if(O(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[D])return e=t,t=>{const n=e[D]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function P(t,e,n,r,i=new T(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):N(e)(i)}class F extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function R(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(t,e))}}class L{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new M(t,this.project,this.thisArg))}}class M extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(O(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(x(t))return V(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[D](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(N(t))}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>j(t(n,r)).pipe(R((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new B(t,n)))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new T(this,e,n),i=this.destination;i.add(r);const o=P(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return U(v,t)}function G(t,e){return e?V(t,e):new y(k(t))}function z(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class J extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return z()(this)}}const Y=(()=>{const t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(){return new S}function Q(t){return{toString:t}.toString()}function tt(t,e,n){return Q(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function at(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,t[ft])||ht(t,t[mt])}function ht(t,e){return e&&e.token===t?e:null}function dt(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(vt))?t[pt]:null}const ft=st({"\u0275prov":st}),pt=st({"\u0275inj":st}),gt=st({"\u0275provFallback":st}),mt=st({ngInjectableDef:st}),vt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=st({__forward_ref__:st});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return yt(this())},t}function Et(t){return St(t)?t():t}function St(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===_t}const It="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,At=It||kt||Ct||Tt,Dt=st({"\u0275cmp":st}),xt=st({"\u0275dir":st}),Ot=st({"\u0275pipe":st}),Nt=st({"\u0275mod":st}),Pt=st({"\u0275loc":st}),Ft=st({"\u0275fac":st}),Rt=st({__NG_ELEMENT_ID__:st});class Lt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Mt=new Lt("INJECTOR",-1),Vt={},jt=/\n/gm,Ut=st({provide:String,useValue:st});let Bt,$t=void 0;function Ht(t){const e=$t;return $t=t,e}function qt(t){const e=Bt;return Bt=t,e}function Gt(t,e=ot.Default){if(void 0===$t)throw new Error("inject() must be called from an injection context");return null===$t?Wt(t,void 0,e):$t.get(t,e&ot.Optional?null:void 0,e)}function zt(t,e=ot.Default){return(Bt||Gt)(Et(t),e)}function Wt(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ot.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Kt(t){const e=[];for(let n=0;n<t.length;n++){const r=Et(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ot.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof nt||"Optional"===i.ngMetadataName||i===nt?n|=ot.Optional:i instanceof it||"SkipSelf"===i.ngMetadataName||i===it?n|=ot.SkipSelf:i instanceof rt||"Self"===i.ngMetadataName||i===rt?n|=ot.Self:t=i instanceof et||i===et?i.token:i}e.push(zt(t,n))}else e.push(zt(r))}return e}class Jt{get(t,e=Vt){if(e===Vt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Yt{}class Zt{}function Xt(t,e){t.forEach(t=>Array.isArray(t)?Xt(t,e):e(t))}function Qt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function te(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ee(t,e,n){let r=re(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ne(t,e){const n=re(t,e);if(n>=0)return t[1|n]}function re(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var ie=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),oe=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const se={},ae=[];let ue=0;function ce(t){return Q(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||oe.Emulated,id:"c",styles:t.styles||ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ue++,n.inputs=pe(t.inputs,e),n.outputs=pe(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(le):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(he):null,n})}function le(t){return ve(t)||function(t){return t[xt]||null}(t)}function he(t){return function(t){return t[Ot]||null}(t)}const de={};function fe(t){const e={type:t.type,bootstrap:t.bootstrap||ae,declarations:t.declarations||ae,imports:t.imports||ae,exports:t.exports||ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Q(()=>{de[t.id]=t.type}),e}function pe(t,e){if(null==t)return se;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ge=ce;function me(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[Dt]||null}function ye(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function be(t,e){const n=t[Nt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function we(t){return Array.isArray(t)&&"object"==typeof t[1]}function _e(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Se(t){return 2==(2&t.flags)}function Ie(t){return 1==(1&t.flags)}function Ce(t){return null!==t.template}function Te(t){return 0!=(512&t[2])}class ke{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ae(){return De}function De(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oe),xe}function xe(){const t=Ne(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===se)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Oe(t,e,n,r){const i=Ne(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:se,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ke(u&&u.currentValue,e,s===se),t[r]=e}function Ne(t){return t.__ngSimpleChanges__||null}Ae.ngInherit=!0;let Pe=void 0;function Fe(){return void 0!==Pe?Pe:"undefined"!=typeof document?document:void 0}function Re(t){return!!t.listen}const Le={createRenderer:(t,e)=>Fe()};function Me(t){for(;Array.isArray(t);)t=t[0];return t}function Ve(t,e){return Me(e[t+20])}function je(t,e){return Me(e[t.index])}function Ue(t,e){return t.data[e+20]}function Be(t,e){return t[e+20]}function $e(t,e){const n=e[t];return we(n)?n:n[0]}function He(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qe(t){return 128==(128&t[2])}function Ge(t,e){return null===t||null==e?null:t[e]}function ze(t){t[18]=0}function We(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ke={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Je(){return Ke.bindingsEnabled}function Ye(){return Ke.lFrame.lView}function Ze(){return Ke.lFrame.tView}function Xe(t){Ke.lFrame.contextLView=t}function Qe(){return Ke.lFrame.previousOrParentTNode}function tn(t,e){Ke.lFrame.previousOrParentTNode=t,Ke.lFrame.isParent=e}function en(){return Ke.lFrame.isParent}function nn(){return Ke.checkNoChangesMode}function rn(t){Ke.checkNoChangesMode=t}function on(){const t=Ke.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sn(){return Ke.lFrame.bindingIndex}function an(){return Ke.lFrame.bindingIndex++}function un(t){const e=Ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cn(t,e){const n=Ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,ln(e)}function ln(t){Ke.lFrame.currentDirectiveIndex=t}function hn(t){Ke.lFrame.currentQueryIndex=t}function dn(t,e){const n=pn();Ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function fn(t,e){const n=pn(),r=t[1];Ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function pn(){const t=Ke.lFrame,e=null===t?null:t.child;return null===e?gn(t):e}function gn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function mn(){const t=Ke.lFrame;return Ke.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const vn=mn;function yn(){const t=mn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return Ke.lFrame.selectedIndex}function wn(t){Ke.lFrame.selectedIndex=t}function _n(){const t=Ke.lFrame;return Ue(t.tView,t.selectedIndex)}function En(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Sn(t,e,n){Tn(t,e,3,n)}function In(t,e,n,r){(3&t[2])===n&&Tn(t,e,n,r)}function Cn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Tn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(kn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function kn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class An{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Dn(t,e,n){const r=Re(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];On(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function xn(t){return 3===t||4===t||6===t}function On(t){return 64===t.charCodeAt(0)}function Nn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Fn(t){return-1!==t}function Rn(t){return 32767&t}function Ln(t){return t>>16}function Mn(t,e){let n=Ln(t),r=e;for(;n>0;)r=r[15],n--;return r}function Vn(t){return"string"==typeof t?t:null==t?"":""+t}function jn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Vn(t)}const Un=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Bn(t){return t instanceof Function?t():t}let $n=!0;function Hn(t){const e=$n;return $n=t,e}let qn=0;function Gn(t,e){const n=Wn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,zn(r.data,t),zn(e,null),zn(r.blueprint,null));const i=Kn(t,e),o=t.injectorIndex;if(Fn(i)){const t=Rn(i),n=Mn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function zn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Wn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Kn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Jn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(r=n[Rt]),null==r&&(r=n[Rt]=qn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Yn(t,e,n,r=ot.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){dn(e,t);try{const t=i();if(null!=t||r&ot.Optional)return t;throw new Error(`No provider for ${jn(n)}!`)}finally{vn()}}else if("number"==typeof i){if(-1===i)return new nr(t,e);let o=null,s=Wn(t,e),a=-1,u=r&ot.Host?e[16][6]:null;for((-1===s||r&ot.SkipSelf)&&(a=-1===s?Kn(t,e):e[s+8],er(r,!1)?(o=e[1],s=Rn(a),e=Mn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(tr(i,s,t.data)){const t=Xn(s,e,n,o,r,u);if(t!==Zn)return t}er(r,e[1].data[s+8]===u)&&tr(i,s,e)?(o=t,s=Rn(a),e=Mn(a,e)):s=-1}}}if(r&ot.Optional&&void 0===i&&(i=null),0==(r&(ot.Self|ot.Host))){const t=e[9],o=qt(void 0);try{return t?t.get(n,i,r&ot.Optional):Wt(n,i,r&ot.Optional)}finally{qt(o)}}if(r&ot.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${jn(n)}]`)}const Zn={};function Xn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ce(t)&&t.type===n)return u}return null}(a,s,n,null==r?Se(a)&&$n:r!=s&&3===a.type,i&ot.Host&&o===a);return null!==u?Qn(e,s,u,a):Zn}function Qn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof An){const s=i;if(s.resolving)throw new Error("Circular dep for "+jn(o[n]));const a=Hn(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=qt(s.injectImpl)),dn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=De(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&qt(u),Hn(a),s.resolving=!1,vn()}}return i}function tr(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function er(t,e){return!(t&ot.Self||t&ot.Host&&e)}class nr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Yn(this._tNode,this._lView,t,void 0,e)}}function rr(t){const e=t;if(St(t))return()=>{const t=rr(Et(e));return t?t():null};let n=ye(e);if(null===n){const t=dt(e);n=t&&t.factory}return n||null}function ir(t){return Q(()=>{const e=t.prototype.constructor,n=e[Ft]||rr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Ft]||rr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function or(t){return t.ngDebugContext}function sr(t){return t.ngOriginalError}function ar(t,...e){t.error(...e)}class ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?or(t)?or(t):this._findContext(sr(t)):null}_findOriginalError(t){let e=sr(t);for(;e&&sr(e);)e=sr(e);return e}}class cr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class lr extends cr{getTypeName(){return"HTML"}}class hr extends cr{getTypeName(){return"Style"}}class dr extends cr{getTypeName(){return"Script"}}class fr extends cr{getTypeName(){return"URL"}}class pr extends cr{getTypeName(){return"ResourceURL"}}function gr(t){return t instanceof cr?t.changingThisBreaksApplicationSecurity:t}function mr(t,e){const n=vr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function vr(t){return t instanceof cr&&t.getTypeName()||null}let yr=!0,br=!1;function wr(){return br=!0,yr}class _r{getInertBodyElement(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cr(t){return(t=String(t)).match(Sr)||t.match(Ir)?t:(wr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function kr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ar=Tr("area,br,col,hr,img,wbr"),Dr=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xr=Tr("rp,rt"),Or=kr(xr,Dr),Nr=kr(Ar,kr(Dr,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kr(xr,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Or),Pr=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fr=Tr("srcset"),Rr=kr(Pr,Fr,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lr=Tr("script,style,template");class Mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Pr[o]&&(s=Cr(s)),Fr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Cr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Nr.hasOwnProperty(e)&&!Ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jr=/([^\#-~ |!])/g;function Ur(t){return t.replace(/&/g,"&amp;").replace(Vr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(jr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Br;function $r(t,e){let n=null;try{Br=Br||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new _r:new Er(t)}(t);let r=e?String(e):"";n=Br.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Br.getInertBodyElement(r)}while(r!==o);const s=new Mr,a=s.sanitizeChildren(Hr(n)||n);return wr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Gr(t){const e=Kr();return e?e.sanitize(qr.HTML,t)||"":mr(t,"HTML")?gr(t):$r(Fe(),Vn(t))}function zr(t){const e=Kr();return e?e.sanitize(qr.URL,t)||"":mr(t,"URL")?gr(t):Cr(Vn(t))}function Wr(t){const e=Kr();if(e)return e.sanitize(qr.RESOURCE_URL,t)||"";if(mr(t,"ResourceURL"))return gr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Kr(){const t=Ye();return t&&t[12]}function Jr(t,e){t.__ngContext__=e}function Yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Zr(){throw new Error("Cannot mix multi providers and regular providers")}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ti(t){return 0===t.type&&"ng-template"!==t.tagName}function ei(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ni(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(xn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ei(t,u,n)||""===u&&1===e.length){if(ri(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,c,n)){if(ri(r))return!1;s=!0}continue}const l=ii(8&r?"class":u,i,ti(t),n);if(-1===l){if(ri(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(ri(r))return!1;s=!0}}}}else{if(!s&&!ri(r)&&!ri(u))return!1;if(s&&ri(u))continue;s=!1,r=u|1&r}}return ri(r)||s}function ri(t){return 0==(1&t)}function ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ni(t,e[r],n))return!0;return!1}function si(t,e){return t?":not("+e.trim()+")":e}function ai(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ri(s)||(e+=si(o,i),i=""),r=s,o=o||!ri(r);n++}return""!==i&&(e+=si(o,i)),e}const ui={};function ci(t){const e=t[3];return _e(e)?e[3]:e}function li(t){return di(t[13])}function hi(t){return di(t[4])}function di(t){for(;null!==t&&!_e(t);)t=t[4];return t}function fi(t){pi(Ze(),Ye(),bn()+t,nn())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Sn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&In(e,r,0,n)}wn(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function vi(t){return 2|t}function yi(t){return(131068&t)>>2}function bi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];hn(i),n.contentQueries(2,e[o],o)}}}function Ei(t,e,n){return Re(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Si(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ze(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ii(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=Qe(),a=en(),u=a?s:s&&s.parent,c=t.data[n]=Pi(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return tn(a,!0),a}function Ci(t,e,n){fn(e,e[6]);try{const r=t.viewQuery;null!==r&&eo(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&eo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,yn()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;fn(e,e[6]);const o=nn();try{ze(e),Ke.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&In(e,n,0,null),Cn(e,0)}if(function(t){for(let e=li(t);null!==e;e=hi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&We(r,1),n[2]|=1024}}}(e),function(t){for(let e=li(t);null!==e;e=hi(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];qe(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Sn(e,n)}else{const n=t.contentHooks;null!==n&&In(e,n,1),Cn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,wn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(cn(r,i),s(2,e[i])),i++)}}}finally{wn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&eo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Sn(e,n)}else{const n=t.viewHooks;null!==n&&In(e,n,2),Cn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,We(e[3],-1))}finally{yn()}}function ki(t,e,n,r){const i=e[10],o=!nn(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Ci(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ai(t,e,n,r,i){const o=bn();try{wn(-1),2&r&&e.length>20&&pi(t,e,0,nn()),n(r,i)}finally{wn(o)}}function Di(t,e,n){Je()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Gn(n,e),Jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ce(r);o&&Gi(e,n,r);const u=Qn(e,t,a,n);Jr(u,e),null!==s&&zi(0,a-i,u,r,0,s),o&&($e(n.index,e)[8]=u)}}(t,e,n,je(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=Ke.lFrame.currentDirectiveIndex;try{wn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ln(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ji(r,i):s&&o.push(null)}}finally{wn(-1),ln(u)}}(t,e,n))}function xi(t,e,n=je){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Pi(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Fi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ri(t,e,n,r,i,o,s,a){const u=je(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),Se(e)&&function(t,e){const n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Re(o)?o.setProperty(u,r,i):On(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Je()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];oi(n,s.selectors,!1)&&(i||(i=[]),Jn(Gn(n,e),t,s.type),Ce(s)?(2&n.flags&&Yr(n),Bi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Hi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Ui(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Nn(n.mergedAttrs,c.hostAttrs),qi(t,e,c),$i(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Mi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ti(e)?null:Wi(n,i);o.push(c),s=Fi(n,u,s),a=Fi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Vi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Nn(n.mergedAttrs,n.attrs),i}function Mi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Vi(t,e,n){for(let r=0;r<n;r++)e.push(ui),t.blueprint.push(ui),t.data.push(null)}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ui(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $i(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ce(e)&&(n[""]=t)}}function Hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ye(n.type)),i=new An(r,Ce(n),null);t.blueprint.push(i),e.push(i)}function Gi(t,e,n){const r=je(e,t),i=Oi(n),o=t[10],s=Zi(t,Si(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ji(t,e){const n=$e(e,t);if(qe(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=li(e);null!==r;r=hi(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ti(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=$e(n[r],e);qe(i)&&i[5]>0&&t(i)}}(n)}}function Yi(t,e){const n=$e(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ci(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=ci(t);if(Te(t)&&!e)return t;t=e}return null}function Qi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function to(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=He(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function eo(t,e,n){hn(0),e(t,n)}const no=(()=>Promise.resolve(null))();function ro(t){return t[7]||(t[7]=[])}function io(t,e){const n=t[9],r=n?n.get(ur,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e){const n=e[3];return-1===t.index?_e(n)?n:null:n}function ao(t,e){const n=so(t,e);return n?bo(e[11],n[7]):null}function uo(t,e,n,r,i){if(null!=r){let o,s=!1;_e(r)?o=r:we(r)&&(s=!0,r=r[0]);const a=Me(r);0===t&&null!==n?null==i?vo(e,n,a):mo(e,n,a,i||null):1===t&&null!==n?mo(e,n,a,i||null):2===t?function(t,e,n){const r=bo(t,e);r&&function(t,e,n,r){Re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Me(n)&&uo(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];So(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function co(t,e,n,r){const i=ao(t.node,e);i&&So(t,e,e[11],n?1:2,i,r)}function lo(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&We(e[3],-1),n.splice(r,1)}function ho(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&lo(i,r),e>0&&(t[n-1][4]=r[4]);const o=te(t,10+e);co(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function fo(t,e){if(!(256&e[2])){const n=e[11];Re(n)&&n.destroyNode&&So(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return go(t[1],t);for(;e;){let n=null;if(we(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)we(e)&&go(e[1],e),e=po(e,t);null===e&&(e=t),we(e)&&go(e[1],e),n=e&&e[4]}e=n}}(e)}}function po(t,e){let n;return we(t)&&(n=t[6])&&2===n.type?so(n,t):t[3]===e?null:t[3]}function go(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof An)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Me(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Re(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&_e(e[3])){r!==e[3]&&lo(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function mo(t,e,n,r){Re(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function vo(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function yo(t,e,n,r){null!==r?mo(t,e,n,r):vo(t,e,n)}function bo(t,e){return Re(t)?t.parentNode(e):e.parentNode}function wo(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?ao(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return je(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==oe.ShadowDom&&n!==oe.Native)return null}return je(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=so(t,e);return null===n?null:_o(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?je(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)yo(t,i,n[e],o);else yo(t,i,n,o)}}function _o(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return je(n,e);if(0===r)return _o(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return _e(t)?_o(-1,t):Me(t)}}{const r=e[16],i=r[6],o=ci(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Eo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&Jr(Me(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Eo(t,e,n.child,r,i,o,!1),uo(e,t,i,a,o)):1===u?Io(t,e,r,n,i,o):uo(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function So(t,e,n,r,i,o){Eo(n,r,t.node.child,e,i,o,!1)}function Io(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)uo(e,t,i,a[u],o);else Eo(t,e,a,s[3],i,o,!0)}function Co(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function To(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ko{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Me(s)),_e(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=ci(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}fo(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=ro(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){rn(!0);try{Qi(t,e,n)}finally{rn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,So(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ao extends ko{constructor(t){super(t),this._view=t}detectChanges(){to(this._view)}checkNoChanges(){!function(t){rn(!0);try{to(t)}finally{rn(!1)}}(this._view)}get context(){return null}}let Do,xo,Oo;function No(t,e,n){return Do||(Do=class extends t{}),new Do(je(e,n))}function Po(t,e,n,r){return xo||(xo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Si(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ci(e,n,t),new ko(n)}}),0===n.type?new xo(r,n,No(e,n,r)):null}let Fo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ro(),t})();const Ro=function(t=!1){return function(t,e,n){if(!n&&Se(t)){const n=$e(t.index,e);return new ko(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ko(e[16],e):null}(Qe(),Ye(),t)},Lo=Function,Mo=new Lt("Set Injector scope."),Vo={},jo={},Uo=[];let Bo=void 0;function $o(){return void 0===Bo&&(Bo=new Jt),Bo}function Ho(t,e=null,n=null,r){return new qo(t,n,e||$o(),r)}class qo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xt(e,n=>this.processProvider(n,t,e)),Xt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mt,Wo(void 0,this));const o=this.records.get(Mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Vt,n=ot.Default){this.assertNotDestroyed();const r=Ht(this);try{if(!(n&ot.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Lt)&&lt(t);e=n&&this.injectableDefInScope(n)?Wo(Go(t),Vo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ot.Self?$o():this.parent).get(t,e=n&ot.Optional&&e===Vt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(yt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Ht(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Et(t)))return!1;let r=dt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=dt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Xt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Xt(r,t=>this.processProvider(t,n,r||Uo))}}this.injectorDefTypes.add(o),this.records.set(o,Wo(r.factory,Vo));const a=r.providers;if(null!=a&&!s){const e=t;Xt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Jo(t=Et(t))?t:Et(t&&t.provide);const i=function(t,e,n){return Ko(t)?Wo(void 0,t.useValue):Wo(zo(t,e,n),Vo)}(t,e,n);if(Jo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Zr()}else{let e=this.records.get(r);e?void 0===e.multi&&Zr():(e=Wo(void 0,Vo,!0),e.factory=()=>Kt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===jo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(yt(t)):e.value===Vo&&(e.value=jo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Go(t){const e=lt(t),n=null!==e?e.factory:ye(t);if(null!==n)return n;const r=dt(t);if(null!==r)return r.factory;if(t instanceof Lt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[mt]||t[gt]&&t[gt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function zo(t,e,n){let r=void 0;if(Jo(t)){const e=Et(t);return ye(e)||Go(e)}if(Ko(t))r=()=>Et(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Kt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>zt(Et(t.useExisting));else{const i=Et(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${yt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return ye(i)||Go(i);r=()=>new i(...Kt(t.deps))}var i;return r}function Wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ko(t){return null!==t&&"object"==typeof t&&Ut in t}function Jo(t){return"function"==typeof t}const Yo=function(t,e,n){return function(t,e=null,n=null,r){const i=Ho(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Zo=(()=>{class t{static create(t,e){return Array.isArray(t)?Yo(t,e,""):Yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Vt,t.NULL=new Jt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>zt(Mt)}),t.__NG_ELEMENT_ID__=-1,t})();const Xo=new Lt("AnalyzeForEntryComponents");function Qo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=bt(i,t):2==o&&(r=bt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let ts=null;function es(){if(!ts){const t=At.Symbol;if(t&&t.iterator)ts=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ts=n)}}}return ts}class ns{constructor(t){this.wrapped=t}static wrap(t){return new ns(t)}static unwrap(t){return ns.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ns}}function rs(t){return!!is(t)&&(Array.isArray(t)||!(t instanceof Map)&&es()in t)}function is(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function os(t,e,n){return t[e]=n}function ss(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function as(t,e,n,r){const i=ss(t,e,n);return ss(t,e+1,r)||i}function us(t,e,n,r){const i=Ye();return ss(i,an(),e)&&(Ze(),function(t,e,n,r,i,o){const s=je(t,e),a=e[11];if(null==r)Re(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Vn(r):i(r,t.tagName||"",n);Re(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(_n(),i,t,e,n,r)),us}function cs(t,e,n,r){return ss(t,an(),n)?e+Vn(n)+r:ui}function ls(t,e,n,r,i,o,s,a){const u=function(t,e,n,r,i){const o=as(t,e,n,r);return ss(t,e+2,i)||o}(t,sn(),n,i,s);return un(3),u?e+Vn(n)+r+Vn(i)+o+Vn(s)+a:ui}function hs(t,e,n,r,i,o,s,a){const u=Ye(),c=Ze(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ii(e,n[6],t,0,s||null,Ge(c,a));Li(e,n,l,Ge(c,u)),En(e,l);const h=l.tViews=Ni(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Pi(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];tn(h,!1);const d=u[11].createComment("");wo(c,u,d,h),Jr(d,u),Zi(u,u[l]=Ki(d,u,d,h)),Ie(h)&&Di(c,u,h),null!=s&&xi(u,h,a)}function ds(t){return Be(Ke.lFrame.contextLView,t)}function fs(t,e=ot.Default){const n=Ye();return null==n?zt(t,e):Yn(Qe(),n,Et(t),e)}function ps(t,e,n){const r=Ye();return ss(r,an(),e)&&Ri(Ze(),_n(),r,t,e,r[11],n,!1),ps}function gs(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function ms(t,e,n,r){const i=Ye(),o=Ze(),s=20+t,a=i[11],u=i[s]=Ei(e,a,Ke.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ge(a,o),c=Ii(e,n[6],t,3,i,u);return Li(e,n,c,Ge(a,s)),null!==c.attrs&&Qo(c,c.attrs,!1),null!==c.mergedAttrs&&Qo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];tn(c,!0);const l=c.mergedAttrs;null!==l&&Dn(a,u,l);const h=c.classes;null!==h&&To(a,u,h);const d=c.styles;null!==d&&Co(a,u,d),wo(o,i,u,c),0===Ke.lFrame.elementDepthCount&&Jr(u,i),Ke.lFrame.elementDepthCount++,Ie(c)&&(Di(o,i,c),function(t,e,n){if(Ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&xi(i,c)}function vs(){let t=Qe();en()?Ke.lFrame.isParent=!1:(t=t.parent,tn(t,!1));const e=t;Ke.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(En(n,t),Ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&gs(n,e,Ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&gs(n,e,Ye(),e.stylesWithoutHost,!1)}function ys(t,e,n,r){ms(t,e,n,r),vs()}function bs(){return Ye()}function ws(t){return!!t&&"function"==typeof t.then}function _s(t){return!!t&&"function"==typeof t.subscribe}function Es(t,e,n=!1,r){const i=Ye(),o=Ze(),s=Qe();return function(t,e,n,r,i,o,s=!1,a){const u=Ie(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ro(e);let h=!0;if(3===r.type){const d=je(r,e),f=a?a(d):se,p=f.target||d,g=l.length,m=a?t=>a(Me(t[r.index])).target:r.index;if(Re(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Is(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Is(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Es}function Ss(t,e,n){try{return!1!==e(n)}catch(r){return io(t,r),!1}}function Is(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&Xi(s);let a=Ss(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Ss(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Cs(t=1){return function(t){return(Ke.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ke.lFrame.contextLView))[8]}(t)}function Ts(t,e,n){return ks(t,"",e,"",n),Ts}function ks(t,e,n,r,i){const o=Ye(),s=cs(o,e,n,r);return s!==ui&&Ri(Ze(),_n(),o,t,s,o[11],i,!1),ks}function As(t,e,n,r,i,o,s){const a=Ye(),u=function(t,e,n,r,i,o){const s=as(t,sn(),n,i);return un(2),s?e+Vn(n)+r+Vn(i)+o:ui}(a,e,n,r,i,o);return u!==ui&&Ri(Ze(),_n(),a,t,u,a[11],s,!1),As}function Ds(t,e,n,r,i,o,s,a,u){const c=Ye(),l=ls(c,e,n,r,i,o,s,a);return l!==ui&&Ri(Ze(),_n(),c,t,l,c[11],u,!1),Ds}const xs=[];function Os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?mi(o):yi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ns(t[a],e)&&(u=!0,t[a+1]=r?wi(n):vi(n)),a=r?mi(n):yi(n)}u&&(t[n+1]=r?vi(o):wi(o))}function Ns(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&re(t,e)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fs(t){return t.substring(Ps.key,Ps.keyEnd)}function Rs(t){return t.substring(Ps.value,Ps.valueEnd)}function Ls(t,e){const n=Ps.textEnd;return n===e?-1:(e=Ps.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ps.key=e,n),js(t,e,n))}function Ms(t,e){const n=Ps.textEnd;let r=Ps.key=js(t,e,n);return n===r?-1:(r=Ps.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Us(t,r,n),r=Ps.value=js(t,r,n),r=Ps.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=Bs(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=Bs(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),Us(t,r,n))}function Vs(t){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=t.length}function js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Us(t,e,n,r){return(e=js(t,e,n))<n&&e++,e}function Bs(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function $s(t,e){return function(t,e,n,r){const i=Ye(),o=Ze(),s=un(2);o.firstUpdatePass&&Ks(o,t,s,!0),e!==ui&&ss(i,s,e)&&Xs(o,o.data[bn()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=yt(gr(t))),t}(e),!0,s)}(t,e),$s}function Hs(t,e){for(let n=function(t){return Vs(t),Ms(t,js(t,0,Ps.textEnd))}(e);n>=0;n=Ms(e,n))Zs(t,Fs(e),Rs(e))}function qs(t){zs(ee,Gs,t,!0)}function Gs(t,e){for(let n=function(t){return Vs(t),Ls(t,js(t,0,Ps.textEnd))}(e);n>=0;n=Ls(e,n))ee(t,Fs(e),!0)}function zs(t,e,n,r){const i=Ze(),o=un(2);i.firstUpdatePass&&Ks(i,null,o,r);const s=Ye();if(n!==ui&&ss(s,o,n)){const a=i.data[bn()+20];if(ea(a,r)&&!Ws(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=bt(t,n||"")),gs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ui&&(i=xs);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=f),null!==p&&Xs(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return xs;const r=[],i=gr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ws(t,e){return e>=t.expandoStartIndex}function Ks(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[bn()+20],s=Ws(t,n);ea(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ys(n=Js(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Js(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Js(null,t,e,n[1],r),n=Ys(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ys(r,t[o].hostAttrs,n);return Ys(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mi(s),u=yi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||re(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=bi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=bi(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=bi(t[u+1],r),u=r;l&&(t[r+1]=vi(t[r+1])),Os(t,c,r,!0),Os(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&re(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r,o),s=gi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Js(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ys(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ys(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ee(t,s,!!n||e[++o]))}return void 0===t?null:t}function Zs(t,e,n){ee(t,e,gr(n))}function Xs(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];ta(1==(1&c)?Qs(u,e,n,i,yi(c),s):void 0)||(ta(o)||function(t){return 2==(2&t)}(c)&&(o=Qs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Re(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Ve(bn(),n),i,o))}function Qs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ui&&(l=c?xs:void 0);let h=c?ne(l,r):u===r?l:void 0;if(o&&!ta(h)&&(h=ne(e,r)),ta(h)&&(a=h,s))return a;const d=t[i+1];i=s?mi(d):yi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ne(t,r))}return a}function ta(t){return void 0!==t}function ea(t,e){return 0!=(t.flags&(e?16:32))}function na(t,e=""){const n=Ye(),r=Ze(),i=t+20,o=r.firstCreatePass?Ii(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Re(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);wo(r,n,s,o),tn(o,!1)}function ra(t){return ia("",t,""),ra}function ia(t,e,n){const r=Ye(),i=cs(r,t,e,n);return i!==ui&&function(t,e,n){const r=Ve(e,t),i=t[11];Re(i)?i.setValue(r,n):r.textContent=n}(r,bn(),i),ia}function oa(t,e,n){const r=Ye();return ss(r,an(),e)&&Ri(Ze(),_n(),r,t,e,r[11],n,!0),oa}function sa(t,e){const n=He(t)[1],r=n.data.length-1;En(n,{directiveStart:r,directiveEnd:r+1})}function aa(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ce(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ua(t.inputs),e.declaredInputs=ua(t.declaredInputs),e.outputs=ua(t.outputs);const n=i.hostBindings;n&&ha(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ca(t,o),s&&la(t,s),at(t.inputs,i.inputs),at(t.declaredInputs,i.declaredInputs),at(t.outputs,i.outputs),Ce(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===aa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nn(i.hostAttrs,n=Nn(n,i.hostAttrs))}}(r)}function ua(t){return t===se?{}:t===ae?[]:t}function ca(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function la(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ha(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function da(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let o=0;o<t.length;o++)da(t[o],e,n,r,i);else{const o=Ze(),s=Ye();let a=Jo(t)?t:Et(t.provide),u=zo(t);const c=Qe(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Jo(t)||!t.multi){const r=new An(u,i,fs),f=ga(a,e,i?l:l+d,h);-1===f?(Jn(Gn(c,s),o,a),fa(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ga(a,e,l+d,h),p=ga(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Jn(Gn(c,s),o,a);const l=function(t,e,n,r,i){const o=new An(t,n,fs);return o.multi=[],o.index=e,o.componentProviders=0,pa(o,i,r&&!n),o}(i?va:ma,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),fa(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else fa(o,t,f>-1?f:p,pa(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function fa(t,e,n,r){const i=Jo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function pa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ga(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ma(t,e,n,r){return ya(this.multi,[])}function va(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ya(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ya(i,o);return o}function ya(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ba(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ze();if(r.firstCreatePass){const i=Ce(t);da(n,r.data,r.blueprint,i,!0),da(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class wa{}class _a{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ea=(()=>{class t{}return t.NULL=new _a,t})(),Sa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ia(t),t})();const Ia=function(t){return No(t,Qe(),Ye())};class Ca{}var Ta=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Aa(),t})();const Aa=function(){const t=Ye(),e=$e(Qe().index,t);return function(t){const e=t[11];if(Re(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(we(e)?e:t)};let Da=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class xa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Oa=new xa("10.0.10");class Na{constructor(){}supports(t){return rs(t)}create(t){return new Fa(t)}}const Pa=(t,e)=>e;class Fa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Va(n,r,i)?e:n,s=Va(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!rs(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[es()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ra(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ra{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class La{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ma{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new La,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Va(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ja{constructor(){}supports(t){return t instanceof Map||is(t)}create(){return new Ua}}class Ua{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||is(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ba(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ba{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let $a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Na])}),t})(),Ha=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new ja])}),t})();const qa=[new ja],Ga=new $a([new Na]),za=new Ha(qa);let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ka(t,Sa),t})();const Ka=function(t,e){return Po(t,e,Qe(),Ye())};let Ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ya(t,Sa),t})();const Ya=function(t,e){return function(t,e,n,r){let i;Oo||(Oo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return No(e,this._hostTNode,this._hostView)}get injector(){return new nr(this._hostTNode,this._hostView)}get parentInjector(){const t=Kn(this._hostTNode,this._hostView),e=Mn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ln(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Fn(t)&&null!=n?new nr(n,e):new nr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Yt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),_e(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Oo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Qt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),co(r,n,!0,_o(i,this._lContainer)),t.attachToViewContainerRef(this),Qt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ho(this._lContainer,e);n&&(te(this._lContainer[8],e),fo(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ho(this._lContainer,e);return n&&null!=te(this._lContainer[8],e)?new ko(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(_e(o))i=o;else{let t;if(4===n.type)t=Me(o);else if(t=r[11].createComment(""),Te(r)){const e=r[11],i=je(n,r);mo(e,bo(e,i),t,function(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(e,i))}else wo(r[1],r,t,n);r[n.index]=i=Ki(o,r,t,n),Zi(r,i)}return new Oo(i,n,r)}(t,e,Qe(),Ye())},Za={};class Xa extends Ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new eu(e,this.ngModule)}}function Qa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const tu=new Lt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Un});class eu extends wa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Qa(this.componentDef.inputs)}get outputs(){return Qa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Za,i);return o!==Za||r===Za?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ca,Le),s=i.get(Da,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Re(t))return t.selectRootElement(e,n===oe.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ei(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Un,clean:no,playerHandler:null,flags:0},d=Ni(0,-1,null,1,0,null,null,null,null,null),f=Si(null,d,h,l,null,null,o,a,s,i);let p,g;fn(f,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ii(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Qo(a,u,!0),null!==t&&(Dn(i,t,u),null!==a.classes&&To(i,t,a.classes),null!==a.styles&&Co(i,t,a.styles)));const c=r.createRenderer(t,e),l=Si(n,Oi(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(Jn(Gn(a,n),s,e.type),Bi(s,a),Hi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Dn(a,c,["ng-version",Oa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ri(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Dn(a,c,t),e&&e.length>0&&To(a,c,e.join(" "))}if(g=Ue(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Qe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,1),qi(t,e,n));const i=Qn(e,t,e.length-1,r);Jr(i,e);const o=je(r,e);return o&&Jr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Qe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){wn(a.index-20);const t=n[1];Mi(t,e),Vi(t,n,e.hostVars),ji(e,s)}return s}(t,this.componentDef,f,h,[sa]),Ci(d,f,null)}finally{yn()}const m=new nu(this.componentType,p,No(Sa,g,f),f,g);return d.node.child=g,m}}class nu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ao(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Pi(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ru=void 0;var iu=["en",[["a","p"],["AM","PM"],ru],[["AM","PM"],ru,ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ru,"{1} 'at' {0}",ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ou={};function su(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=au(e);if(n)return n;const r=e.split("-")[0];if(n=au(r),n)return n;if("en"===r)return iu;throw new Error(`Missing locale data for the locale "${t}".`)}function au(t){return t in ou||(ou[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),ou[t]}var uu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let cu="en-US";function lu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(cu=t.toLowerCase().replace(/_/g,"-"))}const hu=new Map;class du extends Yt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xa(this);const n=be(t),r=t[Pt]||null;r&&lu(r),this._bootstrapComponents=Bn(n.bootstrap),this._r3Injector=Ho(t,e,[{provide:Yt,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Zo.THROW_IF_NOT_FOUND,n=ot.Default){return t===Zo||t===Yt||t===Mt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fu extends Zt{constructor(t){super(),this.moduleType=t,null!==be(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,hu.get(t),e),hu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new du(this.moduleType,t)}}function pu(t,e){const n=t[e];return n===ui?void 0:n}function gu(t,e,n,r,i,o){const s=e+n;return ss(t,s,i)?os(t,s+1,o?r.call(o,i):r(i)):pu(t,s+1)}function mu(t,e){const n=Ze();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ye(r.type)),s=qt(fs),a=Hn(!1),u=o();return Hn(a),qt(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ye(),t,u),u}function vu(t,e,n){const r=Ye(),i=Be(r,t);return function(t,e){return ns.isWrapped(e)&&(e=ns.unwrap(e),t[sn()]=ui),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?gu(r,on(),e,i.transform,n,i):i.transform(n))}const yu=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function bu(t,e){return Po(Wa,Sa,t,e)}const wu=new Lt("Application Initializer");let _u=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ws(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(zt(wu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Eu=new Lt("AppId"),Su={provide:Eu,useFactory:function(){return`${Iu()}${Iu()}${Iu()}`},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cu=new Lt("Platform Initializer"),Tu=new Lt("Platform ID"),ku=new Lt("appBootstrapListener");let Au=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Du=new Lt("LocaleId"),xu=new Lt("DefaultCurrencyCode");class Ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Nu=function(t){return new fu(t)},Pu=Nu,Fu=function(t){return Promise.resolve(Nu(t))},Ru=function(t){const e=Nu(t),n=Bn(be(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new eu(n)),t},[]);return new Ou(e,n)},Lu=Ru,Mu=function(t){return Promise.resolve(Ru(t))};let Vu=(()=>{class t{constructor(){this.compileModuleSync=Pu,this.compileModuleAsync=Fu,this.compileModuleAndAllComponentsSync=Lu,this.compileModuleAndAllComponentsAsync=Mu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Uu(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Bu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return zu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Wu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return zu(t),e.invoke(r,i,o,s,a)}finally{Wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gu(t),qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Hu,$u,$u);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $u(){}const Hu={};function qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function zu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wu(t){t._nesting--,qu(t)}class Ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bu.assertNotInAngularZone(),Uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(zt(Bu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,Qu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Qu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Xu,Qu=new Zu;const tc=new Lt("AllowMultipleToken");class ec{constructor(t,e){this.name=t,this.token=e}}function nc(t,e,n=[]){const r="Platform: "+e,i=new Lt(r);return(e=[])=>{let o=rc();if(!o||o.injector.get(tc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Mo,useValue:"platform"});!function(t){if(Xu&&!Xu.destroyed&&!Xu.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xu=t.get(ic);const e=t.get(Cu,null);e&&e.forEach(t=>t())}(Zo.create({providers:t,name:r}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function rc(){return Xu&&!Xu.destroyed?Xu:null}let ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ku:("zone.js"===t?void 0:t)||new Bu({enableLongStackTrace:wr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Bu,useValue:n}];return n.run(()=>{const e=Zo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ur,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ac(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return ws(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(_u);return t.runInitializers(),t.donePromise.then(()=>(lu(i.injector.get(Du,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=oc({},e);return function(t,e,n){const r=new fu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(zt(Zo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function oc(t,e){return Array.isArray(e)?e.reduce(oc,t):Object.assign(Object.assign({},t),e)}let sc=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Bu.assertNotInAngularZone(),Uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Bu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return C(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:q(e)(G(t,n))}(s,a.pipe(t=>{return z()((e=X,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Y);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof wa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Yt),i=n.create(Zo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ju,null);return o&&i.injector.get(Yu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),wr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ku,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ac(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(zt(Bu),zt(Au),zt(Zo),zt(ur),zt(Ea),zt(_u))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uc{}class cc{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>dc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>dc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(zt(Vu),zt(cc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function dc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const fc=nc(null,"core",[{provide:Tu,useValue:"unknown"},{provide:ic,deps:[Zo]},{provide:Yu,deps:[]},{provide:Au,deps:[]}]),pc=[{provide:sc,useClass:sc,deps:[Bu,Au,Zo,ur,Ea,_u]},{provide:tu,deps:[Bu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:_u,useClass:_u,deps:[[new nt,wu]]},{provide:Vu,useClass:Vu,deps:[]},Su,{provide:$a,useFactory:function(){return Ga},deps:[]},{provide:Ha,useFactory:function(){return za},deps:[]},{provide:Du,useFactory:function(t){return lu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new et(Du),new nt,new it]]},{provide:xu,useValue:"USD"}];let gc=(()=>{class t{constructor(t){}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(zt(sc))},providers:pc}),t})(),mc=null;function vc(){return mc}const yc=new Lt("DocumentToken");let bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:wc,token:t,providedIn:"platform"}),t})();function wc(){return zt(Ec)}const _c=new Lt("Location Initialized");let Ec=(()=>{class t extends bc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=vc().getLocation(),this._history=vc().getHistory()}getBaseHrefFromDOM(){return vc().getBaseHref(this._doc)}onPopState(t){vc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){vc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Sc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Sc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(zt(yc))},t.\u0275prov=ut({factory:Ic,token:t,providedIn:"platform"}),t})();function Sc(){return!!window.history.pushState}function Ic(){return new Ec(zt(yc))}function Cc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Tc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function kc(t){return t&&"?"!==t[0]?"?"+t:t}let Ac=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Dc,token:t,providedIn:"root"}),t})();function Dc(t){const e=zt(yc).location;return new Oc(zt(bc),e&&e.origin||"")}const xc=new Lt("appBaseHref");let Oc=(()=>{class t extends Ac{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+kc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+kc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+kc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(zt(bc),zt(xc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Nc=(()=>{class t extends Ac{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Cc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+kc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+kc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(zt(bc),zt(xc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Pc=(()=>{class t{constructor(t,e){this._subject=new yu,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Tc(Rc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+kc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Rc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(zt(Ac),zt(bc))},t.normalizeQueryParams=kc,t.joinWithSlash=Cc,t.stripTrailingSlash=Tc,t.\u0275prov=ut({factory:Fc,token:t,providedIn:"root"}),t})();function Fc(){return new Pc(zt(Ac),zt(bc))}function Rc(t){return t.replace(/\/index.html$/,"")}var Lc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Mc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Vc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),jc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Uc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Bc(t,e){return zc(su(t)[uu.DateFormat],e)}function $c(t,e){return zc(su(t)[uu.TimeFormat],e)}function Hc(t,e){return zc(su(t)[uu.DateTimeFormat],e)}function qc(t,e){const n=su(t),r=n[uu.NumberSymbols][e];if(void 0===r){if(e===Uc.CurrencyDecimal)return n[uu.NumberSymbols][Uc.Decimal];if(e===Uc.CurrencyGroup)return n[uu.NumberSymbols][Uc.Group]}return r}function Gc(t){if(!t[uu.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[uu.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zc(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Wc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Kc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jc={},Yc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Xc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Qc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function tl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function el(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function nl(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Xc.FullYear:return e.getFullYear();case Xc.Month:return e.getMonth();case Xc.Date:return e.getDate();case Xc.Hours:return e.getHours();case Xc.Minutes:return e.getMinutes();case Xc.Seconds:return e.getSeconds();case Xc.FractionalSeconds:return e.getMilliseconds();case Xc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Xc.Hours)0===a&&-12===n&&(a=12);else if(t===Xc.FractionalSeconds)return u=e,el(a,3).substr(0,u);var u;const c=qc(s,Uc.MinusSign);return el(a,e,c,r,i)}}function rl(t,e,n=Mc.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case Qc.Months:return function(t,e,n){const r=su(t),i=zc([r[uu.MonthsFormat],r[uu.MonthsStandalone]],e);return zc(i,n)}(e,i,r)[t.getMonth()];case Qc.Days:return function(t,e,n){const r=su(t),i=zc([r[uu.DaysFormat],r[uu.DaysStandalone]],e);return zc(i,n)}(e,i,r)[t.getDay()];case Qc.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=su(t);return Gc(e),(e[uu.ExtraData][2]||[]).map(t=>"string"==typeof t?Wc(t):[Wc(t[0]),Wc(t[1])])}(e),n=function(t,e,n){const r=su(t);Gc(r);const i=zc([r[uu.ExtraData][0],r[uu.ExtraData][1]],e)||[];return zc(i,n)||[]}(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=s>=e.hours&&a>=e.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=su(t),i=zc([r[uu.DayPeriodsFormat],r[uu.DayPeriodsStandalone]],e);return zc(i,n)}(e,i,r)[s<12?0:1];case Qc.Eras:return function(t,e){return zc(su(t)[uu.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function il(t){return function(e,n,r){const i=-1*r,o=qc(n,Uc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Zc.Short:return(i>=0?"+":"")+el(s,2,o)+el(Math.abs(i%60),2,o);case Zc.ShortGMT:return"GMT"+(i>=0?"+":"")+el(s,1,o);case Zc.Long:return"GMT"+(i>=0?"+":"")+el(s,2,o)+":"+el(Math.abs(i%60),2,o);case Zc.Extended:return 0===r?"Z":(i>=0?"+":"")+el(s,2,o)+":"+el(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function ol(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return el(i,t,qc(r,Uc.MinusSign))}}const sl={};function al(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ul(t){return t instanceof Date&&!isNaN(t.valueOf())}class cl{}let ll=(()=>{class t extends cl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return su(t)[uu.PluralCase]}(e||this.locale)(t)){case Lc.Zero:return"zero";case Lc.One:return"one";case Lc.Two:return"two";case Lc.Few:return"few";case Lc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(zt(Du))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function hl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let dl=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(rs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+yt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(fs($a),fs(Ha),fs(Sa),fs(ka))},t.\u0275dir=ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class fl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){wr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new fl(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new gl(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new gl(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(fs(Ja),fs(Wa),fs($a))},t.\u0275dir=ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class gl{constructor(t,e){this.record=t,this.view=e}}let ml=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new vl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(fs(Ja),fs(Wa))},t.\u0275dir=ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class vl{constructor(){this.$implicit=null,this.ngIf=null}}function yl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}let bl=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(fs(Ja))},t.\u0275dir=ge({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ae]}),t})();function wl(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}const _l=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let El=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw wl(t,e);return e.replace(_l,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=me({name:"titlecase",type:t,pure:!0}),t})(),Sl=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(ul(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Kc))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!ul(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return su(t)[uu.LocaleId]}(e);if(Jc[r]=Jc[r]||{},Jc[r][n])return Jc[r][n];let i="";switch(n){case"shortDate":i=Bc(e,jc.Short);break;case"mediumDate":i=Bc(e,jc.Medium);break;case"longDate":i=Bc(e,jc.Long);break;case"fullDate":i=Bc(e,jc.Full);break;case"shortTime":i=$c(e,jc.Short);break;case"mediumTime":i=$c(e,jc.Medium);break;case"longTime":i=$c(e,jc.Long);break;case"fullTime":i=$c(e,jc.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=tl(Hc(e,jc.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=tl(Hc(e,jc.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=tl(Hc(e,jc.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");i=tl(Hc(e,jc.Full),[c,l])}return i&&(Jc[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=Yc.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=al(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(al(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(sl[t])return sl[t];let e;switch(t){case"G":case"GG":case"GGG":e=rl(Qc.Eras,Vc.Abbreviated);break;case"GGGG":e=rl(Qc.Eras,Vc.Wide);break;case"GGGGG":e=rl(Qc.Eras,Vc.Narrow);break;case"y":e=nl(Xc.FullYear,1,0,!1,!0);break;case"yy":e=nl(Xc.FullYear,2,0,!0,!0);break;case"yyy":e=nl(Xc.FullYear,3,0,!1,!0);break;case"yyyy":e=nl(Xc.FullYear,4,0,!1,!0);break;case"M":case"L":e=nl(Xc.Month,1,1);break;case"MM":case"LL":e=nl(Xc.Month,2,1);break;case"MMM":e=rl(Qc.Months,Vc.Abbreviated);break;case"MMMM":e=rl(Qc.Months,Vc.Wide);break;case"MMMMM":e=rl(Qc.Months,Vc.Narrow);break;case"LLL":e=rl(Qc.Months,Vc.Abbreviated,Mc.Standalone);break;case"LLLL":e=rl(Qc.Months,Vc.Wide,Mc.Standalone);break;case"LLLLL":e=rl(Qc.Months,Vc.Narrow,Mc.Standalone);break;case"w":e=ol(1);break;case"ww":e=ol(2);break;case"W":e=ol(1,!0);break;case"d":e=nl(Xc.Date,1);break;case"dd":e=nl(Xc.Date,2);break;case"E":case"EE":case"EEE":e=rl(Qc.Days,Vc.Abbreviated);break;case"EEEE":e=rl(Qc.Days,Vc.Wide);break;case"EEEEE":e=rl(Qc.Days,Vc.Narrow);break;case"EEEEEE":e=rl(Qc.Days,Vc.Short);break;case"a":case"aa":case"aaa":e=rl(Qc.DayPeriods,Vc.Abbreviated);break;case"aaaa":e=rl(Qc.DayPeriods,Vc.Wide);break;case"aaaaa":e=rl(Qc.DayPeriods,Vc.Narrow);break;case"b":case"bb":case"bbb":e=rl(Qc.DayPeriods,Vc.Abbreviated,Mc.Standalone,!0);break;case"bbbb":e=rl(Qc.DayPeriods,Vc.Wide,Mc.Standalone,!0);break;case"bbbbb":e=rl(Qc.DayPeriods,Vc.Narrow,Mc.Standalone,!0);break;case"B":case"BB":case"BBB":e=rl(Qc.DayPeriods,Vc.Abbreviated,Mc.Format,!0);break;case"BBBB":e=rl(Qc.DayPeriods,Vc.Wide,Mc.Format,!0);break;case"BBBBB":e=rl(Qc.DayPeriods,Vc.Narrow,Mc.Format,!0);break;case"h":e=nl(Xc.Hours,1,-12);break;case"hh":e=nl(Xc.Hours,2,-12);break;case"H":e=nl(Xc.Hours,1);break;case"HH":e=nl(Xc.Hours,2);break;case"m":e=nl(Xc.Minutes,1);break;case"mm":e=nl(Xc.Minutes,2);break;case"s":e=nl(Xc.Seconds,1);break;case"ss":e=nl(Xc.Seconds,2);break;case"S":e=nl(Xc.FractionalSeconds,1);break;case"SS":e=nl(Xc.FractionalSeconds,2);break;case"SSS":e=nl(Xc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=il(Zc.Short);break;case"ZZZZZ":e=il(Zc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=il(Zc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=il(Zc.Long);break;default:return null}return sl[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,i||this.locale,r)}catch(o){throw wl(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(fs(Du))},t.\u0275pipe=me({name:"date",type:t,pure:!0}),t})(),Il=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:cl,useClass:ll}]}),t})(),Cl=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Tl(zt(yc),window,zt(ur))}),t})();class Tl{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=kl(this.window.history)||kl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function kl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Al extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Al,mc||(mc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=xl||(xl=document.querySelector("base"),xl)?xl.getAttribute("href"):null;return null==e?null:(n=e,Dl||(Dl=document.createElement("a")),Dl.setAttribute("href",n),"/"===Dl.pathname.charAt(0)?Dl.pathname:"/"+Dl.pathname);var n}resetBaseElement(){xl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return hl(document.cookie,t)}}let Dl,xl=null;const Ol=new Lt("TRANSITION_ID"),Nl=[{provide:wu,useFactory:function(t,e,n){return()=>{n.get(_u).donePromise.then(()=>{const n=vc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ol,yc,Zo],multi:!0}];class Pl{static init(){var t;t=new Pl,Qu=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?vc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Fl=new Lt("EventManagerPlugins");let Rl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(zt(Fl),zt(Bu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Ll{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=vc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ml=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Vl=(()=>{class t extends Ml{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>vc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(zt(yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ul=/%COMP%/g;function Bl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Bl(t,i,n):(i=i.replace(Ul,t),n.push(i))}return n}function $l(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ql(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case oe.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Gl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case oe.Native:case oe.ShadowDom:return new zl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Bl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(zt(Rl),zt(Vl),zt(Eu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ql{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(jl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=jl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=jl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Ta.DashCase?t.style.setProperty(e,n,r&Ta.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ta.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$l(n)):this.eventManager.addEventListener(t,e,$l(n))}}class Gl extends ql{constructor(t,e,n,r){super(t),this.component=n;const i=Bl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ul,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Ul,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class zl extends ql{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===oe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Bl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wl=(()=>{class t extends Ll{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(zt(yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Kl=["alt","control","meta","shift"],Jl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Xl=(()=>{class t extends Ll{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vc().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Kl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yl.hasOwnProperty(e)&&(e=Yl[e]))}return Jl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Kl.forEach(r=>{r!=n&&(0,Zl[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(zt(yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return zt(th)},token:t,providedIn:"root"}),t})(),th=(()=>{class t extends Ql{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case qr.NONE:return e;case qr.HTML:return mr(e,"HTML")?gr(e):$r(this._doc,String(e));case qr.STYLE:return mr(e,"Style")?gr(e):e;case qr.SCRIPT:if(mr(e,"Script"))return gr(e);throw new Error("unsafe value used in a script context");case qr.URL:return vr(e),mr(e,"URL")?gr(e):Cr(String(e));case qr.RESOURCE_URL:if(mr(e,"ResourceURL"))return gr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new lr(t)}bypassSecurityTrustStyle(t){return new hr(t)}bypassSecurityTrustScript(t){return new dr(t)}bypassSecurityTrustUrl(t){return new fr(t)}bypassSecurityTrustResourceUrl(t){return new pr(t)}}return t.\u0275fac=function(e){return new(e||t)(zt(yc))},t.\u0275prov=ut({factory:function(){return t=zt(Mt),new th(t.get(yc));var t},token:t,providedIn:"root"}),t})();const eh=nc(fc,"browser",[{provide:Tu,useValue:"browser"},{provide:Cu,useValue:function(){Al.makeCurrent(),Pl.init()},multi:!0},{provide:yc,useFactory:function(){return function(t){Pe=t}(document),document},deps:[]}]),nh=[[],{provide:Mo,useValue:"root"},{provide:ur,useFactory:function(){return new ur},deps:[]},{provide:Fl,useClass:Wl,multi:!0,deps:[yc,Bu,Tu]},{provide:Fl,useClass:Xl,multi:!0,deps:[yc]},[],{provide:Hl,useClass:Hl,deps:[Rl,Vl,Eu]},{provide:Ca,useExisting:Hl},{provide:Ml,useExisting:Vl},{provide:Vl,useClass:Vl,deps:[yc]},{provide:Ju,useClass:Ju,deps:[Bu]},{provide:Rl,useClass:Rl,deps:[Fl,Bu]},[]];let rh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Eu,useValue:e.appId},{provide:Ol,useExisting:Eu},Nl]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(zt(t,12))},providers:nh,imports:[Il,gc]}),t})();function ih(...t){let e=t[t.length-1];return C(e)?(t.pop(),V(t,e)):G(t)}function oh(t,e){return U(t,e,1)}function sh(t,e){return function(n){return n.lift(new ah(t,e))}}"undefined"!=typeof window&&window;class ah{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new uh(t,this.predicate,this.thisArg))}}class uh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class ch{}class lh{}class hh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dh{encodeKey(t){return fh(t)}encodeValue(t){return fh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function fh(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ph{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ph({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function gh(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function mh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function vh(t){return"undefined"!=typeof FormData&&t instanceof FormData}class yh{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new hh),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ph,this.urlWithParams=e}serializeBody(){return null===this.body?null:gh(this.body)||mh(this.body)||vh(this.body)||"string"==typeof this.body?this.body:this.body instanceof ph?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vh(this.body)?null:mh(this.body)?this.body.type||null:gh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ph?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new yh(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var bh=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class wh{constructor(t,e=200,n="OK"){this.headers=t.headers||new hh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _h extends wh{constructor(t={}){super(t),this.type=bh.ResponseHeader}clone(t={}){return new _h({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Eh extends wh{constructor(t={}){super(t),this.type=bh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Eh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sh extends wh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ih(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ch=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof yh)r=t;else{let i=void 0;i=n.headers instanceof hh?n.headers:new hh(n.headers);let o=void 0;n.params&&(o=n.params instanceof ph?n.params:new ph({fromObject:n.params})),r=new yh(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ih(r).pipe(oh(t=>this.handler.handle(t)));if(t instanceof yh||"events"===n.observe)return i;const o=i.pipe(sh(t=>t instanceof Eh));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(R(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(R(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(R(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(R(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ph).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ih(n,e))}post(t,e,n={}){return this.request("POST",t,Ih(n,e))}put(t,e,n={}){return this.request("PUT",t,Ih(n,e))}}return t.\u0275fac=function(e){return new(e||t)(zt(ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Th{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const kh=new Lt("HTTP_INTERCEPTORS");let Ah=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Dh=/^\)\]\}',?\n/;class xh{}let Oh=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Nh=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new hh(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new _h({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Dh,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Eh({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Sh({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Sh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:bh.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:bh.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:bh.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(zt(xh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Ph=new Lt("XSRF_COOKIE_NAME"),Fh=new Lt("XSRF_HEADER_NAME");class Rh{}let Lh=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(zt(yc),zt(Tu),zt(Ph))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Mh=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(zt(Rh),zt(Fh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Vh=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(kh,[]);this.chain=t.reduceRight((t,e)=>new Th(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(zt(lh),zt(Zo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),jh=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Mh,useClass:Ah}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ph,useValue:e.cookieName}:[],e.headerName?{provide:Fh,useValue:e.headerName}:[]]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Mh,{provide:kh,useExisting:Mh,multi:!0},{provide:Rh,useClass:Lh},{provide:Ph,useValue:"XSRF-TOKEN"},{provide:Fh,useValue:"X-XSRF-TOKEN"}]}),t})(),Uh=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Ch,{provide:ch,useClass:Vh},Nh,{provide:lh,useExisting:Nh},Oh,{provide:xh,useExisting:Oh}],imports:[[jh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Bh(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=j(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const $h=new Lt("NgValueAccessor"),Hh={provide:$h,useExisting:_t(()=>qh),multi:!0};let qh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Es("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[ba([Hh])]}),t})();const Gh={provide:$h,useExisting:_t(()=>Wh),multi:!0},zh=new Lt("CompositionEventMode");let Wh=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=vc()?vc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa),fs(zh,8))},t.\u0275dir=ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Es("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[ba([Gh])]}),t})(),Kh=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t}),t})(),Jh=(()=>{class t extends Kh{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Yh(e||t)},t.\u0275dir=ge({type:t,features:[aa]}),t})();const Yh=ir(Jh);function Zh(){throw new Error("unimplemented")}class Xh extends Kh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Zh()}get asyncValidator(){return Zh()}}class Qh{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let td=(()=>{class t extends Qh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(fs(Xh,2))},t.\u0275dir=ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&$s("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[aa]}),t})(),ed=(()=>{class t extends Qh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(fs(Jh,2))},t.\u0275dir=ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&$s("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[aa]}),t})();function nd(t){return null==t||0===t.length}function rd(t){return null!=t&&"number"==typeof t.length}const id=new Lt("NgValidators"),od=new Lt("NgAsyncValidators"),sd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ad{static min(t){return e=>{if(nd(e.value)||nd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(nd(e.value)||nd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return nd(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return nd(t.value)||sd.test(t.value)?null:{email:!0}}static minLength(t){return e=>nd(e.value)||!rd(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>rd(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ad.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(nd(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(ud);return 0==e.length?null:function(t){return ld(hd(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(ud);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Bh(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Bh(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Bh(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(R(t=>e(...t)))}return Bh(t,null)}(hd(t,e).map(cd)).pipe(R(ld))}}}function ud(t){return null!=t}function cd(t){const e=ws(t)?j(t):t;if(!_s(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ld(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function hd(t,e){return e.map(e=>e(t))}function dd(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const fd={provide:$h,useExisting:_t(()=>pd),multi:!0};let pd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Es("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ba([fd])]}),t})();const gd={provide:$h,useExisting:_t(()=>vd),multi:!0};let md=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vd=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Xh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa),fs(md),fs(Zo))},t.\u0275dir=ge({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Es("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ba([gd])]}),t})();const yd={provide:$h,useExisting:_t(()=>bd),multi:!0};let bd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Es("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[ba([yd])]}),t})();const wd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',_d='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ed={provide:$h,useExisting:_t(()=>Id),multi:!0};function Sd(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Id=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Sd(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Es("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ba([Ed])]}),t})(),Cd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Sd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(fs(Sa),fs(ka),fs(Id,9))},t.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Td={provide:$h,useExisting:_t(()=>Ad),multi:!0};function kd(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ad=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(fs(ka),fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Es("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ba([Td])]}),t})(),Dd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kd(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(fs(Sa),fs(ka),fs(Ad,9))},t.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function xd(t,e){return[...e.path,t]}function Od(t,e){t||Pd(e,"Cannot find control with"),e.valueAccessor||Pd(e,"No value accessor for form control with"),t.validator=ad.compose([t.validator,e.validator]),t.asyncValidator=ad.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Nd(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Nd(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Nd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Pd(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Fd(t){return null!=t?ad.compose(dd(t)):null}function Rd(t){return null!=t?ad.composeAsync(dd(t)):null}const Ld=[qh,bd,pd,Id,Ad,vd];function Md(t){const e=jd(t)?t.validators:t;return Array.isArray(e)?Fd(e):e||null}function Vd(t,e){const n=jd(e)?e.asyncValidators:t;return Array.isArray(n)?Rd(n):n||null}function jd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ud{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Md(t)}setAsyncValidators(t){this.asyncValidator=Vd(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=cd(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof $d?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Hd&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yu,this.statusChanges=new yu}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Bd extends Ud{constructor(t=null,e,n){super(Md(e),Vd(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $d extends Ud{constructor(t,e,n){super(Md(e),Vd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Bd?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Hd extends Ud{constructor(t,e,n){super(Md(e),Vd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Bd?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qd={provide:Jh,useExisting:_t(()=>zd)},Gd=(()=>Promise.resolve(null))();let zd=(()=>{class t extends Jh{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new yu,this.form=new $d({},Fd(t),Rd(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gd.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Od(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Gd.then(()=>{const e=this._findContainer(t.path),n=new $d({});(function(t,e){null==t&&Pd(e,"Cannot find control with"),t.validator=ad.compose([t.validator,e.validator]),t.asyncValidator=ad.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Gd.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(fs(id,10),fs(od,10))},t.\u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Es("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([qd]),aa]}),t})(),Wd=(()=>{class t extends Jh{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Fd(this._validators)}get asyncValidator(){return Rd(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Kd(e||t)},t.\u0275dir=ge({type:t,features:[aa]}),t})();const Kd=ir(Wd);class Jd{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${wd}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${_d}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${wd}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${_d}`)}}const Yd={provide:Jh,useExisting:_t(()=>Zd)};let Zd=(()=>{class t extends Wd{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof zd||Jd.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(fs(Jh,5),fs(id,10),fs(od,10))},t.\u0275dir=ge({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ba([Yd]),aa]}),t})();const Xd={provide:Xh,useExisting:_t(()=>tf)},Qd=(()=>Promise.resolve(null))();let tf=(()=>{class t extends Xh{constructor(t,e,n,r){super(),this.control=new Bd,this._registered=!1,this.update=new yu,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Pd(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===Wh?n=e:(o=e,Ld.some(t=>o.constructor===t)?(r&&Pd(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Pd(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Pd(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?xd(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Fd(this._rawValidators)}get asyncValidator(){return Rd(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Od(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Zd)&&this._parent instanceof Wd?Jd.formGroupNameException():this._parent instanceof Zd||this._parent instanceof zd||Jd.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Jd.missingNameException()}_updateValue(t){Qd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Qd.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(fs(Jh,9),fs(id,10),fs(od,10),fs($h,10))},t.\u0275dir=ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ba([Xd]),aa,Ae]}),t})(),ef=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const nf={provide:id,useExisting:_t(()=>rf),multi:!0};let rf=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?ad.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&us("required",e.required?"":null)},inputs:{required:"required"},features:[ba([nf])]}),t})();const of={provide:id,useExisting:_t(()=>sf),multi:!0};let sf=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?ad.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ba([of])]}),t})();const af={provide:id,useExisting:_t(()=>uf),multi:!0};let uf=(()=>{class t{constructor(){this._validator=ad.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ad.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&us("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[ba([af]),Ae]}),t})();const cf={provide:id,useExisting:_t(()=>lf),multi:!0};let lf=(()=>{class t{constructor(){this._validator=ad.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ad.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&us("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ba([cf]),Ae]}),t})();const hf={provide:id,useExisting:_t(()=>df),multi:!0};let df=(()=>{class t{constructor(){this._validator=ad.nullValidator}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=ad.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ge({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&us("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[ba([hf]),Ae]}),t})(),ff=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),pf=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[md],imports:[ff]}),t})();var gf=/\s+/,mf=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n={top:(n=t.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var i=this.offsetParent(t);n=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=n.split("-"),o=i[0],s=void 0===o?"top":o,a=i[1],u=void 0===a?"center":a,c=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),h=parseFloat(l.marginTop),d=parseFloat(l.marginBottom),f=parseFloat(l.marginLeft),p=parseFloat(l.marginRight),g=0,m=0;switch(s){case"top":g=c.top-(e.offsetHeight+h+d);break;case"bottom":g=c.top+c.height;break;case"left":m=c.left-(e.offsetWidth+f+p);break;case"right":m=c.left+c.width}switch(u){case"top":g=c.top;break;case"bottom":g=c.top+c.height-e.offsetHeight;break;case"left":m=c.left;break;case"right":m=c.left+c.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?m=c.left+c.width/2-e.offsetWidth/2:g=c.top+c.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(m)+"px, "+Math.round(g)+"px)";var v=e.getBoundingClientRect(),y=document.documentElement,b=window.innerHeight||y.clientHeight,w=window.innerWidth||y.clientWidth;return v.left>=0&&v.top>=0&&v.right<=w&&v.bottom<=b},t}());function vf(t,e){if(1&t){const t=bs();ms(0,"div",9),ms(1,"button",10),Es("click",(function(e){return Xe(t),Cs().options.onCancel({clickEvent:e})})),vs(),vs()}if(2&t){const t=Cs().options;fi(1),qs("btn btn-block btn-"+t.cancelButtonType),ps("mwlFocus","cancel"===t.focusButton)("innerHtml",t.cancelText,Gr)}}function yf(t,e){if(1&t){const t=bs();ms(0,"div",9),ms(1,"button",10),Es("click",(function(e){return Xe(t),Cs().options.onConfirm({clickEvent:e})})),vs(),vs()}if(2&t){const t=Cs().options;fi(1),qs("btn btn-block btn-"+t.confirmButtonType),ps("mwlFocus","confirm"===t.focusButton)("innerHtml",t.confirmText,Gr)}}const bf=function(t,e,n,r){return["popover",t,e,n,r]};function wf(t,e){if(1&t&&(ms(0,"div",2),ys(1,"div",3),ys(2,"h3",4),ms(3,"div",5),ys(4,"p",6),ms(5,"div",7),hs(6,vf,2,4,"div",8),hs(7,yf,2,4,"div",8),vs(),vs(),vs()),2&t){const t=e.options;ps("ngClass",(n=7,r=bf,i=t.placement,o="popover-"+t.placement,s="bs-popover-"+t.placement,a=t.popoverClass,function(t,e,n,r,i,o,s,a,u){const c=e+n;return function(t,e,n,r,i,o){const s=as(t,e,n,r);return as(t,e+2,i,o)||s}(t,c,i,o,s,a)?os(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):pu(t,c+4)}(Ye(),on(),n,r,i,o,s,a,u))),fi(2),ps("innerHTML",t.popoverTitle,Gr),fi(2),ps("innerHTML",t.popoverMessage,Gr),fi(1),$s("confirm-btns-reversed",t.reverseButtonOrder),fi(1),ps("ngIf",!t.hideCancelButton),fi(1),ps("ngIf",!t.hideConfirmButton)}var n,r,i,o,s,a,u}function _f(t,e){}const Ef=function(t){return{options:t}};let Sf=(()=>{class t{constructor(){this.confirmText="Confirm",this.cancelText="Cancel",this.confirmButtonType="success",this.cancelButtonType="outline-secondary",this.placement="top",this.hideConfirmButton=!1,this.hideCancelButton=!1,this.popoverClass="",this.appendToBody=!1,this.reverseButtonOrder=!1,this.closeOnOutsideClick=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),If=(()=>{class t extends Sf{}return t.\u0275fac=function(e){return Cf(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Cf=ir(If);let Tf=(()=>{class t{constructor(t){this.options=t}ngAfterViewInit(){this.options.onAfterViewInit()}}return t.\u0275fac=function(e){return new(e||t)(fs(If))},t.\u0275cmp=ce({type:t,selectors:[["mwl-confirmation-popover-window"]],decls:3,vars:4,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"popover-arrow","arrow"],[1,"popover-title","popover-header",3,"innerHTML"],[1,"popover-content","popover-body"],[3,"innerHTML"],[1,"confirm-btns"],["class","confirm-btn-container",4,"ngIf"],[1,"confirm-btn-container"],["type","button",3,"mwlFocus","innerHtml","click"]],template:function(t,e){if(1&t&&(hs(0,wf,8,12,"ng-template",null,0,bu),hs(2,_f,0,0,"ng-template",1)),2&t){const t=ds(1);fi(2),ps("ngTemplateOutlet",e.options.customTemplate||t)("ngTemplateOutletContext",(2,n=Ef,r=e.options,gu(Ye(),on(),2,n,r,void 0)))}var n,r},directives:function(){return[bl,dl,ml,Af]},styles:[".popover[_ngcontent-%COMP%]{display:block}.bs-popover-bottom[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-top[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{left:50%}.bs-popover-left[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{top:calc(50% - 8px)}.btn[_ngcontent-%COMP%]{transition:none}.confirm-btns[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.confirm-btn-container[_ngcontent-%COMP%]{flex-basis:50%}.confirm-btn-container[_ngcontent-%COMP%]:not(:first-child){margin-left:4px}.confirm-btn-container[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.confirm-btns-reversed[_ngcontent-%COMP%]{flex-direction:row-reverse}.confirm-btns-reversed[_ngcontent-%COMP%]   .confirm-btn-container[_ngcontent-%COMP%]:not(:first-child){margin-left:0;margin-right:4px}.confirm-btns-reversed[_ngcontent-%COMP%]   .confirm-btn-container[_ngcontent-%COMP%]:not(:last-child){margin-left:4px;margin-right:0}"]}),t})(),kf=(()=>{class t{constructor(t,e,n,r,i){this.viewContainerRef=t,this.elm=e,this.defaultOptions=n,this.cfr=r,this.renderer=i,this.isDisabled=!1,this.isOpen=!1,this.isOpenChange=new yu(!0),this.confirm=new yu,this.cancel=new yu,this.eventListeners=[]}ngOnInit(){this.isOpenChange.emit(!1)}ngOnChanges(t){t.isOpen&&(!0===t.isOpen.currentValue?this.showPopover():this.hidePopover())}ngOnDestroy(){this.hidePopover()}onConfirm(t){this.confirm.emit(t),this.hidePopover()}onCancel(t){this.cancel.emit(t),this.hidePopover()}togglePopover(){this.popover?this.hidePopover():this.showPopover()}onDocumentClick(t){const e=void 0!==this.closeOnOutsideClick?this.closeOnOutsideClick:this.defaultOptions.closeOnOutsideClick;this.popover&&!this.elm.nativeElement.contains(t.target)&&!this.popover.location.nativeElement.contains(t.target)&&e&&this.hidePopover()}showPopover(){if(!this.popover&&!this.isDisabled){setTimeout(()=>{this.eventListeners=[this.renderer.listen("document","click",t=>this.onDocumentClick(t)),this.renderer.listen("document","touchend",t=>this.onDocumentClick(t)),this.renderer.listen("window","resize",()=>this.positionPopover())]});const t=new If;Object.assign(t,this.defaultOptions,{onConfirm:t=>{this.onConfirm(t)},onCancel:t=>{this.onCancel(t)},onAfterViewInit:()=>{this.positionPopover()}}),["confirmText","cancelText","placement","confirmButtonType","cancelButtonType","focusButton","hideConfirmButton","hideCancelButton","popoverClass","appendToBody","customTemplate","reverseButtonOrder","popoverTitle","popoverMessage"].forEach(e=>{void 0!==this[e]&&(t[e]=this[e])});const e=this.cfr.resolveComponentFactory(Tf),n=Zo.create({providers:[{provide:If,useValue:t}]});this.popover=this.viewContainerRef.createComponent(e,this.viewContainerRef.length,n),t.appendToBody&&document.body.appendChild(this.popover.location.nativeElement),this.isOpenChange.emit(!0)}}positionPopover(){this.popover&&function(t,e,n,r,i){var o=Array.isArray(n)?n:n.split(gf),s=function(t){t.split("-");return[]},a=o.findIndex((function(t){return"auto"===t}));a>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach((function(t){null==o.find((function(e){return-1!==e.search("^"+t)}))&&o.splice(a++,1,t)}));var u,c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var l=!1,h=0,d=o;h<d.length;h++)if(s(u=d[h]),mf.positionElements(t,e,u,r)){l=!0;break}l||(s(u=o[0]),mf.positionElements(t,e,u,r))}(this.elm.nativeElement,this.popover.location.nativeElement.children[0],this.placement||this.defaultOptions.placement,this.appendToBody||this.defaultOptions.appendToBody)}hidePopover(){this.popover&&(this.popover.destroy(),delete this.popover,this.isOpenChange.emit(!1),this.eventListeners.forEach(t=>t()),this.eventListeners=[])}}return t.\u0275fac=function(e){return new(e||t)(fs(Ja),fs(Sa),fs(Sf),fs(Ea),fs(ka))},t.\u0275dir=ge({type:t,selectors:[["","mwlConfirmationPopover",""]],hostBindings:function(t,e){1&t&&Es("click",(function(){return e.togglePopover()}))},inputs:{isDisabled:"isDisabled",isOpen:"isOpen",popoverTitle:"popoverTitle",popoverMessage:"popoverMessage",confirmText:"confirmText",cancelText:"cancelText",placement:"placement",confirmButtonType:"confirmButtonType",cancelButtonType:"cancelButtonType",focusButton:"focusButton",hideConfirmButton:"hideConfirmButton",hideCancelButton:"hideCancelButton",customTemplate:"customTemplate",popoverClass:"popoverClass",appendToBody:"appendToBody",reverseButtonOrder:"reverseButtonOrder",closeOnOutsideClick:"closeOnOutsideClick"},outputs:{isOpenChange:"isOpenChange",confirm:"confirm",cancel:"cancel"},features:[Ae]}),t})(),Af=(()=>{class t{constructor(t){this.elm=t}ngOnChanges(t){t.mwlFocus&&!0===this.mwlFocus&&this.elm.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["","mwlFocus",""]],inputs:{mwlFocus:"mwlFocus"},features:[Ae]}),t})();const Df=new Lt("confirmation popover user options");function xf(t){const e=new Sf;return Object.assign(e,t),e}let Of=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Df,useValue:e},{provide:Sf,useFactory:xf,deps:[Df]}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Il]]}),t})();var Nf=function(){function t(t){this.el=t,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe((function(){t.displayTable()})):this.displayTable()},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(){var t=this;this.dtInstance=new Promise((function(e,n){Promise.resolve(t.dtOptions).then((function(n){setTimeout((function(){t.dt=$(t.el.nativeElement).DataTable(n),e(t.dt)}))}))}))},t.\u0275fac=function(e){return new(e||t)(fs(Sa))},t.\u0275dir=ge({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),Pf=function(){function t(){}var e;return e=t,t.forRoot=function(){return{ngModule:e}},t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Il]]}),t}();class Ff{}let Rf="http://localhost:4200/assets/",Lf="https://system-frm.firebaseio.com/",Mf=function(){var t=$(".owl-slider");t.length>0&&t.each((function(){var e=$(this),n=e.data("owl-auto"),r=e.data("owl-loop"),i=e.data("owl-speed"),o=e.data("owl-gap"),s=e.data("owl-nav"),a=e.data("owl-dots"),u=e.data("owl-animate-in")?e.data("owl-animate-in"):"",c=e.data("owl-animate-out")?e.data("owl-animate-out"):"",l=e.data("owl-item"),h=e.data("owl-item-xs"),d=e.data("owl-item-sm"),f=e.data("owl-item-md"),p=e.data("owl-item-lg"),g=e.data("owl-item-xl"),m=e.data("owl-nav-left")?e.data("owl-nav-left"):"<i class='icon-chevron-left'></i>",v=e.data("owl-nav-right")?e.data("owl-nav-right"):"<i class='icon-chevron-right'></i>",y=e.data("owl-duration"),b="on"==e.data("owl-mousedrag");t.children("div, span, a, img, h1, h2, h3, h4, h5, h5").length>=1&&e.owlCarousel({animateIn:u,animateOut:c,margin:o,autoplay:n,autoplayTimeout:i,autoplayHoverPause:!0,loop:r,nav:s,mouseDrag:b,touchDrag:!0,autoplaySpeed:y,navSpeed:y,dotsSpeed:y,dragEndSpeed:y,navText:[m,v],dots:a,items:l,responsive:{0:{items:h},480:{items:d},768:{items:f},992:{items:p},1200:{items:g},1680:{items:l}}})}))},Vf=function(){var t=$(".ps-carousel__prev"),e=$(".ps-carousel__next");t.on("click",(function(t){t.preventDefault();var e=$(this).attr("href");$(e).trigger("prev.owl.carousel",[1e3])})),e.on("click",(function(t){t.preventDefault();var e=$(this).attr("href");$(e).trigger("next.owl.carousel",[1e3])}))},jf=function(){var t=$(".ps-product--detail");if(t.length>0){var e=t.find(".ps-product__gallery"),n=t.find(".ps-product__variants"),r=t.find(".ps-product__thumbnail").data("vertical");e.slick({slidesToShow:1,slidesToScroll:1,asNavFor:".ps-product__variants",fade:!0,dots:!1,infinite:!1,arrows:e.data("arrow"),prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}),n.slick({slidesToShow:n.data("item"),slidesToScroll:1,infinite:!1,arrows:n.data("arrow"),focusOnSelect:!0,prevArrow:"<a href='#'><i class='fa fa-angle-up'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-down'></i></a>",asNavFor:".ps-product__gallery",vertical:r,responsive:[{breakpoint:1200,settings:{arrows:n.data("arrow"),slidesToShow:4,vertical:!1,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}},{breakpoint:992,settings:{arrows:n.data("arrow"),slidesToShow:4,vertical:!1,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}},{breakpoint:480,settings:{slidesToShow:3,vertical:!1,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}}]})}},Uf=function(){var t=$(".ps-product--detail");t.length>0&&($(".ps-product__gallery").lightGallery({selector:".item a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1}),t.hasClass("ps-product--sticky")&&$(".ps-product__thumbnail").lightGallery({selector:".item a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})),$(".ps-gallery--image").lightGallery({selector:".ps-gallery__item",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1}),$(".ps-video").lightGallery({thumbnail:!1,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})},Bf=function(){$(".ps-countdown").each((function(){var t=$(this),e=$(this).data("time"),n=new Date(e).getTime(),r=setInterval((function(){var e=(new Date).getTime(),i=n-e,o=Math.floor(i/864e5),s=Math.floor(i%864e5/36e5),a=Math.floor(i%36e5/6e4),u=Math.floor(i%6e4/1e3);t.find(".days").html(o),t.find(".hours").html(s),t.find(".minutes").html(a),t.find(".seconds").html(u),i<0&&(clearInterval(r),t.closest(".ps-section").hide())}),1e3)}))},$f=function(){$("select.ps-rating").each((function(){var t;t="true"==$(this).attr("data-read-only"),$(this).barrating({theme:"fontawesome-stars",readonly:t,emptyValue:"0"})}))},Hf=function(){$(".ps-progress").each((function(t){var e=$(this).data("value");$(this).find("span").css({width:e+"%"})}))},qf=function(t){let e=0,n=0;for(let r=0;r<JSON.parse(t.reviews).length;r++)e+=Number(JSON.parse(t.reviews)[r].review);return n=Math.round(e/JSON.parse(t.reviews).length),n},Gf=function(t){let e=[];for(let n=0;n<5;n++)e[n]=t<n+1?2:1;return e},zf=function(t){let e,n,r,i,o,s,a=[],u=new Date;return""!=t.offer?(s=new Date(parseInt(JSON.parse(t.offer)[2].split("-")[0]),parseInt(JSON.parse(t.offer)[2].split("-")[1])-1,parseInt(JSON.parse(t.offer)[2].split("-")[2])),u<s?(e=JSON.parse(t.offer)[0],n=JSON.parse(t.offer)[1],"Disccount"==e&&(r=(t.price-t.price*n/100).toFixed(2)),"Fixed"==e&&(r=n,n=Math.round(100*r/t.price)),o=`<div class="ps-product__badge">-${n}%</div> `,i=`<p class="ps-product__price sale">$<span class="end-price"> ${r} </span><del>$${t.price} </del></p>`):i=`<p class="ps-product__price">$<span class="end-price"> ${t.price} </span></p>`):i=`<p class="ps-product__price">$<span class="end-price"> ${t.price} </span></p>`,0==t.stock&&(o='<div class="ps-product__badge out-stock">Fuera de stock</div> '),a[0]=i,a[1]=o,a},Wf=function(){var t=$(".pagination");t.length>0&&t.each((function(){var t=$(this),e=t.data("total-pages"),n=t.data("actual-page"),r=t.data("current-route");t.twbsPagination({totalPages:e,startPage:n,visiblePages:4,first:"First",last:"Last",prev:'<i class="fas fa-angle-left"></i>',next:'<i class="fas fa-angle-right"></i>'}).on("page",(function(t,e){window.location.href=r+"&"+e}))}))},Kf={fnc:function(){$("select.ps-select").select2({placeholder:$(this).data("placeholder"),minimumResultsForSearch:-1})}},Jf=function(t){var e=t.toLowerCase();if(/^[a-z0-9\xf1\xd1\xe1\xe9\xed\xf3\xfa ]*$/.test(e)){var n=e.replace(/[ ]/g,"_");return(n=(n=(n=(n=(n=n.replace(/[\xf1]/g,"n")).replace(/[\xe1]/g,"a")).replace(/[\xe9]/g,"e")).replace(/[\xed]/g,"i")).replace(/[\xf3]/g,"o")).replace(/[\xfa]/g,"u")}},Yf=function(){$(".ps-tab-list  li > a ").on("click",(function(t){t.preventDefault();var e=$(this).attr("href");$(this).closest("li").siblings("li").removeClass("active"),$(this).closest("li").addClass("active"),$(e).addClass("active"),$(e).siblings(".ps-tab").removeClass("active")})),$(".ps-tab-list.owl-slider .owl-item a").on("click",(function(t){t.preventDefault();var e=$(this).attr("href");$(this).closest(".owl-item").siblings(".owl-item").removeClass("active"),$(this).closest(".owl-item").addClass("active"),$(e).addClass("active"),$(e).siblings(".ps-tab").removeClass("active")}))},Zf=function(){$(".quantity").each((function(){var t=$(this),e=t.find('input[type="number"]'),n=t.find(".up"),r=t.find(".down"),i=e.attr("min"),o=e.attr("max");n.click((function(){var t=parseInt(e.val());if(t>=o)var n=t;else n=t+1;e.val(n),e.trigger("change")})),r.click((function(){var t=parseInt(e.val());if(t<=i)var n=t;else n=t-1;e.val(n),e.trigger("change")}))}))},Xf=function(t,e,n){switch(t){case"error":null==n?Swal.fire({icon:"error",title:"Error",text:e}):Swal.fire({icon:"error",title:"Error",text:e}).then(t=>{t.value&&window.open(n,"_top")});break;case"success":null==n?Swal.fire({icon:"success",title:"Success",text:e}):Swal.fire({icon:"success",title:"Success",text:e}).then(t=>{t.value&&window.open(n,"_top")});break;case"loading":Swal.fire({allowOutsideClick:!1,type:"info",text:e}),Swal.showLoading();break;case"html":Swal.fire({allowOutsideClick:!1,icon:"info",title:"Click para continuar con el pago",html:e,showConfirmButton:!1,showCancelButton:!0,cancelButtonColor:"#d33"});break;case"close":Swal.close()}},Qf=function(){$('[data-toggle="tooltip"]').tooltip()};var tp=n("p46w"),ep=function(){function t(){}return t.AddUnsigned=function(t,e){var n,r,i,o,s;return i=2147483648&t,o=2147483648&e,s=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^s^i^o:n|r?1073741824&s?3221225472^s^i^o:1073741824^s^i^o:s^i^o},t.FF=function(t,e,n,r,i,o,s){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.F(e,n,r),i),s)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.GG=function(t,e,n,r,i,o,s){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.G(e,n,r),i),s)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.HH=function(t,e,n,r,i,o,s){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.H(e,n,r),i),s)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.II=function(t,e,n,r,i,o,s){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.I(e,n,r),i),s)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.ConvertToWordArray=function(t){for(var e,n=t.length,r=n+8,i=16*((r-r%64)/64+1),o=Array(i-1),s=0,a=0;a<n;)s=a%4*8,o[e=(a-a%4)/4]=o[e]|t.charCodeAt(a)<<s,a++;return o[e=(a-a%4)/4]=o[e]|128<<(s=a%4*8),o[i-2]=n<<3,o[i-1]=n>>>29,o},t.WordToHex=function(t){var e,n="",r="";for(e=0;e<=3;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n},t.Utf8Encode=function(t){var e,n="";t=t.replace(/\r\n/g,"\n");for(var r=0;r<t.length;r++)(e=t.charCodeAt(r))<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128));return n},t.init=function(t){for("string"!=typeof t&&(t=JSON.stringify(t)),this._string=this.Utf8Encode(t),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return(this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d)).toLowerCase()},t.x=Array(),t.S11=7,t.S12=12,t.S13=17,t.S14=22,t.S21=5,t.S22=9,t.S23=14,t.S24=20,t.S31=4,t.S32=11,t.S33=16,t.S34=23,t.S41=6,t.S42=10,t.S43=15,t.S44=21,t.RotateLeft=function(t,e){return t<<e|t>>>32-e},t.F=function(t,e,n){return t&e|~t&n},t.G=function(t,e,n){return t&n|e&~n},t.H=function(t,e,n){return t^e^n},t.I=function(t,e,n){return e^(t|~n)},t}();class np extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}const rp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),ip={};class op{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new sp(t,this.resultSelector))}}class sp extends F{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ip),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(P(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===ip?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ap=new y(t=>t.complete());function up(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):ap}function cp(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?j(n):up()).subscribe(e)})}function lp(){return q(1)}const hp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function dp(t){return function(e){return 0===t?up():e.lift(new fp(t))}}class fp{constructor(t){if(this.total=t,this.total<0)throw new hp}call(t,e){return e.subscribe(new pp(t,this.total))}}class pp extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function gp(t=yp){return e=>e.lift(new mp(t))}class mp{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vp(t,this.errorFactory))}}class vp extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function yp(){return new rp}function bp(t=null){return e=>e.lift(new wp(t))}class wp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new _p(t,this.defaultValue))}}class _p extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ep(t){return function(e){const n=new Sp(t),r=e.lift(n);return n.caught=r}}class Sp{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ip(t,this.selector,this.caught))}}class Ip extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new T(this,void 0,void 0);this.add(r);const i=P(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Cp(t){return e=>0===t?up():e.lift(new Tp(t))}class Tp{constructor(t){if(this.total=t,this.total<0)throw new hp}call(t,e){return e.subscribe(new kp(t,this.total))}}class kp extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ap(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sh((e,n)=>t(e,n,r)):v,Cp(1),n?bp(e):gp(()=>new rp))}function Dp(){}function xp(t,e,n){return function(r){return r.lift(new Op(t,e,n))}}class Op{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Np(t,this.nextOrObserver,this.error,this.complete))}}class Np extends p{constructor(t,e,n,i){super(t),this._tapNext=Dp,this._tapError=Dp,this._tapComplete=Dp,this._tapError=n||Dp,this._tapComplete=i||Dp,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Dp,this._tapError=e.error||Dp,this._tapComplete=e.complete||Dp)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Pp{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Fp(t,this.predicate,this.thisArg,this.source))}}class Fp extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Rp(t,e){return"function"==typeof e?n=>n.pipe(Rp((n,r)=>j(t(n,r)).pipe(R((t,i)=>e(n,t,r,i))))):e=>e.lift(new Lp(t))}class Lp{constructor(t){this.project=t}call(t,e){return e.subscribe(new Mp(t,this.project))}}class Mp extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new T(this,e,n),o=this.destination;o.add(i),this.innerSubscription=P(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Vp(...t){return lp()(ih(...t))}class jp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Up(t,this.accumulator,this.seed,this.hasSeed))}}class Up extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Bp{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $p(t,this.callback))}}class $p extends p{constructor(t,e){super(t),this.add(new h(e))}}class Hp{constructor(t,e){this.id=t,this.url=e}}class qp extends Hp{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gp extends Hp{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zp extends Hp{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wp extends Hp{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kp extends Hp{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jp extends Hp{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yp extends Hp{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zp extends Hp{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xp extends Hp{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qp{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tg{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ng{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rg{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ig{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class og{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ag(t){return new sg(t)}function ug(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function cg(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lg(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hg(t[i],e[i]))return!1;return!0}function hg(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function dg(t){return Array.prototype.concat.apply([],t)}function fg(t){return t.length>0?t[t.length-1]:null}function pg(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gg(t){return _s(t)?t:ws(t)?j(Promise.resolve(t)):ih(t)}function mg(t,e,n){return n?function(t,e){return lg(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!wg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hg(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!wg(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!wg(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!wg(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class vg{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return Ig.serialize(this)}}class yg{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pg(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cg(this)}}class bg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ag(this.parameters)),this._parameterMap}toString(){return Og(this)}}function wg(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function _g(t,e){let n=[];return pg(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),pg(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Eg{}class Sg{parse(t){const e=new Lg(t);return new vg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Cg(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return pg(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=_g(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Cg(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${kg(e)}=${kg(t)}`).join("&"):`${kg(e)}=${kg(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ig=new Sg;function Cg(t){return t.segments.map(t=>Og(t)).join("/")}function Tg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kg(t){return Tg(t).replace(/%3B/gi,";")}function Ag(t){return Tg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dg(t){return decodeURIComponent(t)}function xg(t){return Dg(t.replace(/\+/g,"%20"))}function Og(t){return`${Ag(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ag(t)}=${Ag(e[t])}`).join("")}`;var e}const Ng=/^[^\/()?;=#]+/;function Pg(t){const e=t.match(Ng);return e?e[0]:""}const Fg=/^[^=?&#]+/,Rg=/^[^?&#]+/;class Lg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yg([],{}):new yg([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yg(t,e)),n}parseSegment(){const t=Pg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bg(Dg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pg(this.remaining);t&&(n=t,this.capture(n))}t[Dg(e)]=Dg(n)}parseQueryParam(t){const e=function(t){const e=t.match(Fg);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Rg);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=xg(e),i=xg(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new yg([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return jg(t,this._root).map(t=>t.value)}}function Vg(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vg(t,n);if(e)return e}return null}function jg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jg(t,n);if(r.length)return r.unshift(e),r}return[]}class Ug{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $g extends Mg{constructor(t,e){super(t),this.snapshot=e,Kg(this,t)}toString(){return this.snapshot.toString()}}function Hg(t,e){const n=function(t,e){const n=new zg([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Wg("",new Ug(n,[]))}(t,e),r=new np([new bg("",{})]),i=new np({}),o=new np({}),s=new np({}),a=new np(""),u=new qg(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new $g(new Ug(u,[]),n)}class qg{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(t=>ag(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(t=>ag(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zg{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ag(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ag(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wg extends Mg{constructor(t,e){super(e),this.url=t,Kg(this,e)}toString(){return Jg(this._root)}}function Kg(t,e){e.value._routerState=t,e.children.forEach(e=>Kg(t,e))}function Jg(t){const e=t.children.length>0?` { ${t.children.map(Jg).join(", ")} } `:"";return`${t.value}${e}`}function Yg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lg(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),lg(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!lg(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),lg(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zg(t,e){var n,r;return lg(t.params,e.params)&&wg(n=t.url,r=e.url)&&n.every((t,e)=>lg(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Zg(t.parent,e.parent))}function Xg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qg(t,e,n,r,i){let o={};return r&&pg(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new vg(n.root===t?e:function t(e,n,r){const i={};return pg(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new yg(e.segments,i)}(n.root,t,e),o,i)}class tm{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xg(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==fg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class em{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function nm(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function rm(t,e,n){if(t||(t=new yg([],{})),0===t.segments.length&&t.hasChildren())return im(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=nm(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!um(s,a,e))return o;r+=2}else{if(!um(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new yg(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new yg(t.segments.slice(r.pathIndex),t.children),im(e,0,i)}return r.match&&0===i.length?new yg(t.segments,{}):r.match&&!t.hasChildren()?om(t,e,n):r.match?im(t,0,i):om(t,e,n)}function im(t,e,n){if(0===n.length)return new yg(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return pg(r,(n,r)=>{null!==n&&(i[r]=rm(t.children[r],e,n))}),pg(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new yg(t.segments,i)}}function om(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=sm(n[i].outlets);return new yg(r,t)}if(0===i&&Xg(n[0])){r.push(new bg(t.segments[e].path,n[0])),i++;continue}const o=nm(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Xg(s)?(r.push(new bg(o,am(s))),i+=2):(r.push(new bg(o,{})),i++)}return new yg(r,{})}function sm(t){const e={};return pg(t,(t,n)=>{null!==t&&(e[n]=om(new yg([],{}),0,t))}),e}function am(t){const e={};return pg(t,(t,n)=>e[n]=""+t),e}function um(t,e,n){return t==n.path&&lg(e,n.parameters)}class cm{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),pg(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Bg(t),i=t.value.component?n.children:e;pg(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Bg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ig(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ng(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Yg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),lm(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function lm(t){Yg(t.value),t.children.forEach(lm)}class hm{constructor(t,e){this.routes=t,this.module=e}}function dm(t){return"function"==typeof t}function fm(t){return t instanceof vg}class pm{constructor(t){this.segmentGroup=t||null}}class gm{constructor(t){this.urlTree=t}}function mm(t){return new y(e=>e.error(new pm(t)))}function vm(t){return new y(e=>e.error(new gm(t)))}function ym(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class bm{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Yt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(R(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ep(t=>{if(t instanceof gm)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(R(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ep(t=>{if(t instanceof pm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new yg([],{primary:t}):t;return new vg(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(R(t=>new yg([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return ih({});const n=[],r=[],i={};return pg(t,(t,o)=>{const s=e(o,t).pipe(R(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),ih.apply(null,n.concat(r)).pipe(lp(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sh((e,n)=>t(e,n,r)):v,dp(1),n?bp(e):gp(()=>new rp))}(),R(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return ih(...n).pipe(R(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ep(t=>{if(t instanceof pm)return ih(null);throw t}))),lp(),Ap(t=>!!t),Ep((t,n)=>{if(t instanceof rp||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return ih(new yg([],{}));throw new pm(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Sm(r)!==o?mm(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):mm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vm(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new yg(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=wm(e,r,i);if(!s)return mm(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?vm(l):this.lineralizeSegments(r,l).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(R(t=>(n._loadedConfig=t,new yg(r,{})))):ih(new yg(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=wm(e,n,r);if(!i)return mm(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Em(t,e,n)&&"primary"!==Sm(n))}(t,n,r)?{segmentGroup:_m(new yg(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Sm(r)&&(n[Sm(r)]=new yg([],{}));return n}(r,new yg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Em(t,e,n))}(t,n,r)?{segmentGroup:_m(new yg(t.segments,function(t,e,n,r){const i={};for(const o of n)Em(t,e,o)&&!r[Sm(o)]&&(i[Sm(o)]=new yg([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(R(t=>new yg(o,t))):0===r.length&&0===s.length?ih(new yg(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(R(t=>new yg(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?ih(new hm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ih(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(R(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(ug(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ih(new hm([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?j(r).pipe(R(r=>{const i=t.get(r);let o;if(function(t){return t&&dm(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!dm(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return gg(o)})).pipe(lp(),xp(t=>{if(!fm(t))return;const e=ug(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Pp(i,void 0,t)))):ih(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ih(n);if(r.numberOfChildren>1||!r.children.primary)return ym(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vg(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return pg(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return pg(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new yg(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function wm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||cg)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _m(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yg(t.segments.concat(e.segments),e.children)}return t}function Em(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Sm(t){return t.outlet||"primary"}class Im{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cm{constructor(t,e){this.component=t,this.route=e}}function Tm(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bg(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wg(t.url,e.url)||!lg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zg(t,e)||!lg(t.queryParams,e.queryParams);case"paramsChange":default:return!Zg(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Im(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Cm(u&&u.outlet&&u.outlet.component||null,a))}else a&&Am(n,u,o),o.canActivateChecks.push(new Im(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),pg(s,(t,e)=>Am(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function km(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Am(t,e,n){const r=Bg(t),i=t.value;pg(r,(t,r)=>{Am(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Dm=Symbol("INITIAL_VALUE");function xm(){return Rp(t=>function(...t){let e=null,n=null;return C(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),G(t,n).lift(new op(e))}(...t.map(t=>t.pipe(Cp(1),function(...t){const e=t[t.length-1];return C(e)?(t.pop(),n=>Vp(t,n,e)):e=>Vp(t,e)}(Dm)))).pipe(function(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new jp(t,e,n))}}((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Dm)return t;if(r===Dm&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fm(r))return r}return t},t)},Dm),sh(t=>t!==Dm),R(t=>fm(t)?t:!0===t),Cp(1)))}function Om(t,e){return null!==t&&e&&e(new rg(t)),ih(!0)}function Nm(t,e){return null!==t&&e&&e(new eg(t)),ih(!0)}function Pm(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ih(r.map(r=>cp(()=>{const i=km(r,e,n);let o;if(function(t){return t&&dm(t.canActivate)}(i))o=gg(i.canActivate(e,t));else{if(!dm(i))throw new Error("Invalid CanActivate guard");o=gg(i(e,t))}return o.pipe(Ap())}))).pipe(xm()):ih(!0)}function Fm(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>cp(()=>ih(e.guards.map(i=>{const o=km(i,e.node,n);let s;if(function(t){return t&&dm(t.canActivateChild)}(o))s=gg(o.canActivateChild(r,t));else{if(!dm(o))throw new Error("Invalid CanActivateChild guard");s=gg(o(r,t))}return s.pipe(Ap())})).pipe(xm())));return ih(i).pipe(xm())}class Rm{}class Lm{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=jm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new zg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ug(n,e),i=new Wg(this.url,r);return this.inheritParamsAndData(i._root),ih(i)}catch(t){return new y(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Gg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=_g(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Rm))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Rm;if((t.outlet||"primary")!==r)throw new Rm;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?fg(n).parameters:{};i=new zg(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$m(t),r,t.component,t,Mm(e),Vm(e)+n.length,Hm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rm;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||cg)(n,t,e);if(!r)throw new Rm;const i={};pg(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new zg(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$m(t),r,t.component,t,Mm(e),Vm(e)+o.length,Hm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=jm(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Ug(i,t)]}if(0===a.length&&0===c.length)return[new Ug(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Ug(i,l)]}}function Mm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jm(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Um(t,e,n)&&"primary"!==Bm(n))}(t,n,r)){const i=new yg(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Bm(o)){const n=new yg([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Bm(o)]=n}return i}(t,e,r,new yg(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Um(t,e,n))}(t,n,r)){const o=new yg(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Um(t,n,a)&&!i[Bm(a)]){const n=new yg([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Bm(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new yg(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Um(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Bm(t){return t.outlet||"primary"}function $m(t){return t.data||{}}function Hm(t){return t.resolve||{}}function qm(t){return function(e){return e.pipe(Rp(e=>{const n=t(e);return n?j(n).pipe(R(()=>e)):j([e])}))}}class Gm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let zm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ys(0,"router-outlet")},directives:function(){return[uv]},encapsulation:2}),t})();function Wm(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Km(r,Jm(e,r))}}function Km(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Wm(t.children,e)}function Jm(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ym(t){const e=t.children&&t.children.map(Ym),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=zm),n}const Zm=new Lt("ROUTES");class Xm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(R(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new hm(dg(r.injector.get(Zm)).map(Ym),r)}))}loadModuleFactory(t){return"string"==typeof t?j(this.loader.load(t)):gg(t()).pipe(U(t=>t instanceof Zt?ih(t):j(this.compiler.compileModuleAsync(t))))}}class Qm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tv,this.attachRef=null}}class tv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ev{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nv(t){throw t}function rv(t,e,n){return e.parse("/")}function iv(t,e){return ih(null)}let ov=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=nv,this.malformedUriErrorHandler=rv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iv,afterPreactivation:iv},this.urlHandlingStrategy=new ev,this.routeReuseStrategy=new Gm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Yt),this.console=i.get(Au);const u=i.get(Bu);this.isNgZoneEnabled=u instanceof Bu,this.resetConfig(a),this.currentUrlTree=new vg(new yg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xm(o,s,t=>this.triggerEvent(new Qp(t)),t=>this.triggerEvent(new tg(t))),this.routerState=Hg(this.currentUrlTree,this.rootComponentType),this.transitions=new np({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(sh(t=>0!==t.id),R(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Rp(t=>{let n=!1,r=!1;return ih(t).pipe(xp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ih(t).pipe(Rp(t=>{const n=this.transitions.getValue();return e.next(new qp(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ap:[t]}),Rp(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Rp(t=>function(t,e,n,r,i){return new bm(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(R(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),xp(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(U(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Lm(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(R(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),xp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),xp(t=>{const n=new Kp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new qp(n,this.serializeUrl(r),i,o);e.next(a);const u=Hg(r,this.rootComponentType).snapshot;return ih(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ap}),qm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),xp(t=>{const e=new Jp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),R(t=>Object.assign(Object.assign({},t),{guards:Tm(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ih(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return j(t).pipe(U(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ih(o.map(o=>{const s=km(o,e,i);let a;if(function(t){return t&&dm(t.canDeactivate)}(s))a=gg(s.canDeactivate(t,e,n,r));else{if(!dm(s))throw new Error("Invalid CanDeactivate guard");a=gg(s(t,e,n,r))}return a.pipe(Ap())})).pipe(xm()):ih(!0)}(t.component,t.route,n,e,r)),Ap(t=>!0!==t,!0))}(s,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return j(e).pipe(oh(e=>j([Nm(e.route.parent,r),Om(e.route,r),Fm(t,e.path,n),Pm(t,e.route,n)]).pipe(lp(),Ap(t=>!0!==t,!0))),Ap(t=>!0!==t,!0))}(r,o,t,e):ih(n)),R(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),xp(t=>{if(fm(t.guardsResult)){const e=ug(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),xp(t=>{const e=new Yp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),sh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new zp(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),qm(t=>{if(t.guards.canActivateChecks.length)return ih(t).pipe(xp(t=>{const e=new Zp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Rp(t=>{let n=!1;return ih(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return ih(t);let o=0;return j(n).pipe(oh(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ih({});const o={};return j(i).pipe(U(i=>function(t,e,n,r){const i=km(t,e,r);return gg(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(xp(t=>{o[i]=t}))),dp(1),U(()=>Object.keys(o).length===i.length?ih(o):ap))}(t._resolve,t,e,r).pipe(R(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gg(t,n).resolve),null)))}(t.route,e,r,i)),xp(()=>o++),dp(1),U(e=>o===n.length?ih(t):ap))}))}),xp({next:()=>n=!0,complete:()=>{if(!n){const n=new zp(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),xp(t=>{const e=new Xp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),qm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),R(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ug(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new qg(new np((i=n.value).url),new np(i.params),new np(i.queryParams),new np(i.fragment),new np(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Ug(r,o)}}var i}(t,e._root,n?n._root:void 0);return new $g(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),xp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),R(t=>(new cm(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),xp({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new zp(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Bp(i))),Ep(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fm(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new zp(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Wp(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return ap}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Wm(t),this.config=t.map(Ym),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;wr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Qg(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tm(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return pg(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new tm(n,e,r)}(n);if(o.toRoot())return Qg(e.root,new yg([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new em(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new em(t,t===e.root,0)}const r=Xg(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new em(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?im(s.segmentGroup,s.index,o.commands):rm(s.segmentGroup,s.index,o.commands);return Qg(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){wr()&&this.isNgZoneEnabled&&!Bu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=fm(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(fm(t))return mg(this.currentUrlTree,t,e);const n=this.parseUrl(t);return mg(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Gp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(zt(Lo),zt(Eg),zt(tv),zt(Pc),zt(Zo),zt(uc),zt(Vu),zt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),sv=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new S,this.subscription=t.events.subscribe(t=>{t instanceof Gp&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){wr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:av(this.skipLocationChange),replaceUrl:av(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:av(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:av(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(fs(ov),fs(qg),fs(Ac))},t.\u0275dir=ge({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Es("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(oa("href",e.href,zr),us("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ae]}),t})();function av(t){return""===t||!!t}let uv=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new yu,this.deactivateEvents=new yu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new cv(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(fs(tv),fs(Ja),fs(Ea),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const r=n[e];if(xn(r))break;if(0===r)e+=2;else if("number"==typeof r)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===r)return n[e+1];e+=2}}}return null}(Qe())),fs(Fo))},t.\u0275dir=ge({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class cv{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===qg?this.route:t===tv?this.childContexts:this.parent.get(t,e)}}class lv{}class hv{preload(t,e){return ih(null)}}let dv=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Xm(e,n,e=>t.triggerEvent(new Qp(e)),e=>t.triggerEvent(new tg(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(sh(t=>t instanceof Gp),oh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Yt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return j(n).pipe(q(),R(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(zt(ov),zt(uc),zt(Vu),zt(Zo),zt(lv))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),fv=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof og&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new og(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(zt(ov),zt(Cl),zt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const pv=new Lt("ROUTER_CONFIGURATION"),gv=new Lt("ROUTER_FORROOT_GUARD"),mv=[Pc,{provide:Eg,useClass:Sg},{provide:ov,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new ov(null,t,e,n,r,i,o,dg(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=vc();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Eg,tv,Pc,Zo,uc,Vu,Zm,pv,[class{},new nt],[class{},new nt]]},tv,{provide:qg,useFactory:function(t){return t.routerState.root},deps:[ov]},{provide:uc,useClass:hc},dv,hv,class{preload(t,e){return e().pipe(Ep(()=>ih(null)))}},{provide:pv,useValue:{enableTracing:!1}}];function vv(){return new ec("Router",ov)}let yv=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[mv,Ev(e),{provide:gv,useFactory:_v,deps:[[ov,new nt,new it]]},{provide:pv,useValue:n||{}},{provide:Ac,useFactory:wv,deps:[bc,[new et(xc),new nt],pv]},{provide:fv,useFactory:bv,deps:[ov,Cl,pv]},{provide:lv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hv},{provide:ec,multi:!0,useFactory:vv},[Sv,{provide:wu,multi:!0,useFactory:Iv,deps:[Sv]},{provide:Tv,useFactory:Cv,deps:[Sv]},{provide:ku,multi:!0,useExisting:Tv}]]}}static forChild(e){return{ngModule:t,providers:[Ev(e)]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(zt(gv,8),zt(ov,8))}}),t})();function bv(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fv(t,e,n)}function wv(t,e,n={}){return n.useHash?new Nc(t,e):new Oc(t,e)}function _v(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ev(t){return[{provide:Xo,multi:!0,useValue:t},{provide:Zm,multi:!0,useValue:t}]}let Sv=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(_c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ov),r=this.injector.get(pv);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?ih(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(pv),n=this.injector.get(dv),r=this.injector.get(fv),i=this.injector.get(ov),o=this.injector.get(sc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(zt(Zo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Iv(t){return t.appInitializer.bind(t)}function Cv(t){return t.bootstrapListener.bind(t)}const Tv=new Lt("Router Initializer");let kv=(()=>{class t{constructor(t){this.http=t,this.api=Lf}getData(){return this.http.get(this.api+"products.json")}getLimiData(t,e){return this.http.get(`${this.api}products.json?orderBy="$key"&limitToFirst=${e}&startAt="${t}"&print=pretty`)}getFilterData(t,e){return this.http.get(`${this.api}products.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}getFilterDataWithLimit(t,e,n){return this.http.get(`${this.api}products.json?orderBy="${t}"&equalTo="${e}"&limitToFirst=${n}&print=pretty`)}getSearchData(t,e){return this.http.get(`${this.api}products.json?orderBy="${t}"&startAt="${e}"&endAt="${e}\uf8ff"&print=pretty`)}patchData(t,e){return this.http.patch(`${this.api}products/${t}.json`,e)}getUniqueData(t){return this.http.get(`${this.api}products/${t}.json`)}patchDataAuth(t,e,n){return this.http.patch(`${this.api}products/${t}.json?auth=${n}`,e)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Av=(()=>{class t{constructor(t,e){this.http=t,this.productsService=e,this.api=Lf,this.register="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.login="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.sendEmailVerification="https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.confirmEmailVerification="https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.getUserData="https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.sendPasswordResetEmail="https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.verifyPasswordResetCode="https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.confirmPasswordReset="https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.changePassword="https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4"}registerAuth(t){return this.http.post(""+this.register,t)}registerDataBase(t){return delete t.first_name,delete t.last_name,delete t.password,delete t.returnSecureToken,this.http.post(this.api+"/users.json",t)}getFilterData(t,e){return this.http.get(`${this.api}users.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}loginAuth(t){return this.http.post(""+this.login,t)}sendEmailVerificationFnc(t){return this.http.post(""+this.sendEmailVerification,t)}confirmEmailVerificationFnc(t){return this.http.post(""+this.confirmEmailVerification,t)}patchData(t,e){return this.http.patch(`${this.api}users/${t}.json`,e)}authActivate(){return new Promise(t=>{if(localStorage.getItem("idToken")){let e={idToken:localStorage.getItem("idToken")};return this.http.post(""+this.getUserData,e).subscribe(e=>{if(localStorage.getItem("expiresIn")){let e=Number(localStorage.getItem("expiresIn")),n=new Date;n.setTime(e),n>new Date?t(!0):(localStorage.removeItem("idToken"),localStorage.removeItem("expiresIn"),t(!1))}else localStorage.removeItem("idToken"),localStorage.removeItem("expiresIn"),t(!1)},e=>{localStorage.removeItem("idToken"),localStorage.removeItem("expiresIn"),t(!1)})}localStorage.removeItem("idToken"),localStorage.removeItem("expiresIn"),t(!1)})}sendPasswordResetEmailFnc(t){return this.http.post(""+this.sendPasswordResetEmail,t)}verifyPasswordResetCodeFnc(t){return this.http.post(""+this.verifyPasswordResetCode,t)}confirmPasswordResetFnc(t){return this.http.post(""+this.confirmPasswordReset,t)}changePasswordFnc(t){return this.http.post(""+this.changePassword,t)}getUniqueData(t){return this.http.get(`${this.api}users/${t}.json`)}addWishlist(t){this.authActivate().then(e=>{e?this.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(e=>{let n=Object.keys(e).toString();for(const r in e)if(null!=e[r].wishlist){let i=JSON.parse(e[r].wishlist),o=0;if(i.length>0)if(i.forEach((e,n)=>{e==t?o--:o++}),o!=i.length)Xf("error","Este Producto ya existe en tu lista de deseos",null);else{i.push(t);let e={wishlist:JSON.stringify(i)};this.patchData(n,e).subscribe(t=>{if(""!=t.wishlist){let t=Number($(".totalWishlist").html());$(".totalWishlist").html(t+1),Xf("success","Producto agregado a tu lista de desesos!",null)}})}else{i.push(t);let e={wishlist:JSON.stringify(i)};this.patchData(n,e).subscribe(t=>{if(""!=t.wishlist){let t=Number($(".totalWishlist").html());$(".totalWishlist").html(t+1),Xf("success","Producto agregado a tu lista de desesos!",null)}})}}else this.patchData(n,{wishlist:`["${t}"]`}).subscribe(t=>{if(""!=t.wishlist){let t=Number($(".totalWishlist").html());$(".totalWishlist").html(t+1),Xf("success","Producto agregado a tu lista de desesos!",null)}})}):Xf("error","Debes logearte primero",null)})}addShoppingCart(t){if(this.productsService.getFilterData("url",t.product).subscribe(e=>{for(const n in e){if(0==e[n].stock)return void Xf("error","Este producto no tiene stock!",null);if(0==t.details.length&&""!=e[n].specification){let r=JSON.parse(e[n].specification);t.details="[{";for(const e in r){let n=Object.keys(r[e]).toString();t.details+=`"${n}":"${r[e][n][0]}",`}t.details=t.details.slice(0,-1),t.details+="}]"}}}),localStorage.getItem("list")){let e,n=JSON.parse(localStorage.getItem("list")),r=0;for(const i in n)n[i].product==t.product&&n[i].details.toString()==t.details.toString()?(r--,e=i):r++;r==n.length?n.push(t):n[e].unit+=t.unit,localStorage.setItem("list",JSON.stringify(n)),Xf("success","Producto adicionado al Carrito",t.url)}else{let e=[];e.push(t),localStorage.setItem("list",JSON.stringify(e)),Xf("success","Producto adicionado al Carrito",t.url)}}getCountries(){return this.http.get("./assets/json/countries.json")}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch),zt(kv))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dv=(()=>{class t{constructor(t){this.http=t,this.api=Lf}registerDataBase(t,e){return this.http.post(`${this.api}/orders.json?auth=${e}`,t)}getFilterData(t,e){return this.http.get(`${this.api}orders.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xv=(()=>{class t{constructor(t){this.http=t,this.api=Lf}getData(){return this.http.get(this.api+"sales.json")}registerDatabase(t,e){return this.http.post(`${this.api}/sales.json?auth=${e}`,t)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ov=(()=>{class t{constructor(t){this.http=t,this.api=Lf}getData(){return this.http.get(this.api+"stores.json")}getFilterData(t,e){return this.http.get(`${this.api}stores.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nv(t,e){if(1&t&&(ms(0,"option",54),na(1),vs()),2&t){const t=e.$implicit;ps("value",t.name),fi(1),ia(" ",t.name," ")}}function Pv(t,e){1&t&&(ms(0,"div",55),na(1,"No puede estar vacio."),vs())}function Fv(t,e){1&t&&(ms(0,"div",55),na(1,"No puede estar vacio."),vs())}function Rv(t,e){1&t&&(ms(0,"div",55),na(1,"No puede estar vacio."),vs())}function Lv(t,e){1&t&&(ms(0,"div",55),na(1,"No puede estar vacio."),vs())}function Mv(t,e){if(1&t&&(ms(0,"tr"),ms(1,"td"),ms(2,"a",56),na(3),vs(),ys(4,"div",45),ms(5,"div",57),na(6," Cantidad: "),ms(7,"span",58),na(8),vs(),vs(),ms(9,"div",59),na(10),vs(),vs(),ms(11,"td",60),ms(12,"div",61),ys(13,"div",62),vs(),ys(14,"div",63),vs(),na(15),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs();fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",t.details,Gr),fi(4),ra(t.quantity),fi(2),ra(t.shipping),fi(4),ps("innerHTML",t.price,Gr),fi(1),ia(" ",n?r.callback():""," ")}}function Vv(t,e){1&t&&(ms(0,"div",55),na(1,"Debes seleccionar un metodo."),vs())}let jv=(()=>{class t{constructor(t,e,n,r,i,o,s){this.router=t,this.usersService=e,this.productsService=n,this.ordersService=r,this.salesService=i,this.storesService=o,this.activatedRoute=s,this.path=Rf,this.id=null,this.saveAddress=!1,this.countries=null,this.dialCode=null,this.shoppingCart=[],this.render=!0,this.totalShoppingCart=0,this.totalP='<h3 class="text-right">Total <span class="totalCheckout"><div class="spinner-border"></div></span></h3>',this.totalPrice=[],this.subTotalPrice=[],this.paymentMethod="",this.addInfo="",this.validateCoupon=!1,this.user=new Ff}ngOnInit(){if(null!=tp.get("coupon")&&this.storesService.getFilterData("url",tp.get("coupon")).subscribe(t=>{this.validateCoupon=!0}),this.usersService.authActivate().then(t=>{t&&this.usersService.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(t=>{this.id=Object.keys(t).toString();for(const e in t)this.user.displayName=t[e].displayName,this.user.username=t[e].username,this.user.email=t[e].email,this.user.country=t[e].country,this.user.city=t[e].city,null!=t[e].phone&&(this.user.phone=t[e].phone.split("-")[1],this.dialCode=t[e].phone.split("-")[0]),this.user.address=t[e].address,this.usersService.getCountries().subscribe(t=>{this.countries=t})})}),localStorage.getItem("list")){let t=JSON.parse(localStorage.getItem("list"));if(this.totalShoppingCart=t.length,0==t.length)return void this.router.navigateByUrl("/shopping-cart");for(const e in t)this.productsService.getFilterData("url",t[e].product).subscribe(n=>{for(const r in n){let i='<div class="list-details small text-seccondary">';if(t[e].details.length>0){let n=JSON.parse(t[e].details);for(const t in n){let e=Object.keys(n[t]);for(const r in e)i+=`<div>${e[r]}: ${n[t][e[r]]}</div>`}}else if(""!=n[r].specification){let t=JSON.parse(n[r].specification);for(const e in t){let n=Object.keys(t[e]).toString();i+=`<div>${n}: ${t[e][n][0]}</div>`}}i+="</div>",this.shoppingCart.push({url:n[r].url,name:n[r].name,category:n[r].category,image:n[r].image,delivery_time:n[r].delivery_time,quantity:t[e].unit,price:zf(n[r])[0],shipping:Number(n[r].shipping)*Number(t[e].unit),details:i,listDetails:t[e].details,store:n[r].store})}})}else this.router.navigateByUrl("/shopping-cart")}saveAddressFnc(t,e,n,r,i){this.saveAddress&&(""!=t.value&&""!=e.value&&""!=r.value&&""!=n.value?this.usersService.patchData(this.id,{country:this.user.country,country_code:this.user.country_code,city:this.user.city,phone:`${this.dialCode}-${this.user.phone}`,address:this.user.address}).subscribe(t=>{Xf("success","Tu informacion fue actualizada",null)}):(i.checked=!1,Xf("error","Por favor llena todos los campos",null)))}changeCountry(t){this.countries.forEach(e=>{t.value==e.name&&(this.dialCode=e.dial_code,this.user.country_code=e.code)})}callback(){if(this.render){this.render=!1;let t=this.totalPrice,e=this.subTotalPrice;setTimeout((function(){let n=$(".pCheckout .end-price"),r=$(".qCheckout"),i=$(".sCheckout"),o=$(".subTotalPriceCheckout"),s=0;for(let t=0;t<n.length;t++){let a=Number($(n[t]).html())+Number($(i[t]).html()),u=Number($(r[t]).html())*a;$(o[t]).html("$"+u.toFixed(2)),e.push(u.toFixed(2)),s+=u}$(".totalCheckout").html("$"+s.toFixed(2)),t.push(s.toFixed(2))}),500*this.totalShoppingCart)}}onSubmit(t){if(t.invalid)Xf("error","Respuesta Invalida",null);else if(Xf("loading","Cargando...",null),"paypal"==t.value.paymentMethod)Xf("html",'<div id="paypal-button-container"></div>',null),(e=this.totalPrice[0],new Promise(t=>{paypal.Buttons({createOrder:function(t,n){return n.order.create({purchase_units:[{amount:{value:e}}]})},onApprove:function(e,n){return n.order.capture().then((function(e){"COMPLETED"==e.status&&(localStorage.setItem("id_payment",e.id),t(!0))}))},onCancel:function(e){t(!1)},onError:function(e){t(!1)}}).render("#paypal-button-container")})).then(e=>{if(e){let e=0;this.shoppingCart.forEach((n,r)=>{e++,this.productsService.getFilterData("url",n.url).subscribe(t=>{for(const e in t){let r=Object.keys(t).toString(),i={sales:Number(t[e].sales)+Number(n.quantity)};this.productsService.patchDataAuth(r,i,localStorage.getItem("idToken")).subscribe(t=>{})}});let i=Math.floor(Number(n.delivery_time)/2),o=new Date;o.setDate(o.getDate()+i);let s=new Date;s.setDate(s.getDate()+Number(n.delivery_time));let a=[{stage:"reviewed",status:"ok",comment:"Recibimos tu orden, prepararemos la entrega.",date:new Date},{stage:"sent",status:"pending",comment:"",date:o},{stage:"delivered",status:"pending",comment:"",date:s}],u={store:n.store,user:this.user.username,product:n.name,url:n.url,image:n.image,category:n.category,details:n.details,quantity:n.quantity,price:this.subTotalPrice[r],email:t.value.email,country:t.value.country,city:t.value.city,phone:`${this.dialCode}-${t.value.phone}`,address:t.value.address,info:t.value.addInfo,process:JSON.stringify(a),status:"pending"};this.ordersService.registerDataBase(u,localStorage.getItem("idToken")).subscribe(e=>{if(""!=e.name){let i=0,o=0;this.validateCoupon?(i=.05*Number(this.subTotalPrice[r]),o=.95*Number(this.subTotalPrice[r])):(i=.25*Number(this.subTotalPrice[r]),o=.75*Number(this.subTotalPrice[r]));let s=localStorage.getItem("id_payment"),a={id_order:e.name,client:this.user.username,product:n.name,url:n.url,quantity:n.quantity,unit_price:o.toFixed(2),comision:i.toFixed(2),total:this.subTotalPrice[r],payment_method:t.value.paymentMethod,id_payment:s,date:new Date,status:"pending"};this.salesService.registerDatabase(a,localStorage.getItem("idToken")).subscribe(t=>{})}})}),e==this.shoppingCart.length&&(localStorage.removeItem("list"),tp.remove("coupon"),Xf("success","La compra fue exitosa.","account/my-shopping"))}else Xf("error","La compra no pudo realizarse, vuelva a intentar.",null)});else{if("mercado-pago"!=t.value.paymentMethod)return void Xf("error","Error Vuelve a intentar.",null);{Xf("html",'<img src="assets/img/payment-method/mp_logo.png" style="width:100px" />\n\t\t\t\t\t\t  <div><a class="ps-btn p-0 px-5 popupMP">Next</a></div>',null);let t=this.totalPrice[0].toString(),e="";this.shoppingCart.forEach(t=>{e+=`${t.name} x ${t.quantity},`}),e=e.slice(0,-2);let n=this.user.email;$(document).on("click",".popupMP",(function(){tp.set("_x",window.btoa(t),{expires:1}),tp.set("_p",e,{expires:1}),tp.set("_e",n,{expires:1}),window.open("http://localhost/sistema-farmacia/sistema-frm/src/mercadopago/index.php?_x="+ep.init(t),"_blank","width=950,height=650,scrollbars=NO")}));let r=0,i=this.subTotalPrice,o=this.shoppingCart,s=this.productsService,a=this.user,u=this.dialCode,c=this.addInfo,l=this.ordersService,h=this.validateCoupon,d=this.salesService,f=setInterval((function(){if(r++,null!=tp.get("_i")&&null!=tp.get("_k")&&null!=tp.get("_a")&&"TEST-f1dba20b-35bc-4c52-a882-28bd24dd6a7b"==tp.get("_k")&&"TEST-8431567043702855-101920-ce8188d3fd2a9fad550d47e3fdcb8a17-150018385"==tp.get("_a")){let t=0;o.forEach((e,n)=>{t++,s.getFilterData("url",e.url).subscribe(t=>{for(const n in t){let r=Object.keys(t).toString(),i={sales:Number(t[n].sales)+Number(e.quantity)};s.patchDataAuth(r,i,localStorage.getItem("idToken")).subscribe(t=>{})}});let r=Math.floor(Number(e.delivery_time)/2),o=new Date;o.setDate(o.getDate()+r);let f=new Date;f.setDate(f.getDate()+Number(e.delivery_time));let p=[{stage:"reviewed",status:"ok",comment:"Recibimos su orden, comenzaremos el proceso de entrega",date:new Date},{stage:"sent",status:"pending",comment:"",date:o},{stage:"delivered",status:"pending",comment:"",date:f}],g={store:e.store,user:a.username,product:e.name,url:e.url,image:e.image,category:e.category,details:e.details,quantity:e.quantity,price:i[n],email:a.email,country:a.country,city:a.city,phone:`${u}-${a.phone}`,address:a.address,info:c,process:JSON.stringify(p),status:"pending"};l.registerDataBase(g,localStorage.getItem("idToken")).subscribe(t=>{if(""!=t.name){let r=0,o=0;h?(r=.05*Number(i[n]),o=.95*Number(i[n])):(r=.25*Number(i[n]),o=.75*Number(i[n]));let s=tp.get("_i"),u={id_order:t.name,client:a.username,product:e.name,url:e.url,quantity:e.quantity,unit_price:o.toFixed(2),commision:r.toFixed(2),total:i[n],payment_method:"Mercado Pago",id_payment:s,date:new Date,status:"pending"};d.registerDatabase(u,localStorage.getItem("idToken")).subscribe(t=>{})}})}),t==o.length&&(clearInterval(f),tp.remove("_a"),tp.remove("_k"),localStorage.removeItem("list"),tp.remove("coupon"),Xf("success","The purchase was successful","account/my-shopping"))}}),1e3);r>300&&(clearInterval(f),window.open("account","_parent"))}}var e}}return t.\u0275fac=function(e){return new(e||t)(fs(ov),fs(Av),fs(kv),fs(Dv),fs(xv),fs(Ov),fs(qg))},t.\u0275cmp=ce({type:t,selectors:[["app-checkout"]],decls:122,vars:21,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["routerLink","/"],["href","shopping-cart"],[1,"ps-checkout","ps-section--shopping"],[1,"ps-section__header"],[1,"ps-section__content"],[1,"ps-form--checkout",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"col-xl-7","col-lg-8","col-sm-12"],[1,"ps-form__billing-info"],[1,"ps-form__heading"],[1,"form-group"],[1,"form-group__content"],["type","text","name","displayName","readonly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","email","email","","readonly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","country","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["inputCountry",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["type","text","name","city","required","",1,"form-control",3,"ngModel","ngModelChange"],["inputCity",""],[1,"form-group__content","input-group"],[1,"input-group-append"],[1,"input-group-text"],["type","text","name","phone","required","",1,"form-control",3,"ngModel","ngModelChange"],["inputPhone",""],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["inputAddress",""],[1,"ps-checkbox"],["type","checkbox","id","create-account","name","saveAddress",1,"form-control",3,"ngModel","ngModelChange","change"],["inputSaveAddress",""],["for","create-account"],[1,"mt-40"],["rows","7","placeholder","Notas sobre el pedido.","name","addInfo",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-xl-5","col-lg-4","col-sm-12"],[1,"ps-form__total"],[1,"content"],[1,"ps-block--checkout-total"],[1,"ps-block__header","d-flex","justify-content-between"],[1,"ps-block__content"],[1,"table","ps-block__products"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"py-3"],[1,"ps-radio"],["type","radio","id","pay-paypal","name","paymentMethod","value","paypal","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","pay-paypal"],[1,"w-50",3,"src"],["type","radio","id","pay-mercadopago","name","paymentMethod","value","mercado-pago","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","pay-mercadopago"],["type","submit",1,"ps-btn","ps-btn--fullwidth"],[3,"value"],[1,"text-danger"],[3,"href"],[1,"small","text-secondary"],[1,"qCheckout"],[1,"d-none","sCheckout"],[1,"text-right","ps-product"],[1,"subTotalPriceCheckout"],[1,"spinner-border"],[1,"d-none","pCheckout",3,"innerHTML"]],template:function(t,e){if(1&t){const t=bs();ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),ms(7,"a",4),na(8,"Mi Carrito"),vs(),vs(),ms(9,"li"),na(10,"Checkout"),vs(),vs(),vs(),vs(),ms(11,"div",5),ms(12,"div",1),ms(13,"div",6),ms(14,"h1"),na(15,"Checkout"),vs(),vs(),ms(16,"div",7),ms(17,"form",8,9),Es("ngSubmit",(function(){Xe(t);const n=ds(18);return e.onSubmit(n)})),ms(19,"div",10),ms(20,"div",11),ms(21,"div",12),ms(22,"h3",13),na(23,"Billing Details"),vs(),ms(24,"div",14),ms(25,"label"),na(26,"Nombre Completo"),ys(27,"sup"),vs(),ms(28,"div",15),ms(29,"input",16),Es("ngModelChange",(function(t){return e.user.displayName=t})),vs(),vs(),vs(),ms(30,"div",14),ms(31,"label"),na(32,"Email "),ys(33,"sup"),vs(),ms(34,"div",15),ms(35,"input",17),Es("ngModelChange",(function(t){return e.user.email=t})),vs(),vs(),vs(),ms(36,"div",14),ms(37,"label"),na(38,"Pais"),ys(39,"sup"),vs(),ms(40,"div",15),ms(41,"select",18,19),Es("ngModelChange",(function(t){return e.user.country=t}))("change",(function(){Xe(t);const n=ds(42);return e.changeCountry(n)})),hs(43,Nv,2,2,"option",20),vs(),hs(44,Pv,2,0,"div",21),vs(),vs(),ms(45,"div",14),ms(46,"label"),na(47,"Provincia"),ys(48,"sup"),vs(),ms(49,"div",15),ms(50,"input",22,23),Es("ngModelChange",(function(t){return e.user.city=t})),vs(),hs(52,Fv,2,0,"div",21),vs(),vs(),ms(53,"div",14),ms(54,"label"),na(55,"Telefono"),ys(56,"sup"),vs(),ms(57,"div",24),ms(58,"div",25),ms(59,"span",26),na(60),vs(),vs(),ms(61,"input",27,28),Es("ngModelChange",(function(t){return e.user.phone=t})),vs(),hs(63,Rv,2,0,"div",21),vs(),vs(),ms(64,"div",14),ms(65,"label"),na(66,"Direccion"),ys(67,"sup"),vs(),ms(68,"div",15),ms(69,"input",29,30),Es("ngModelChange",(function(t){return e.user.address=t})),vs(),hs(71,Lv,2,0,"div",21),vs(),vs(),ms(72,"div",14),ms(73,"div",31),ms(74,"input",32,33),Es("ngModelChange",(function(t){return e.saveAddress=t}))("change",(function(){Xe(t);const n=ds(42),r=ds(51),i=ds(70),o=ds(62),s=ds(75);return e.saveAddressFnc(n,r,i,o,s)})),vs(),ms(76,"label",34),na(77,"Guardar direccion?"),vs(),vs(),vs(),ms(78,"h3",35),na(79," Addition information"),vs(),ms(80,"div",14),ms(81,"label"),na(82,"Order Notes"),vs(),ms(83,"div",15),ms(84,"textarea",36),Es("ngModelChange",(function(t){return e.addInfo=t})),na(85,"    \n                                    "),vs(),vs(),vs(),vs(),vs(),ms(86,"div",37),ms(87,"div",38),ms(88,"h3",13),na(89,"Tu orden"),vs(),ms(90,"div",39),ms(91,"div",40),ms(92,"div",41),ms(93,"p"),na(94,"Product"),vs(),ms(95,"p"),na(96,"Total"),vs(),vs(),ms(97,"div",42),ms(98,"table",43),ms(99,"tbody"),hs(100,Mv,16,7,"tr",44),vs(),vs(),ys(101,"div",45),vs(),vs(),ys(102,"hr",46),ms(103,"h3",13),na(104,"Seleccionar metodo."),vs(),hs(105,Vv,2,0,"div",21),ms(106,"div",14),ms(107,"div",47),ms(108,"input",48),Es("ngModelChange",(function(t){return e.paymentMethod=t})),vs(),ms(109,"label",49),na(110,"Pay with paypal? "),ms(111,"span"),ys(112,"img",50),vs(),vs(),vs(),vs(),ms(113,"div",14),ms(114,"div",47),ms(115,"input",51),Es("ngModelChange",(function(t){return e.paymentMethod=t})),vs(),ms(116,"label",52),na(117,"Pay with Mercado Pago? "),ms(118,"span"),ys(119,"img",50),vs(),vs(),vs(),vs(),ms(120,"button",53),na(121,"Proceed to checkout"),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs()}if(2&t){const t=ds(18);fi(29),ps("ngModel",e.user.displayName),fi(6),ps("ngModel",e.user.email),fi(6),ps("ngModel",e.user.country),fi(2),ps("ngForOf",e.countries),fi(1),ps("ngIf",t.submitted&&t.controls.country.errors),fi(6),ps("ngModel",e.user.city),fi(2),ps("ngIf",t.submitted&&t.controls.city.errors),fi(8),ia(" ",e.dialCode," "),fi(1),ps("ngModel",e.user.phone),fi(2),ps("ngIf",t.submitted&&t.controls.phone.errors),fi(6),ps("ngModel",e.user.address),fi(2),ps("ngIf",t.submitted&&t.controls.address.errors),fi(3),ps("ngModel",e.saveAddress),fi(10),ps("ngModel",e.addInfo),fi(16),ps("ngForOf",e.shoppingCart),fi(1),ps("innerHTML",e.totalP,Gr),fi(4),ps("ngIf",t.submitted&&t.controls.paymentMethod.errors),fi(3),ps("ngModel",e.paymentMethod),fi(4),ks("src","",e.path,"img/payment-method/paypal.jpg",zr),fi(3),ps("ngModel",e.paymentMethod),fi(4),ks("src","",e.path,"img/payment-method/mercado_pago.jpg",zr)}},directives:[sv,ef,ed,zd,Wh,rf,td,tf,sf,Id,pl,ml,qh,vd,Cd,Dd],styles:[""]}),t})(),Uv=(()=>{class t{constructor(t){this.http=t,this.api=Lf}getData(){return this.http.get(this.api+"categories.json")}getFilterData(t,e){return this.http.get(`${this.api}categories.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}patchData(t,e){return this.http.patch(`${this.api}categories/${t}.json`,e)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bv(t,e){1&t&&(ms(0,"tr"),ms(1,"td",18),na(2,"No tienes productos aqui aun!"),vs(),vs())}function $v(t,e){if(1&t){const t=bs();ms(0,"tr"),ms(1,"td"),ms(2,"div",19),ms(3,"div",20),ms(4,"a",21),ys(5,"img",22),vs(),vs(),ms(6,"div",23),ms(7,"a",21),na(8),vs(),ys(9,"div",24),vs(),vs(),vs(),ys(10,"td",25),ms(11,"td",26),na(12,"$"),ms(13,"span",27),na(14),vs(),vs(),ms(15,"td"),ms(16,"div",28),ms(17,"button",29),Es("click",(function(){Xe(t);const n=e.$implicit,r=ds(22);return Cs().changeQuantity(r.value,1,"up",n.url,n.listDetails)})),na(18,"+"),vs(),ms(19,"button",30),Es("click",(function(){Xe(t);const n=e.$implicit,r=ds(22);return Cs().changeQuantity(r.value,1,"down",n.url,n.listDetails)})),na(20,"-"),vs(),ms(21,"input",31,32),Es("change",(function(){Xe(t);const n=e.$implicit,r=ds(22);return Cs().changeQuantity(r.value,0,null,n.url,n.listDetails)})),vs(),vs(),vs(),ms(23,"td",33),ys(24,"div",34),vs(),ms(25,"td"),ms(26,"a",35),Es("confirm",(function(){Xe(t);const n=e.$implicit;return Cs().removeProduct(n.url,n.listDetails)})),ys(27,"i",36),vs(),vs(),na(28),vs()}if(2&t){const t=e.$implicit,n=e.last,r=Cs();fi(4),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(1),ps("innerHTML",t.details,Gr),fi(1),ps("innerHTML",t.price,Gr),fi(4),ra(t.shipping),fi(7),Ts("value",t.quantity),fi(5),ps("popoverMessage",r.popoverMessage),fi(2),ia(" ",n?r.callback():""," ")}}function Hv(t,e){if(1&t&&(ms(0,"div",37),ys(1,"div",24),vs()),2&t){const t=Cs();fi(1),ps("innerHTML",t.totalP,Gr)}}function qv(t,e){1&t&&(ms(0,"a",38),na(1," Proceed to checkout "),ys(2,"i",39),vs())}let Gv=(()=>{class t{constructor(t,e,n,r){this.usersService=t,this.productsService=e,this.categoriesService=n,this.router=r,this.path=Rf,this.shoppingCart=[],this.totalShoppingCart=0,this.render=!0,this.quantity=1,this.totalP='<div class="p-2"><h3>Total <span class="totalP"><div class="spinner-border"></div></span></h3></div>   ',this.popoverMessage="Estas seguro de remover esto?",this.dtOptions={},this.dtTrigger=new S}ngOnInit(){if(this.dtOptions={pagingType:"full_numbers",processing:!0},localStorage.getItem("list")){let t=JSON.parse(localStorage.getItem("list"));this.totalShoppingCart=t.length;let e=0;for(const n in t)this.productsService.getFilterData("url",t[n].product).subscribe(r=>{for(const i in r){e++;let o='<div class="list-details small text-seccondary">';if(t[n].details.length>0){let e=JSON.parse(t[n].details);for(const t in e){let n=Object.keys(e[t]);for(const r in n)o+=`<div>${n[r]}: ${e[t][n[r]]}</div>`}}else if(""!=r[i].specification){let t=JSON.parse(r[i].specification);for(const e in t){let n=Object.keys(t[e]).toString();o+=`<div>${n}: ${t[e][n][0]}</div>`}}o+="</div>",this.shoppingCart.push({url:r[i].url,name:r[i].name,category:r[i].category,image:r[i].image,delivery_time:r[i].delivery_time,quantity:t[n].unit,price:zf(r[i])[0],shipping:Number(r[i].shipping)*Number(t[n].unit),details:o,listDetails:t[n].details}),e==t.length&&this.dtTrigger.next()}})}}callback(){this.render&&(this.render=!1,this.totalPrice(this.totalShoppingCart),setTimeout((function(){Zf()}),100*this.totalShoppingCart))}changeQuantity(t,e,n,r,i){let o=1;if(Number(t)>9&&(t=9),Number(t)<1&&(t=1),o="up"==n&&Number(t)<9?Number(t)+e:"down"==n&&Number(t)>1?Number(t)-e:Number(t),localStorage.getItem("list")){let t=JSON.parse(localStorage.getItem("list"));t.forEach(t=>{t.product==r&&t.details==i.toString()&&(t.unit=o)}),localStorage.setItem("list",JSON.stringify(t)),this.totalPrice(t.length)}}totalPrice(t){setTimeout((function(){let t=$(".pShoppingCart .end-price"),e=$(".qShoppingCart"),n=$(".sShoppingCart"),r=$(".subTotalPrice"),i=0;for(let o=0;o<t.length;o++){let s=Number($(t[o]).html())+Number($(n[o]).html()),a=Number($(e[o]).val())*s;$(r[o]).html("$"+a.toFixed(2)),i+=a}$(".totalP").html("$"+i.toFixed(2))}),500*t)}removeProduct(t,e){if(localStorage.getItem("list")){let n=JSON.parse(localStorage.getItem("list"));n.forEach((r,i)=>{r.product==t&&r.details==e.toString()&&n.splice(i,1)}),localStorage.setItem("list",JSON.stringify(n)),Xf("success","product removed",this.router.url)}}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(fs(Av),fs(kv),fs(Uv),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-shopping-cart"]],decls:42,vars:6,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["routerLink","/"],[1,"ps-section--shopping","ps-shopping-cart"],[1,"ps-section__header"],[1,"ps-section__content"],[1,"table-responsive"],["datatable","","width","100%",1,"table","ps-table--shopping-cart",3,"dtTrigger","dtOptions"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-block","d-lg-none","text-right","text-muted","py-3"],[1,"fas","fa-long-arrow-alt-right"],["class","d-flex flex-row-reverse",4,"ngIf"],[1,"ps-section__cart-actions"],["routerLink","/",1,"ps-btn"],[1,"icon-arrow-left"],["class","ps-btn","href","checkout",4,"ngIf"],["colspan","6",1,"text-center"],[1,"ps-product--cart"],[1,"ps-product__thumbnail"],[3,"href"],[3,"src"],[1,"ps-product__content"],[3,"innerHTML"],[1,"ps-product","pShoppingCart",3,"innerHTML"],[1,"text-center"],[1,"sShoppingCart"],[1,"form-group--number","quantity"],[1,"up",3,"click"],[1,"down",3,"click"],["type","number","min","1","max","9","step","1",1,"form-control","qShoppingCart",3,"value","change"],["quantity",""],[1,"subTotalPrice"],[1,"spinner-border","subTotalPriceM"],["mwlConfirmationPopover","","placement","left",2,"cursor","pointer",3,"popoverMessage","confirm"],[1,"icon-cross"],[1,"d-flex","flex-row-reverse"],["href","checkout",1,"ps-btn"],[1,"icon-arrow-right"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7,"Shopping cart"),vs(),vs(),vs(),vs(),ms(8,"div",4),ms(9,"div",1),ms(10,"div",5),ms(11,"h1"),na(12,"Shopping Cart"),vs(),vs(),ms(13,"div",6),ms(14,"div",7),ms(15,"table",8),ms(16,"thead"),ms(17,"tr"),ms(18,"th"),na(19,"Product name"),vs(),ms(20,"th"),na(21,"PRICE"),vs(),ms(22,"th"),na(23,"SHIPPING"),vs(),ms(24,"th"),na(25,"QUANTITY"),vs(),ms(26,"th"),na(27,"TOTAL"),vs(),ys(28,"th"),vs(),vs(),ms(29,"tbody"),hs(30,Bv,3,0,"tr",9),hs(31,$v,29,12,"tr",10),vs(),vs(),ms(32,"h4",11),na(33," Deslizar hacia "),ys(34,"i",12),vs(),vs(),ys(35,"hr"),hs(36,Hv,2,1,"div",13),ms(37,"div",14),ms(38,"a",15),ys(39,"i",16),na(40," Back to Shop "),vs(),hs(41,qv,3,0,"a",17),vs(),vs(),vs(),vs()),2&t&&(fi(15),ps("dtTrigger",e.dtTrigger)("dtOptions",e.dtOptions),fi(15),ps("ngIf",0==e.shoppingCart.length),fi(1),ps("ngForOf",e.shoppingCart),fi(5),ps("ngIf",e.shoppingCart.length>0),fi(5),ps("ngIf",e.shoppingCart.length>0))},directives:[sv,Nf,ml,pl,kf],styles:[""]}),t})(),zv=(()=>{class t{constructor(t,e){this.usersService=t,this.router=e}canActivate(){return new Promise(t=>{this.usersService.authActivate().then(e=>{e?t(!0):(this.router.navigateByUrl("/login"),t(!1))})})}}return t.\u0275fac=function(e){return new(e||t)(zt(Av),zt(ov))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wv=(()=>{class t{constructor(t){this.usersService=t}ngOnInit(){this.usersService.authActivate().then(t=>{t&&this.usersService.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(t=>{for(const e in t)this.displayName=t[e].displayName})})}logout(){localStorage.removeItem("idToken"),localStorage.removeItem("expiresIn"),window.open("login","_top")}}return t.\u0275fac=function(e){return new(e||t)(fs(Av))},t.\u0275cmp=ce({type:t,selectors:[["app-account-breadcrumb"]],decls:10,vars:1,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["href","index.html"],[1,"float-right",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7),vs(),vs(),ms(8,"a",4),Es("click",(function(){return e.logout()})),na(9,"Logout"),vs(),vs(),vs()),2&t&&(fi(7),ra(e.displayName))},styles:[""]}),t})();var Kv=n("He8V"),Jv=n.n(Kv);function Yv(t,e){1&t&&(ms(0,"tr"),ms(1,"td",11),na(2,"No tienes productos aqui aun!"),vs(),vs())}function Zv(t,e){1&t&&(ms(0,"span",24),na(1," In-stock "),vs())}function Xv(t,e){1&t&&(ms(0,"span",25),na(1," Out-stock "),vs())}function Qv(t,e){if(1&t){const t=bs();ms(0,"a",26),Es("click",(function(){Xe(t);const e=Cs().$implicit;return Cs().addShoppingCart(e.url,1,[])})),na(1," Add to cart "),vs()}}function ty(t,e){if(1&t){const t=bs();ms(0,"tr"),ms(1,"td"),ms(2,"div",12),ms(3,"div",13),ms(4,"a",14),ys(5,"img",15),vs(),vs(),ms(6,"div",16),ms(7,"a",14),na(8),vs(),vs(),vs(),vs(),ms(9,"td",17),ys(10,"div",18),vs(),ms(11,"td"),hs(12,Zv,2,0,"span",19),hs(13,Xv,2,0,"span",20),vs(),ms(14,"td"),hs(15,Qv,2,0,"a",21),vs(),ms(16,"td"),ms(17,"a",22),Es("confirm",(function(){Xe(t);const n=e.$implicit;return Cs().removeProduct(n.url)})),ys(18,"i",23),vs(),vs(),na(19),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs();fi(4),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(2),ps("innerHTML",i.price[n][0],Gr),fi(2),ps("ngIf",t.stock>0),fi(1),ps("ngIf",0==t.stock),fi(2),ps("ngIf",t.stock>0),fi(2),ps("popoverMessage",i.popoverMessage),us("remove",t.url),fi(2),ia(" ",r?i.callback():""," ")}}let ey=(()=>{class t{constructor(t,e,n){this.usersService=t,this.productsService=e,this.router=n,this.path=Rf,this.wishlist=[],this.products=[],this.price=[],this.render=!0,this.dtOptions={},this.dtTrigger=new S,this.popoverMessage="Estas seguro de Eliminar esto?"}ngOnInit(){this.dtOptions={pagingType:"full_numbers",processing:!0},this.usersService.getUniqueData(this.childItem).subscribe(t=>{if(null!=t.wishlist){this.wishlist=JSON.parse(t.wishlist);let e=0;this.wishlist.length>0&&this.wishlist.forEach(t=>{this.productsService.getFilterData("url",t).subscribe(t=>{for(const n in t)e++,this.products.push(t[n]),this.price.push(zf(t[n])),e==this.wishlist.length&&this.dtTrigger.next()})})}})}removeProduct(t){this.wishlist.forEach((e,n)=>{e==t&&this.wishlist.splice(n,1)});let e={wishlist:JSON.stringify(this.wishlist)};this.usersService.patchData(this.childItem,e).subscribe(t=>{""!=t.wishlist&&Xf("success","Producto eliminado de tu lista!","account")})}callback(){if(this.render&&(this.render=!1,window.matchMedia("(max-width:991px)").matches)){let t=this.wishlist,e=this.usersService,n=this.childItem;$(document).on("click",".removeProduct",(function(){let r=$(this).attr("remove");Jv.a.confirm({text:"Estas seguro de Eliminar esto?",cancelCallback:function(){},submitCallback:function(){t.forEach((e,n)=>{e==r&&t.splice(n,1)});let i={wishlist:JSON.stringify(t)};e.patchData(n,i).subscribe(t=>{""!=t.wishlist&&Xf("success","Producto eliminado de tu lista!","account")})}})}))}}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(fs(Av),fs(kv),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-account-wishlist"]],inputs:{childItem:"childItem"},decls:29,vars:4,consts:[[1,"ps-section__content"],[1,"ps-section__links"],[1,"active"],["routerLink","/account"],["routerLink","/account/my-shopping"],["href","my-account_new-store.html"],["href","my-account_my-sales.html"],[1,"table-responsive"],["datatable","","width","100%",1,"table","ps-table--whishlist","dt-responsive",3,"dtTrigger","dtOptions"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center"],[1,"ps-product--cart"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"ps-product__content"],[1,"ps-product"],[1,"",3,"innerHTML"],["class","ps-tag ps-tag--in-stock",4,"ngIf"],["class","ps-tag ps-tag--out-stock",4,"ngIf"],["class","ps-btn","style","cursor: pointer;",3,"click",4,"ngIf"],["mwlConfirmationPopover","","placement","left",1,"removeProduct",2,"cursor","pointer",3,"popoverMessage","confirm"],[1,"icon-cross"],[1,"ps-tag","ps-tag--in-stock"],[1,"ps-tag","ps-tag--out-stock"],[1,"ps-btn",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"ul",1),ms(2,"li",2),ms(3,"a",3),na(4,"My Wishlist"),vs(),vs(),ms(5,"li"),ms(6,"a",4),na(7,"My Shopping"),vs(),vs(),ms(8,"li"),ms(9,"a",5),na(10,"My Store"),vs(),vs(),ms(11,"li"),ms(12,"a",6),na(13,"My Sales"),vs(),vs(),vs(),ms(14,"div",7),ms(15,"table",8),ms(16,"thead"),ms(17,"tr"),ms(18,"th"),na(19,"Producto"),vs(),ms(20,"th"),na(21,"Precio Unitario"),vs(),ms(22,"th"),na(23,"Stock Disp"),vs(),ys(24,"th"),ys(25,"th"),vs(),vs(),ms(26,"tbody"),hs(27,Yv,3,0,"tr",9),hs(28,ty,20,13,"tr",10),vs(),vs(),vs(),vs()),2&t&&(fi(15),ps("dtTrigger",e.dtTrigger)("dtOptions",e.dtOptions),fi(12),ps("ngIf",0==e.products.length),fi(1),ps("ngForOf",e.products))},directives:[sv,Nf,ml,pl,kf],styles:[""]}),t})();function ny(t,e){1&t&&(ms(0,"tr"),ms(1,"td",11),na(2,"No tienes productos agregados aun"),vs(),vs())}function ry(t,e){if(1&t&&(ms(0,"li",24),ms(1,"h5"),na(2),mu(3,"date"),vs(),ms(4,"p",25),na(5,"Reviewed "),ys(6,"i",26),vs(),ms(7,"p"),na(8),vs(),vs()),2&t){const t=Cs().index,e=Cs();fi(2),ra(vu(3,2,e.process[t][0].date)),fi(6),ia("Comment: ",e.process[t][0].comment,"")}}function iy(t,e){if(1&t&&(ms(0,"li",24),ms(1,"h5"),na(2),mu(3,"date"),vs(),ms(4,"p",25),na(5,"Sent "),ys(6,"i",26),vs(),ms(7,"p"),na(8),vs(),vs()),2&t){const t=Cs().index,e=Cs();fi(2),ra(vu(3,2,e.process[t][1].date)),fi(6),ia("Comment: ",e.process[t][1].comment,"")}}function oy(t,e){if(1&t&&(ms(0,"li",27),ms(1,"h5"),na(2),mu(3,"date"),vs(),ms(4,"p"),na(5,"Sent "),vs(),ms(6,"button",28),ys(7,"span",29),na(8," En proceso "),vs(),vs()),2&t){const t=Cs().index,e=Cs();fi(2),ra(vu(3,1,e.process[t][1].date))}}function sy(t,e){if(1&t&&(ms(0,"li",24),ms(1,"h5"),na(2),mu(3,"date"),vs(),ms(4,"p",25),na(5,"Delivered "),ys(6,"i",26),vs(),ms(7,"p"),na(8),vs(),vs()),2&t){const t=Cs().index,e=Cs();fi(2),ra(vu(3,2,e.process[t][2].date)),fi(6),ia("Comment: ",e.process[t][2].comment,"")}}function ay(t,e){if(1&t&&(ms(0,"li",27),ms(1,"h5"),na(2),mu(3,"date"),vs(),ms(4,"p"),na(5,"Delivered "),vs(),ms(6,"button",28),ys(7,"span",29),na(8," En proceso "),vs(),vs()),2&t){const t=Cs().index,e=Cs();fi(2),ra(vu(3,1,e.process[t][2].date))}}function uy(t,e){1&t&&(ms(0,"a",30),na(1,"Abrir Disputa"),vs())}function cy(t,e){1&t&&(ms(0,"a",31),na(1,"Volver a comprar"),vs()),2&t&&ks("href","product/",Cs().$implicit.url,"",zr)}function ly(t,e){1&t&&(ms(0,"td"),ms(1,"div",32),ms(2,"a",33),na(3,"Add comment"),vs(),vs(),vs())}function hy(t,e){1&t&&(ms(0,"td"),ms(1,"div",32),ms(2,"div",34),ms(3,"select",35),ms(4,"option",36),na(5,"1"),vs(),ms(6,"option",36),na(7,"2"),vs(),ms(8,"option",36),na(9,"3"),vs(),ms(10,"option",36),na(11,"4"),vs(),ms(12,"option",37),na(13,"5"),vs(),vs(),vs(),ms(14,"a",38),na(15,"Add comment"),vs(),vs(),vs())}function dy(t,e){if(1&t&&(ms(0,"tr"),ms(1,"td"),ms(2,"div",12),ms(3,"div",13),ms(4,"a",14),ys(5,"img",15),vs(),vs(),ms(6,"div",16),ms(7,"a",14),na(8),vs(),vs(),vs(),vs(),ms(9,"td"),ms(10,"ul",17),hs(11,ry,9,4,"li",18),hs(12,iy,9,4,"li",18),hs(13,oy,9,3,"li",19),hs(14,sy,9,4,"li",18),hs(15,ay,9,3,"li",19),vs(),hs(16,uy,2,0,"a",20),hs(17,cy,2,1,"a",21),vs(),ms(18,"td",22),na(19),vs(),ms(20,"td",23),na(21),vs(),hs(22,ly,4,0,"td",9),hs(23,hy,16,0,"td",9),vs()),2&t){const t=e.$implicit,n=e.index,r=Cs();fi(4),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.product),fi(3),ps("ngIf","reviewed"==r.process[n][0].stage&&"ok"==r.process[n][0].status),fi(1),ps("ngIf","sent"==r.process[n][1].stage&&"ok"==r.process[n][1].status),fi(1),ps("ngIf","sent"==r.process[n][1].stage&&"ok"!=r.process[n][1].status),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"==r.process[n][2].status),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"!=r.process[n][2].status),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"!=r.process[n][2].status),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"==r.process[n][2].status),fi(2),ia("$",t.price,""),fi(2),ra(t.quantity),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"!=r.process[n][2].status),fi(1),ps("ngIf","delivered"==r.process[n][2].stage&&"ok"==r.process[n][2].status)}}let fy=(()=>{class t{constructor(t){this.ordersService=t,this.path=Rf,this.myShopping=[],this.process=[],this.dtOptions={},this.dtTrigger=new S}ngOnInit(){this.dtOptions={pagingType:"full_numbers",processing:!0},this.ordersService.getFilterData("user",this.childItem).subscribe(t=>{let e=0;for(const n in t)e++,this.myShopping.push(t[n]),this.process.push(JSON.parse(t[n].process));e==this.myShopping.length&&this.dtTrigger.next()})}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(fs(Dv))},t.\u0275cmp=ce({type:t,selectors:[["app-account-my-shopping"]],inputs:{childItem:"childItem"},decls:31,vars:4,consts:[[1,"ps-section__content"],[1,"ps-section__links"],["routerLink","/account"],[1,"active"],["routerLink","/account/my-shopping"],["href","my-account_new-store.html"],["href","my-account_my-sales.html"],[1,"table-responsive"],["width","100%","datatable","",1,"table","ps-table--whishlist","dt-responsive",3,"dtOptions","dtTrigger"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","5",1,"text-center"],[1,"ps-product--cart"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"ps-product__content"],[1,"timeline"],["class","success",4,"ngIf"],["class","process",4,"ngIf"],["class","btn btn-danger btn-lg","href","",4,"ngIf"],["class","btn btn-warning btn-lg",3,"href",4,"ngIf"],[1,"price","text-center"],[1,"text-center"],[1,"success"],[1,"text-success"],[1,"fas","fa-check"],[1,"process"],["disabled","",1,"btn","btn-primary"],[1,"spinner-border","spinner-border-sm"],["href","",1,"btn","btn-danger","btn-lg"],[1,"btn","btn-warning","btn-lg",3,"href"],[1,"text-center","mt-2"],["href","#",1,"btn","btn-warning","btn-lg","disabled"],[1,"br-theme-fontawesome-stars"],["data-read-only","true",1,"ps-rating",2,"display","none"],["value","1"],["value","2"],["href","#",1,"btn","btn-warning","btn-lg"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"ul",1),ms(2,"li"),ms(3,"a",2),na(4,"My Wishlist"),vs(),vs(),ms(5,"li",3),ms(6,"a",4),na(7,"My Shopping"),vs(),vs(),ms(8,"li"),ms(9,"a",5),na(10,"My Store"),vs(),vs(),ms(11,"li"),ms(12,"a",6),na(13,"My Sales"),vs(),vs(),vs(),ms(14,"div",7),ms(15,"table",8),ms(16,"thead"),ms(17,"tr"),ms(18,"th"),na(19,"Product name"),vs(),ms(20,"th"),na(21,"Proccess"),vs(),ms(22,"th"),na(23,"Price"),vs(),ms(24,"th"),na(25,"Quantity"),vs(),ms(26,"th"),na(27,"Review"),vs(),vs(),vs(),ms(28,"tbody"),hs(29,ny,3,0,"tr",9),hs(30,dy,24,17,"tr",10),vs(),vs(),vs(),vs()),2&t&&(fi(15),ps("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),fi(14),ps("ngIf",0==e.myShopping.length),fi(1),ps("ngForOf",e.myShopping))},directives:[sv,Nf,ml,pl,Cd,Dd],pipes:[Sl],styles:[""]}),t})();function py(t,e){1&t&&(ms(0,"div",41),ms(1,"select",42),ms(2,"option",43),na(3,"1"),vs(),ms(4,"option",43),na(5,"2"),vs(),ms(6,"option",43),na(7,"3"),vs(),ms(8,"option",43),na(9,"4"),vs(),ms(10,"option",44),na(11,"5"),vs(),vs(),vs())}function gy(t,e){1&t&&(ms(0,"button",45),na(1,"Change Password"),vs())}function my(t,e){1&t&&(ms(0,"div",46),ms(1,"div",47),ms(2,"div",48),ms(3,"a",49),ms(4,"h1"),ys(5,"i",50),vs(),ms(6,"h4",36),na(7,"Orders "),ms(8,"span",51),na(9,"51"),vs(),vs(),vs(),vs(),vs(),ms(10,"div",47),ms(11,"div",48),ms(12,"a",49),ms(13,"h1"),ys(14,"i",52),vs(),ms(15,"h4",36),na(16,"Products "),ms(17,"span",51),na(18,"51"),vs(),vs(),vs(),vs(),vs(),ms(19,"div",47),ms(20,"div",48),ms(21,"a",49),ms(22,"h1"),ys(23,"i",53),vs(),ms(24,"h4",36),na(25,"Disputes "),ms(26,"span",51),na(27,"51"),vs(),vs(),vs(),vs(),vs(),ms(28,"div",47),ms(29,"div",48),ms(30,"a",49),ms(31,"h1"),ys(32,"i",54),vs(),ms(33,"h4",36),na(34,"Messages "),ms(35,"span",51),na(36,"51"),vs(),vs(),vs(),vs(),vs(),vs())}function vy(t,e){if(1&t&&(ms(0,"aside",27),ms(1,"div",28),ms(2,"div",29),ys(3,"img",30),ms(4,"div",31),ms(5,"button",32),ys(6,"i",33),vs(),vs(),hs(7,py,12,0,"div",34),vs(),ms(8,"div",35),ms(9,"h2",36),na(10),vs(),ms(11,"p"),ys(12,"i",37),na(13),vs(),ms(14,"p"),ys(15,"i",38),na(16),vs(),hs(17,gy,2,0,"button",39),vs(),hs(18,my,37,0,"div",40),vs(),vs()),2&t){const t=Cs();fi(3),Ts("src",t.picture,zr),fi(4),ps("ngIf",t.vendor),fi(3),ra(t.displayName),fi(3),ra(t.username),fi(3),ra(t.email),fi(1),ps("ngIf",!t.method),fi(1),ps("ngIf",t.vendor)}}function yy(t,e){1&t&&(ms(0,"div",55),ms(1,"div",48),ms(2,"div",56),ms(3,"span",57),na(4,"Loading..."),vs(),vs(),vs(),vs())}function by(t,e){1&t&&ys(0,"app-account-wishlist",58),2&t&&ps("childItem",Cs().id)}function wy(t,e){1&t&&ys(0,"app-account-my-shopping",58),2&t&&ps("childItem",Cs().username)}let _y=(()=>{class t{constructor(t,e,n){this.usersService=t,this.httpClient=e,this.activatedRoute=n,this.path=Rf,this.vendor=!1,this.preload=!1,this.method=!1,this.image=null,this.server="http://localhost/sistema-farmacia/sistema-frm/src/assets/img/index.php?key=AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",this.accountUrl=null}ngOnInit(){this.preload=!0,this.accountUrl=this.activatedRoute.snapshot.params.param,this.usersService.authActivate().then(t=>{t&&this.usersService.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(t=>{this.id=Object.keys(t).toString();for(const e in t)null!=t[e].vendor&&(this.vendor=!0),this.displayName=t[e].displayName,this.username=t[e].username,this.email=t[e].email,this.picture=null!=t[e].picture?"direct"!=t[e].method?t[e].picture:`assets/img/users/${t[e].username.toLowerCase()}/${t[e].picture}`:"assets/img/users/default/default.png","direct"!=t[e].method&&(this.method=!0),this.preload=!1})}),Qf(),window.addEventListener("load",(function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,(function(t){t.addEventListener("submit",(function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)}))}),!1),$(".custom-file-input").on("change",(function(){var t=$(this).val().split("\\").pop();$(this).siblings(".custom-file-label").addClass("selected").html(t)}))}validate(t){let e;"password"==$(t).attr("name")&&(e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}/),e.test(t.value)||($(t).parent().addClass("was-validated"),t.value="")}newPassword(t){if(""!=t){Xf("loading","cargando..",null);let e={idToken:localStorage.getItem("idToken"),password:t,returnSecureToken:!0};this.usersService.changePasswordFnc(e).subscribe(t=>{this.usersService.patchData(this.id,{idToken:t.idToken}).subscribe(e=>{localStorage.setItem("idToken",t.idToken);let n=new Date;n.setSeconds(t.expiresIn),localStorage.setItem("expiresIn",n.getTime().toString()),Xf("success","La contrasenia fue cambiada.","account")})},t=>{Xf("error",t.error.error.message,null)})}}validateImage(t){if(this.image=t.target.files[0],"image/jpeg"===this.image.type||"image/png"===this.image.type)if(this.image.size>2e6)Xf("error","Imagen no puede superar 2MB",null);else{let t=new FileReader;t.readAsDataURL(this.image),$(t).on("load",(function(t){let e=t.target.result;$(".changePicture").attr("src",e)}))}else Xf("error","La imagen debe ser formato JPG o PNG",null)}uploadImage(){const t=new FormData;t.append("file",this.image),t.append("folder",this.username),t.append("path","users"),t.append("width","200"),t.append("height","200"),this.httpClient.post(this.server,t).subscribe(t=>{200==t.status&&this.usersService.patchData(this.id,{picture:t.result}).subscribe(t=>{""!=t.picture&&Xf("success","\xa1Your photo has been updated!","account")})})}}return t.\u0275fac=function(e){return new(e||t)(fs(Av),fs(Ch),fs(qg))},t.\u0275cmp=ce({type:t,selectors:[["app-account-profile"]],decls:46,vars:5,consts:[["class","ps-block--store-banner",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[3,"childItem",4,"ngIf"],["id","newPassword",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["novalidate","",1,"ps-form--account","ps-tab-root","needs-validation"],[1,"form-group"],["type","password","name","password","placeholder","Ingresa nueva password","required","","minlength","6","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}","data-toggle","tooltip","title","minimo 6 caracts, al menos un numero y una mayuscula",1,"form-control",3,"change"],["password",""],[1,"valid-feedback"],[1,"invalid-feedback"],[1,"form-group","submit"],["type","button",1,"ps-btn","ps-btn--fullwidth",3,"click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["id","newPicture",1,"modal"],[1,"ps-form--account","ps-tab-root"],[1,"custom-file"],["type","file","name","","id","customFile","accept","image/*","maxSize","2000000",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,"text-center","py-3"],[1,"img-fluid","rounded-circle","changePicture",2,"width","150px",3,"src"],[1,"ps-block--store-banner"],[1,"ps-block__user"],[1,"ps-block__user-avatar"],["alt","",3,"src"],[1,"br-wrapper"],["data-target","#newPicture","data-toggle","modal",1,"btn","btn-primary","btn-lg","rounded-circle"],[1,"fas","fa-pencil-alt"],["class","br-wrapper br-theme-fontawesome-stars mt-3",4,"ngIf"],[1,"ps-block__user-content","text-center","text-lg-left"],[1,"text-white"],[1,"fas","fa-user"],[1,"fas","fa-envelope"],["class","btn btn-warning btn-lg","data-target","#newPassword","data-toggle","modal",4,"ngIf"],["class","row ml-lg-auto pt-5",4,"ngIf"],[1,"br-wrapper","br-theme-fontawesome-stars","mt-3"],["data-read-only","true",1,"ps-rating",2,"display","none"],["value","1"],["value","2"],["data-target","#newPassword","data-toggle","modal",1,"btn","btn-warning","btn-lg"],[1,"row","ml-lg-auto","pt-5"],[1,"col-lg-3","col-6"],[1,"text-center"],["href","#"],[1,"fas","fa-shopping-cart","text-white"],[1,"badge","badge-secondary","rounded-circle"],[1,"fas","fa-shopping-bag","text-white"],[1,"fas","fa-bell","text-white"],[1,"fas","fa-comments","text-white"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"],[3,"childItem"]],template:function(t,e){if(1&t){const t=bs();hs(0,vy,19,7,"aside",0),hs(1,yy,5,0,"div",1),hs(2,by,1,1,"app-account-wishlist",2),hs(3,wy,1,1,"app-account-my-shopping",2),ms(4,"div",3),ms(5,"div",4),ms(6,"div",5),ms(7,"div",6),ms(8,"h4",7),na(9,"Nueva Password"),vs(),ms(10,"button",8),na(11,"\xd7"),vs(),vs(),ms(12,"div",9),ms(13,"form",10),ms(14,"div",11),ms(15,"input",12,13),Es("change",(function(){Xe(t);const n=ds(16);return e.validate(n)})),vs(),ms(17,"div",14),na(18,"Valid."),vs(),ms(19,"div",15),na(20,"Please fill in this field correctly."),vs(),vs(),ms(21,"div",16),ms(22,"button",17),Es("click",(function(){Xe(t);const n=ds(16);return e.newPassword(n.value)})),na(23,"Submit "),vs(),vs(),vs(),vs(),ms(24,"div",18),ms(25,"button",19),na(26,"Close"),vs(),vs(),vs(),vs(),vs(),ms(27,"div",20),ms(28,"div",4),ms(29,"div",5),ms(30,"div",6),ms(31,"h4",7),na(32,"Nueva Imagen"),vs(),ms(33,"button",8),na(34,"\xd7"),vs(),vs(),ms(35,"div",9),ms(36,"form",21),ms(37,"div",22),ms(38,"input",23),Es("change",(function(t){return e.validateImage(t)})),vs(),ms(39,"label",24),na(40,"Selecciona imagen."),vs(),vs(),ms(41,"figure",25),ys(42,"img",26),vs(),ms(43,"div",16),ms(44,"button",17),Es("click",(function(){return e.uploadImage()})),na(45,"Submit "),vs(),vs(),vs(),vs(),vs(),vs(),vs()}2&t&&(ps("ngIf",!e.preload),fi(1),ps("ngIf",e.preload),fi(1),ps("ngIf",!e.preload&&null==e.accountUrl),fi(1),ps("ngIf",!e.preload&&"my-shopping"==e.accountUrl),fi(39),Ts("src",e.picture,zr))},directives:[ml,ef,ed,zd,Cd,Dd,ey,fy],styles:[""]}),t})(),Ey=(()=>{class t{constructor(t){this.usersService=t}ngOnInit(){this.usersService.authActivate().then(t=>{t||window.open("login","_top")})}}return t.\u0275fac=function(e){return new(e||t)(fs(Av))},t.\u0275cmp=ce({type:t,selectors:[["app-account"]],decls:5,vars:0,consts:[[1,"ps-vendor-dashboard","pro"],[1,"container"],[1,"ps-section__header"]],template:function(t,e){1&t&&(ys(0,"app-account-breadcrumb"),ms(1,"div",0),ms(2,"div",1),ms(3,"div",2),ys(4,"app-account-profile"),vs(),vs(),vs())},directives:[Wv,_y],styles:[""]}),t})();var Sy=n("Wcq6");function Iy(t,e){1&t&&(ms(0,"div",35),na(1,"invalid"),vs())}function Cy(t,e){1&t&&(ms(0,"div",35),na(1,"invalid"),vs())}function Ty(t,e){1&t&&(ms(0,"div",35),na(1,"invalid"),vs())}function ky(t,e){1&t&&(ms(0,"div",35),na(1,"invalid"),vs())}function Ay(t,e){1&t&&(ms(0,"div",35),na(1,"invalid"),vs())}n("LOEa"),n("6Joi");let Dy=(()=>{class t{constructor(t){this.usersService=t,this.user=new Ff}ngOnInit(){window.addEventListener("load",(function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,(function(t){t.addEventListener("submit",(function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)}))}),!1)}capitalize(t){t.value=function(t){let e=(t=t.toLowerCase()).split(" ");return e=e.map(t=>t[0].toUpperCase()+t.substr(1)),e.join(" ")}(t.value)}validate(t){let e;"username"==$(t).attr("name")&&(e=/^[A-Za-z0-9]{5,15}/,t.value=t.value.toLowerCase(),this.usersService.getFilterData("username",t.value).subscribe(e=>{if(Object.keys(e).length>0)return $(t).parent().addClass("was-validated"),t.value="",void Xf("error","Usuario existente",null)})),"password"==$(t).attr("name")&&(e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}/),e.test(t.value)||($(t).parent().addClass("was-validated"),t.value="")}onSubmit(t){t.invalid||(Xf("loading","Cargando..",null),this.user.returnSecureToken=!0,this.usersService.registerAuth(this.user).subscribe(t=>{t.email==this.user.email&&this.usersService.sendEmailVerificationFnc({requestType:"VERIFY_EMAIL",idToken:t.idToken}).subscribe(t=>{t.email==this.user.email&&(this.user.displayName=`${this.user.first_name} ${this.user.last_name}`,this.user.method="direct",this.user.needConfirm=!1,this.user.username=this.user.username.toLowerCase(),this.usersService.registerDataBase(this.user).subscribe(t=>{Xf("success","Confirma tu cuenta en tu correo.","login")}))})},t=>{"EMAIL_EXISTS"==t.error.error.message&&Xf("error","Ya estas registrado con este correo",null)}))}facebookRegister(){let t=this.usersService,e=this.user;Sy.initializeApp({apiKey:"AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",authDomain:"system-frm.firebaseapp.com",databaseURL:"https://system-frm.firebaseio.com",projectId:"system-frm",storageBucket:"system-frm.appspot.com",messagingSenderId:"493401314850",appId:"1:493401314850:web:68114fa182c2227c115c7b",measurementId:"G-3J1EB8PDTX"});var n=new Sy.auth.FacebookAuthProvider;Sy.auth().signInWithPopup(n).then((function(n){!function(t,e,n){var r=t.user;r.P&&(e.displayName=r.displayName,e.email=r.email,e.idToken=r.b.b.g,e.method="facebook",e.username=r.email.split("@")[0],e.picture=r.photoURL,n.getFilterData("email",r.email).subscribe(t=>{Object.keys(t).length>0?Xf("error",`You're already signed in, please login with ${t[Object.keys(t)[0]].method} method`,"login"):n.registerDataBase(e).subscribe(t=>{""!=t.name&&Xf("success","Please Login with facebook","login")})}))}(n,e,t)})).catch((function(t){Xf("error",t.message,"register")}))}googleRegister(){let t=this.usersService,e=this.user;Sy.initializeApp({apiKey:"AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",authDomain:"system-frm.firebaseapp.com",databaseURL:"https://system-frm.firebaseio.com",projectId:"system-frm",storageBucket:"system-frm.appspot.com",messagingSenderId:"493401314850",appId:"1:493401314850:web:68114fa182c2227c115c7b",measurementId:"G-3J1EB8PDTX"});var n=new Sy.auth.GoogleAuthProvider;Sy.auth().signInWithPopup(n).then((function(n){!function(t,e,n){var r=t.user;r.P&&(e.displayName=r.displayName,e.email=r.email,e.idToken=r.b.b.g,e.method="google",e.username=r.email.split("@")[0],e.picture=r.photoURL,n.getFilterData("email",r.email).subscribe(t=>{Object.keys(t).length>0?Xf("error",`You're already signed in, please login with ${t[Object.keys(t)[0]].method} method`,"login"):n.registerDataBase(e).subscribe(t=>{""!=t.name&&Xf("success","Please Login with google","login")})}))}(n,e,t)})).catch((function(t){Xf("error",t.message,"register")}))}}return t.\u0275fac=function(e){return new(e||t)(fs(Av))},t.\u0275cmp=ce({type:t,selectors:[["app-register"]],decls:68,vars:10,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["href","index.html"],[1,"ps-my-account"],["novalidate","",1,"ps-form--account","ps-tab-root","needs-validation",3,"ngSubmit"],["f","ngForm"],[1,"ps-tab-list"],[1,""],["href","login"],[1,"active"],["href","register"],[1,"ps-tabs"],["id","register",1,"ps-tab","active"],[1,"ps-form__content"],[1,"form-group"],["name","first_name","type","text","placeholder","First name","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["first_name",""],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],["name","last_name","type","text","placeholder","Last name","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["last_name",""],["name","username","type","text","placeholder","Username","required","","minlength","5","maxlength","15","pattern","[A-Za-z0-9]{5,15}","data-toggle","tooltip","title","minimo 5, maximo 15 caracteres",1,"form-control",3,"ngModel","ngModelChange","change"],["username",""],["name","email","type","email","placeholder","Email address","email","","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","password","type","password","placeholder","Password","required","","minlength","6","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}","data-toggle","tooltip","title","minimo 6 caracts, al menos un numero y una mayuscula",1,"form-control",3,"ngModel","ngModelChange","change"],["password",""],[1,"form-group","submtit"],[1,"ps-btn","ps-btn--fullwidth"],[1,"ps-form__footer"],[1,"ps-list--social"],[1,"facebook",2,"cursor","pointer",3,"click"],[1,"fab","fa-facebook-f"],[1,"google",2,"cursor","pointer",3,"click"],[1,"fab","fa-google"],[1,"invalid-feedback"]],template:function(t,e){if(1&t){const t=bs();ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7,"Register"),vs(),vs(),vs(),vs(),ms(8,"div",4),ms(9,"div",1),ms(10,"form",5,6),Es("ngSubmit",(function(){Xe(t);const n=ds(11);return e.onSubmit(n)})),ms(12,"ul",7),ms(13,"li",8),ms(14,"p"),ms(15,"a",9),na(16,"Login"),vs(),vs(),vs(),ms(17,"li",10),ms(18,"p"),ms(19,"a",11),na(20,"Register"),vs(),vs(),vs(),vs(),ms(21,"div",12),ms(22,"div",13),ms(23,"div",14),ms(24,"h5"),na(25,"Register An Account"),vs(),ms(26,"div",15),ms(27,"input",16,17),Es("ngModelChange",(function(t){return e.user.first_name=t}))("change",(function(){Xe(t);const n=ds(28);return e.capitalize(n)})),vs(),ms(29,"div",18),na(30,"valid"),vs(),hs(31,Iy,2,0,"div",19),vs(),ms(32,"div",15),ms(33,"input",20,21),Es("ngModelChange",(function(t){return e.user.last_name=t}))("change",(function(){Xe(t);const n=ds(34);return e.capitalize(n)})),vs(),ms(35,"div",18),na(36,"valid"),vs(),hs(37,Cy,2,0,"div",19),vs(),ms(38,"div",15),ms(39,"input",22,23),Es("ngModelChange",(function(t){return e.user.username=t}))("change",(function(){Xe(t);const n=ds(40);return e.validate(n)})),vs(),ms(41,"div",18),na(42,"valid"),vs(),hs(43,Ty,2,0,"div",19),vs(),ms(44,"div",15),ms(45,"input",24),Es("ngModelChange",(function(t){return e.user.email=t})),vs(),ms(46,"div",18),na(47,"valid"),vs(),hs(48,ky,2,0,"div",19),vs(),ms(49,"div",15),ms(50,"input",25,26),Es("ngModelChange",(function(t){return e.user.password=t}))("change",(function(){Xe(t);const n=ds(51);return e.validate(n)})),vs(),ms(52,"div",18),na(53,"valid"),vs(),hs(54,Ay,2,0,"div",19),vs(),ms(55,"div",27),ms(56,"button",28),na(57,"Register"),vs(),vs(),vs(),ms(58,"div",29),ms(59,"p"),na(60,"Connect with:"),vs(),ms(61,"ul",30),ms(62,"li"),ms(63,"a",31),Es("click",(function(){return e.facebookRegister()})),ys(64,"i",32),vs(),vs(),ms(65,"li"),ms(66,"a",33),Es("click",(function(){return e.googleRegister()})),ys(67,"i",34),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs()}if(2&t){const t=ds(11);fi(27),ps("ngModel",e.user.first_name),fi(4),ps("ngIf",t.submitted&&t.controls.first_name.errors),fi(2),ps("ngModel",e.user.last_name),fi(4),ps("ngIf",t.submitted&&t.controls.last_name.errors),fi(2),ps("ngModel",e.user.username),fi(4),ps("ngIf",t.submitted&&t.controls.username.errors),fi(2),ps("ngModel",e.user.email),fi(3),ps("ngIf",t.submitted&&t.controls.email.errors),fi(2),ps("ngModel",e.user.password),fi(4),ps("ngIf",t.submitted&&t.controls.password.errors)}},directives:[ef,ed,zd,Wh,rf,td,tf,ml,uf,lf,df,sf],styles:[""]}),t})();function xy(t,e){1&t&&(ms(0,"div",43),na(1,"invalid"),vs())}function Oy(t,e){1&t&&(ms(0,"div",43),na(1,"invalid"),vs())}let Ny=(()=>{class t{constructor(t,e){this.usersService=t,this.activatedRoute=e,this.rememberMe=!1,this.user=new Ff}ngOnInit(){localStorage.getItem("rememberMe")&&"yes"==localStorage.getItem("rememberMe")&&(this.user.email=localStorage.getItem("email"),this.rememberMe=!0),window.addEventListener("load",(function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,(function(t){t.addEventListener("submit",(function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)}))}),!1),null!=this.activatedRoute.snapshot.queryParams.oobCode&&"verifyEmail"==this.activatedRoute.snapshot.queryParams.mode&&this.usersService.confirmEmailVerificationFnc({oobCode:this.activatedRoute.snapshot.queryParams.oobCode}).subscribe(t=>{t.emailVerified&&this.usersService.getFilterData("email",t.email).subscribe(t=>{for(const e in t){let e=Object.keys(t).toString();this.usersService.patchData(e,{needConfirm:!0}).subscribe(t=>{t.needConfirm&&Xf("success","\xa1Email confirmado!","login")})}})},t=>{Xf("error","INVALID_OOB_CODE"==t.error.error.message?"The email has already been confirmed":"The email not exist","login")}),null!=this.activatedRoute.snapshot.queryParams.oobCode&&"resetPassword"==this.activatedRoute.snapshot.queryParams.mode&&this.usersService.verifyPasswordResetCodeFnc({oobCode:this.activatedRoute.snapshot.queryParams.oobCode}).subscribe(t=>{"PASSWORD_RESET"==t.requestType&&$("#newPassword").modal()})}validate(t){let e;"password"==$(t).attr("name")&&(e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}/),e.test(t.value)||($(t).parent().addClass("was-validated"),t.value="")}onSubmit(t){t.invalid||(Xf("loading","cargando..",null),this.usersService.getFilterData("email",this.user.email).subscribe(t=>{Object.keys(t).length<1&&Xf("error","Debes registrarte","login");for(const e in t)t[e].needConfirm?(this.user.returnSecureToken=!0,this.usersService.loginAuth(this.user).subscribe(e=>{let n=Object.keys(t).toString();this.usersService.patchData(n,{idToken:e.idToken}).subscribe(t=>{if(""!=t.idToken){Xf("close",null,null),localStorage.setItem("idToken",t.idToken),localStorage.setItem("email",e.email);let n=new Date;n.setSeconds(e.expiresIn),localStorage.setItem("expiresIn",n.getTime().toString()),this.rememberMe?localStorage.setItem("rememberMe","yes"):localStorage.setItem("rememberMe","no"),window.open("account","_top")}})},t=>{Xf("error","INVALID_PASSWORD"==t.error.error.message?"Password inconrrecta":"no","login")})):Xf("error","Necesitas confirmar tu cuenta, en tu correo","login")}))}resetPassword(t){Xf("loading","cargando..",null),this.usersService.sendPasswordResetEmailFnc({requestType:"PASSWORD_RESET",email:t}).subscribe(e=>{e.email==t&&Xf("success","verifica tu correo para cambiar tu pass","login")})}newPassword(t){""!=t&&(Xf("loading","cargando..",null),this.usersService.confirmPasswordResetFnc({oobCode:this.activatedRoute.snapshot.queryParams.oobCode,newPassword:t}).subscribe(t=>{"PASSWORD_RESET"==t.requestType&&Xf("success","pass cambiada logea de nuevo","login")}))}facebookLogin(){let t=this.usersService;Sy.initializeApp({apiKey:"AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",authDomain:"system-frm.firebaseapp.com",databaseURL:"https://system-frm.firebaseio.com",projectId:"system-frm",storageBucket:"system-frm.appspot.com",messagingSenderId:"493401314850",appId:"1:493401314850:web:68114fa182c2227c115c7b",measurementId:"G-3J1EB8PDTX"});var e=new Sy.auth.FacebookAuthProvider;Sy.auth().signInWithPopup(e).then((function(e){!function(t,e,n){var r=t.user;r.P&&n.getFilterData("email",r.email).subscribe(t=>{if(Object.keys(t).length>0)if("facebook"==t[Object.keys(t)[0]].method){let e=Object.keys(t).toString();n.patchData(e,{idToken:r.b.b.g}).subscribe(t=>{localStorage.setItem("idToken",r.b.b.g),localStorage.setItem("email",r.email);let e=new Date;e.setSeconds(3600),localStorage.setItem("expiresIn",e.getTime().toString()),window.open("account","_top")})}else Xf("error",`You're already signed in, please login with ${t[Object.keys(t)[0]].method} method`,"login");else Xf("error","no estas registrado","register")})}(e,0,t)})).catch((function(t){Xf("error",t.message,"login")}))}googleLogin(){let t=this.usersService;Sy.initializeApp({apiKey:"AIzaSyCWvFmLEWSXMcI07_YZGrb5fhxE6EhOpo4",authDomain:"system-frm.firebaseapp.com",databaseURL:"https://system-frm.firebaseio.com",projectId:"system-frm",storageBucket:"system-frm.appspot.com",messagingSenderId:"493401314850",appId:"1:493401314850:web:68114fa182c2227c115c7b",measurementId:"G-3J1EB8PDTX"});var e=new Sy.auth.GoogleAuthProvider;Sy.auth().signInWithPopup(e).then((function(e){!function(t,e,n){var r=t.user;r.P&&n.getFilterData("email",r.email).subscribe(t=>{if(Object.keys(t).length>0)if("google"==t[Object.keys(t)[0]].method){let e=Object.keys(t).toString();n.patchData(e,{idToken:r.b.b.g}).subscribe(t=>{localStorage.setItem("idToken",r.b.b.g),localStorage.setItem("email",r.email);let e=new Date;e.setSeconds(3600),localStorage.setItem("expiresIn",e.getTime().toString()),window.open("account","_top")})}else Xf("error",`You're already signed in, please login with ${t[Object.keys(t)[0]].method} method`,"login");else Xf("error","no estas registrado","register")})}(e,0,t)})).catch((function(t){Xf("error",t.message,"login")}))}}return t.\u0275fac=function(e){return new(e||t)(fs(Av),fs(qg))},t.\u0275cmp=ce({type:t,selectors:[["app-login"]],decls:102,vars:5,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["href","index.html"],[1,"ps-my-account"],["novalidate","",1,"ps-form--account","ps-tab-root","needs-validation",3,"ngSubmit"],["f","ngForm"],[1,"ps-tab-list"],[1,"active"],["href","login"],[1,""],["href","register"],[1,"ps-tabs"],["id","sign-in",1,"ps-tab","active"],[1,"ps-form__content"],[1,"form-group"],["name","email","email","","required","","type","text","placeholder","Email address",1,"form-control",3,"ngModel","ngModelChange"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","form-forgot"],["name","password","required","","type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["href","#resetPassword","data-toggle","modal"],[1,"ps-checkbox"],["type","checkbox","id","remember-me","name","remember-me",1,"form-control",3,"ngModel","ngModelChange"],["for","remember-me"],[1,"form-group","submtit"],[1,"ps-btn","ps-btn--fullwidth"],[1,"ps-form__footer"],[1,"ps-list--social"],[1,"facebook",2,"cursor","pointer",3,"click"],[1,"fab","fa-facebook-f"],[1,"google",2,"cursor","pointer",3,"click"],[1,"fab","fa-google"],["id","resetPassword",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["novalidate","",1,"ps-form--account","ps-tab-root","needs-validation"],["type","email","name","email","placeholder","Ingresa tu email","email","","required","",1,"form-control"],["email",""],[1,"invalid-feedback"],[1,"form-group","submit"],["type","button",1,"ps-btn","ps-btn--fullwidth",3,"click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["id","newPassword",1,"modal"],["type","password","name","password","placeholder","Ingresa nueva password","required","","minlength","6","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,25}","data-toggle","tooltip","title","minimo 6 caracts, al menos un numero y una mayuscula",1,"form-control",3,"change"],["password",""]],template:function(t,e){if(1&t){const t=bs();ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7,"login"),vs(),vs(),vs(),vs(),ms(8,"div",4),ms(9,"div",1),ms(10,"form",5,6),Es("ngSubmit",(function(){Xe(t);const n=ds(11);return e.onSubmit(n)})),ms(12,"ul",7),ms(13,"li",8),ms(14,"p"),ms(15,"a",9),na(16,"Login"),vs(),vs(),vs(),ms(17,"li",10),ms(18,"p"),ms(19,"a",11),na(20,"Register"),vs(),vs(),vs(),vs(),ms(21,"div",12),ms(22,"div",13),ms(23,"div",14),ms(24,"h5"),na(25,"Log In Your Account"),vs(),ms(26,"div",15),ms(27,"input",16),Es("ngModelChange",(function(t){return e.user.email=t})),vs(),ms(28,"div",17),na(29,"valid"),vs(),hs(30,xy,2,0,"div",18),vs(),ms(31,"div",19),ms(32,"input",20),Es("ngModelChange",(function(t){return e.user.password=t})),vs(),ms(33,"div",17),na(34,"valid"),vs(),hs(35,Oy,2,0,"div",18),ms(36,"a",21),na(37,"Forgot?"),vs(),vs(),ms(38,"div",15),ms(39,"div",22),ms(40,"input",23),Es("ngModelChange",(function(t){return e.rememberMe=t})),vs(),ms(41,"label",24),na(42,"Remember me"),vs(),vs(),vs(),ms(43,"div",25),ms(44,"button",26),na(45,"Login"),vs(),vs(),vs(),ms(46,"div",27),ms(47,"p"),na(48,"Connect with:"),vs(),ms(49,"ul",28),ms(50,"li"),ms(51,"a",29),Es("click",(function(){return e.facebookLogin()})),ys(52,"i",30),vs(),vs(),ms(53,"li"),ms(54,"a",31),Es("click",(function(){return e.googleLogin()})),ys(55,"i",32),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),ms(56,"div",33),ms(57,"div",34),ms(58,"div",35),ms(59,"div",36),ms(60,"h4",37),na(61,"Restablecer Password"),vs(),ms(62,"button",38),na(63,"\xd7"),vs(),vs(),ms(64,"div",39),ms(65,"form",40),ms(66,"div",15),ys(67,"input",41,42),ms(69,"div",17),na(70,"Valid."),vs(),ms(71,"div",43),na(72,"Please fill in this field correctly."),vs(),vs(),ms(73,"div",44),ms(74,"button",45),Es("click",(function(){Xe(t);const n=ds(68);return e.resetPassword(n.value)})),na(75,"Submit "),vs(),vs(),vs(),vs(),ms(76,"div",46),ms(77,"button",47),na(78,"Close"),vs(),vs(),vs(),vs(),vs(),ms(79,"div",48),ms(80,"div",34),ms(81,"div",35),ms(82,"div",36),ms(83,"h4",37),na(84,"Nueva Password"),vs(),ms(85,"button",38),na(86,"\xd7"),vs(),vs(),ms(87,"div",39),ms(88,"form",40),ms(89,"div",15),ms(90,"input",49,50),Es("change",(function(){Xe(t);const n=ds(91);return e.validate(n)})),vs(),ms(92,"div",17),na(93,"Valid."),vs(),ms(94,"div",43),na(95,"Please fill in this field correctly."),vs(),vs(),ms(96,"div",44),ms(97,"button",45),Es("click",(function(){Xe(t);const n=ds(91);return e.newPassword(n.value)})),na(98,"Submit "),vs(),vs(),vs(),vs(),ms(99,"div",46),ms(100,"button",47),na(101,"Close"),vs(),vs(),vs(),vs(),vs()}if(2&t){const t=ds(11);fi(27),ps("ngModel",e.user.email),fi(3),ps("ngIf",t.submitted&&t.controls.email.errors),fi(2),ps("ngModel",e.user.password),fi(3),ps("ngIf",t.submitted&&t.controls.password.errors),fi(5),ps("ngModel",e.rememberMe)}},directives:[ef,ed,zd,Wh,sf,rf,td,tf,ml,qh],styles:[""]}),t})(),Py=(()=>{class t{constructor(t){this.http=t,this.api=Lf}getFilterData(t,e){return this.http.get(`${this.api}sub-categories.json?orderBy="${t}"&equalTo="${e}"&print=pretty`)}patchData(t,e){return this.http.patch(`${this.api}sub-categories/${t}.json`,e)}}return t.\u0275fac=function(e){return new(e||t)(zt(Ch))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fy=(()=>{class t{constructor(t,e,n){this.categoriesService=t,this.subCategoriesService=e,this.activatedRoute=n,this.breadcrumb=null}ngOnInit(){let t=this.activatedRoute.snapshot.params.param.split("&")[0];this.categoriesService.getFilterData("url",t).subscribe(e=>{if(Object.keys(e).length>0){let t;for(t in e){this.breadcrumb=e[t].name;let n=Object.keys(e).toString(),r={view:Number(e[t].view+1)};this.categoriesService.patchData(n,r).subscribe(t=>{})}}else this.subCategoriesService.getFilterData("url",t).subscribe(t=>{let e;for(e in t){this.breadcrumb=t[e].name;let n=Object.keys(t).toString(),r={view:Number(t[e].view+1)};this.subCategoriesService.patchData(n,r).subscribe(t=>{})}})})}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv),fs(Py),fs(qg))},t.\u0275cmp=ce({type:t,selectors:[["app-products-breadcrumb"]],decls:8,vars:1,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["routerLink","/"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7),vs(),vs(),vs(),vs()),2&t&&(fi(7),ra(e.breadcrumb))},directives:[sv],styles:[""]}),t})();function Ry(t,e){if(1&t&&(ms(0,"option",32),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function Ly(t,e){if(1&t){const t=bs();ms(0,"div",12),ms(1,"div",13),ms(2,"a",14),ys(3,"img",15),vs(),ms(4,"ul",16),ms(5,"li"),ms(6,"a",17),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),ys(7,"i",18),vs(),vs(),ms(8,"li"),ms(9,"a",19),ys(10,"i",20),vs(),vs(),ms(11,"li"),ms(12,"a",21),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(13,"i",22),vs(),vs(),vs(),vs(),ms(14,"div",23),ms(15,"a",24),na(16),vs(),ys(17,"div",25),ms(18,"div",26),ms(19,"a",27),na(20),vs(),ms(21,"div",28),ms(22,"select",29),hs(23,Ry,2,2,"option",30),vs(),ms(24,"span"),na(25),vs(),vs(),ys(26,"div",25),vs(),ms(27,"div",31),ms(28,"a",27),na(29),vs(),ys(30,"div",25),vs(),vs(),na(31),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ia(" ",t.store," "),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}function My(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"h3"),na(3,"Best Sale Items"),vs(),ms(4,"div",4),ms(5,"a",5),ys(6,"i",6),vs(),ms(7,"a",7),ys(8,"i",8),vs(),vs(),vs(),ms(9,"div",9),ms(10,"div",10),hs(11,Ly,32,16,"div",11),vs(),vs(),vs()),2&t){const t=Cs();fi(11),ps("ngForOf",t.bestSalesItem)}}function Vy(t,e){1&t&&(ms(0,"div",33),ms(1,"div",34),ms(2,"div",35),ms(3,"span",36),na(4,"Loading..."),vs(),vs(),vs(),vs())}let jy=(()=>{class t{constructor(t,e,n,r){this.productsService=t,this.activatedRoute=e,this.usersService=n,this.router=r,this.path=Rf,this.bestSalesItem=[],this.render=!0,this.rating=[],this.reviews=[],this.price=[],this.cargando=!1}ngOnInit(){this.cargando=!0;let t=this.activatedRoute.snapshot.params.param.split("&")[0];this.productsService.getFilterData("category",t).subscribe(e=>{Object.keys(e).length>0?this.productsFnc(e):this.productsService.getFilterData("sub_category",t).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.bestSalesItem=[];let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.sales-t.sales})),n.forEach((t,e)=>{e<10&&(this.bestSalesItem.push(t),this.rating.push(qf(this.bestSalesItem[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.bestSalesItem[e])),this.cargando=!1)})}callback(){this.render&&(this.render=!1,Mf(),Vf(),$f())}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(qg),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-best-sales-item"]],decls:2,vars:2,consts:[["class","ps-block--shop-features",4,"ngIf"],["class","",4,"ngIf"],[1,"ps-block--shop-features"],[1,"ps-block__header"],[1,"ps-block__navigation"],["href","#recommended1",1,"ps-carousel__prev"],[1,"icon-chevron-left"],["href","#recommended1",1,"ps-carousel__next"],[1,"icon-chevron-right"],[1,"ps-block__content"],["id","recommended1","data-owl-auto","true","data-owl-loop","true","data-owl-speed","10000","data-owl-gap","30","data-owl-nav","false","data-owl-dots","false","data-owl-item","6","data-owl-item-xs","2","data-owl-item-sm","2","data-owl-item-md","3","data-owl-item-lg","4","data-owl-item-xl","6","data-owl-duration","1000","data-owl-mousedrag","on",1,"owl-slider"],["class","ps-product",4,"ngFor","ngForOf"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to Cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"",3,"innerHTML"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"ps-product__content","hover"],[3,"value"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,My,12,1,"div",0),hs(1,Vy,5,0,"div",1)),2&t&&(ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,Cd,Dd],styles:[""]}),t})();function Uy(t,e){if(1&t&&(ms(0,"option",32),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function By(t,e){if(1&t){const t=bs();ms(0,"div",12),ms(1,"div",13),ms(2,"a",14),ys(3,"img",15),vs(),ms(4,"ul",16),ms(5,"li"),ms(6,"a",17),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),ys(7,"i",18),vs(),vs(),ms(8,"li"),ms(9,"a",19),ys(10,"i",20),vs(),vs(),ms(11,"li"),ms(12,"a",21),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(13,"i",22),vs(),vs(),vs(),vs(),ms(14,"div",23),ms(15,"a",24),na(16),vs(),ys(17,"div",25),ms(18,"div",26),ms(19,"a",27),na(20),vs(),ms(21,"div",28),ms(22,"select",29),hs(23,Uy,2,2,"option",30),vs(),ms(24,"span"),na(25),vs(),vs(),ys(26,"div",25),vs(),ms(27,"div",31),ms(28,"a",27),na(29),vs(),ys(30,"div",25),vs(),vs(),na(31),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ia(" ",t.store," "),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}function $y(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"h3"),na(3,"Recommended Items"),vs(),ms(4,"div",4),ms(5,"a",5),ys(6,"i",6),vs(),ms(7,"a",7),ys(8,"i",8),vs(),vs(),vs(),ms(9,"div",9),ms(10,"div",10),hs(11,By,32,16,"div",11),vs(),vs(),vs()),2&t){const t=Cs();fi(11),ps("ngForOf",t.recommendedItems)}}function Hy(t,e){1&t&&(ms(0,"div",33),ms(1,"div",34),ms(2,"div",35),ms(3,"span",36),na(4,"Loading..."),vs(),vs(),vs(),vs())}let qy=(()=>{class t{constructor(t,e,n,r){this.productsService=t,this.activatedRoute=e,this.usersService=n,this.router=r,this.path=Rf,this.recommendedItems=[],this.render=!0,this.rating=[],this.reviews=[],this.price=[],this.cargando=!1}ngOnInit(){this.cargando=!0;let t=this.activatedRoute.snapshot.params.param.split("&")[0];this.productsService.getFilterData("category",t).subscribe(e=>{Object.keys(e).length>0?this.productsFnc(e):this.productsService.getFilterData("sub_category",t).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.recommendedItems=[];let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.views-t.views})),n.forEach((t,e)=>{e<10&&(this.recommendedItems.push(t),this.rating.push(qf(this.recommendedItems[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.recommendedItems[e])),this.cargando=!1)})}callback(){this.render&&(this.render=!1,Mf(),Vf(),$f())}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(qg),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-recommended"]],decls:2,vars:2,consts:[["class","ps-block--shop-features",4,"ngIf"],["class","",4,"ngIf"],[1,"ps-block--shop-features"],[1,"ps-block__header"],[1,"ps-block__navigation"],["href","#recommended",1,"ps-carousel__prev"],[1,"icon-chevron-left"],["href","#recommended",1,"ps-carousel__next"],[1,"icon-chevron-right"],[1,"ps-block__content"],["id","recommended","data-owl-auto","true","data-owl-loop","true","data-owl-speed","10000","data-owl-gap","30","data-owl-nav","false","data-owl-dots","false","data-owl-item","6","data-owl-item-xs","2","data-owl-item-sm","2","data-owl-item-md","3","data-owl-item-lg","4","data-owl-item-xl","6","data-owl-duration","1000","data-owl-mousedrag","on",1,"owl-slider"],["class","ps-product",4,"ngFor","ngForOf"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to Cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"",3,"innerHTML"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"ps-product__content","hover"],[3,"value"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,$y,12,1,"div",0),hs(1,Hy,5,0,"div",1)),2&t&&(ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,Cd,Dd],styles:[""]}),t})();function Gy(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.$implicit,n=e.index;ps("value",Cs(2).sortValues[n]),fi(1),ia(" ",t," ")}}function zy(t,e){if(1&t&&(ms(0,"select",13),hs(1,Gy,2,2,"option",14),vs()),2&t){const t=Cs();fi(1),ps("ngForOf",t.sortItems)}}function Wy(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function Ky(t,e){if(1&t){const t=bs();ms(0,"div",25),ms(1,"div",26),ms(2,"div",27),ms(3,"a",28),ys(4,"img",29),vs(),ys(5,"div",30),ms(6,"ul",31),ms(7,"li"),ms(8,"a",32),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),ys(9,"i",33),vs(),vs(),ms(10,"li"),ms(11,"a",34),ys(12,"i",35),vs(),vs(),ms(13,"li"),ms(14,"a",36),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(15,"i",37),vs(),vs(),vs(),vs(),ms(16,"div",38),ms(17,"a",39),na(18),vs(),ms(19,"div",40),ms(20,"a",41),na(21),vs(),ms(22,"div",42),ms(23,"select",43),hs(24,Wy,2,2,"option",14),vs(),ms(25,"span"),na(26),vs(),vs(),ys(27,"div",30),vs(),ms(28,"div",44),ms(29,"a",41),na(30),vs(),ys(31,"div",30),vs(),vs(),vs(),vs()}if(2&t){const t=e.$implicit,n=e.index,r=Cs(2);fi(3),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",r.price[n][1],Gr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ra(t.store),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",r.reviews[n]),fi(2),ra(r.rating[n]),fi(1),ps("innerHTML",r.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",r.price[n][0],Gr)}}function Jy(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function Yy(t,e){if(1&t&&(ms(0,"div",45),ms(1,"div",27),ms(2,"a",28),ys(3,"img",29),vs(),ys(4,"div",46),vs(),ms(5,"div",38),ms(6,"div",40),ms(7,"a",41),na(8),vs(),ms(9,"div",42),ms(10,"select",43),hs(11,Jy,2,2,"option",14),vs(),ms(12,"span"),na(13),vs(),vs(),ms(14,"p",47),na(15,"Sold by: "),ms(16,"a",48),na(17),vs(),vs(),ys(18,"div",46),vs(),ms(19,"div",49),ys(20,"div",30),ms(21,"a",50),na(22,"Add to cart"),vs(),ms(23,"ul",31),ms(24,"li"),ms(25,"a",28),ys(26,"i",35),na(27,"View"),vs(),vs(),ms(28,"li"),ms(29,"a",48),ys(30,"i",37),na(31," Wishlist"),vs(),vs(),vs(),vs(),vs(),na(32),vs()),2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(3),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(4),ra(t.store),fi(1),ps("innerHTML",t.summary,Gr),fi(2),ps("innerHTML",i.price[n][0],Gr),fi(5),ks("href","product/",t.url,"",zr),fi(7),ia(" ",r?i.callback(i.params):""," ")}}function Zy(t,e){if(1&t&&(ms(0,"div",16),ms(1,"div",17),ms(2,"div",18),ms(3,"div",19),hs(4,Ky,32,15,"div",20),vs(),vs(),ms(5,"div",21),ys(6,"ul",22),vs(),vs(),ms(7,"div",23),ms(8,"div",18),hs(9,Yy,33,14,"div",24),vs(),ms(10,"div",21),ys(11,"ul",22),vs(),vs(),vs()),2&t){const t=Cs();fi(4),ps("ngForOf",t.products),fi(2),us("data-total-pages",t.totalPage)("data-actual-page",t.page)("data-current-route",t.currentRoute),fi(3),ps("ngForOf",t.products),fi(2),us("data-total-pages",t.totalPage)("data-actual-page",t.page)("data-current-route",t.currentRoute)}}function Xy(t,e){1&t&&(ms(0,"div",51),ms(1,"div",52),ms(2,"div",53),ms(3,"span",54),na(4,"Loading..."),vs(),vs(),vs(),vs())}let Qy=(()=>{class t{constructor(t,e,n,r){this.productsService=t,this.activatedRoute=e,this.usersService=n,this.router=r,this.path=Rf,this.products=[],this.render=!0,this.cargando=!1,this.rating=[],this.reviews=[],this.price=[],this.params=null,this.productFound=0,this.currentRoute=null,this.totalPage=0,this.sortItems=[],this.sortValues=[]}ngOnInit(){this.cargando=!0,this.params=this.activatedRoute.snapshot.params.param.split("&")[0],this.sort=this.activatedRoute.snapshot.params.param.split("&")[1],this.page=this.activatedRoute.snapshot.params.param.split("&")[2],Number.isInteger(Number(this.sort))&&(this.page=this.sort,this.sort=void 0),this.currentRoute=null==this.sort?"products/"+this.params:`products/${this.params}&${this.sort}`,this.productsService.getFilterData("category",this.params).subscribe(t=>{Object.keys(t).length>0?this.productsFnc(t):this.productsService.getFilterData("sub_category",this.params).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.products=[];let n=[],r=0;for(e in t)r++,n.push(t[e]);this.productFound=r,this.totalPage=Math.ceil(Number(this.productFound)/6),null!=this.sort&&"first"!=this.sort||(n.sort((function(t,e){return e.date_created-t.date_created})),this.sortItems=["Sort by first","Sort by latest","Sort by popularity","Sort by price low to high","Sort by price high to low"],this.sortValues=["first","latest","popularity","low","high"]),"latest"==this.sort&&(n.sort((function(t,e){return t.date_created-e.date_created})),this.sortItems=["Sort by latest","Sort by first","Sort by popularity","Sort by price: low to high","Sort by price: high to low"],this.sortValues=["latest","first","popularity","low","high"]),"popularity"==this.sort&&(n.sort((function(t,e){return e.views-t.views})),this.sortItems=["sort by popularity","sort by first","sort by latest","sort by price low to high","sort by price high to low"],this.sortValues=["popularity","first","latest","low","high"]),"low"==this.sort&&(n.sort((function(t,e){return t.price-e.price})),this.sortItems=["sort by price low to high","sort by first","sort by latest","sort by popularity","sort by price high to low"],this.sortValues=["low","first","latest","popularity","high"]),"high"==this.sort&&(n.sort((function(t,e){return e.price-t.price})),this.sortItems=["sort by price high to low","sort by first","sort by latest","sort by popularity","sort by price low to high"],this.sortValues=["high","first","latest","popularity","low"]),n.forEach((t,e)=>{null==this.page&&(this.page=1);let r=Number(e)+6*this.page-6;r<6*this.page&&null!=n[r]&&(this.products.push(n[r]),this.rating.push(qf(n[r])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(n[r])),this.cargando=!1)})}callback(t){this.render&&(this.render=!1,$f(),Wf(),Kf.fnc(),Yf(),$(".sortItems").change((function(){window.open(`products/${t}&${$(this).val()}`,"_top")})))}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(qg),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-products-showcase"]],decls:20,vars:4,consts:[[1,"ps-shopping","ps-tab-root"],[1,"ps-shopping__header"],[1,"ps-shopping__actions"],["class","ps-select sortItems","data-placeholder","Sort Items",4,"ngIf"],[1,"ps-shopping__view"],[1,"ps-tab-list"],[1,"active"],["href","#tab-1"],[1,"icon-grid"],["href","#tab-2"],[1,"icon-list4"],["class","ps-tabs",4,"ngIf"],["class","",4,"ngIf"],["data-placeholder","Sort Items",1,"ps-select","sortItems"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ps-tabs"],["id","tab-1",1,"ps-tab","active"],[1,"ps-shopping-product"],[1,"row"],["class","col-lg-2 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"ps-pagination"],[1,"pagination"],["id","tab-2",1,"ps-tab"],["class","ps-product ps-product--wide",4,"ngFor","ngForOf"],[1,"col-lg-2","col-md-4","col-6"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"",3,"innerHTML"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to Cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[1,"ps-product__content","hover"],[1,"ps-product","ps-product--wide"],[3,"innerHTML"],[1,"ps-product__vendor"],["href","#"],[1,"ps-product__shopping"],["href","#",1,"ps-btn"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"p"),ms(3,"strong"),na(4),vs(),na(5," Productos Encontrados"),vs(),ms(6,"div",2),hs(7,zy,2,1,"select",3),ms(8,"div",4),ms(9,"p"),na(10,"View"),vs(),ms(11,"ul",5),ms(12,"li",6),ms(13,"a",7),ys(14,"i",8),vs(),vs(),ms(15,"li"),ms(16,"a",9),ys(17,"i",10),vs(),vs(),vs(),vs(),vs(),vs(),hs(18,Zy,12,8,"div",11),hs(19,Xy,5,0,"div",12),vs()),2&t&&(fi(4),ra(e.productFound),fi(3),ps("ngIf",e.sortItems.length>0),fi(11),ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,Cd,Dd],styles:[""]}),t})(),tb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-products"]],decls:8,vars:0,consts:[[1,"container-fuid","bg-white","my-4"],[1,"container"],[1,"ps-layout--shop"]],template:function(t,e){1&t&&(ys(0,"app-products-breadcrumb"),ms(1,"div",0),ms(2,"div",1),ms(3,"div",2),ms(4,"section"),ys(5,"app-best-sales-item"),ys(6,"app-recommended"),ys(7,"app-products-showcase"),vs(),vs(),vs(),vs())},directives:[Fy,jy,qy,Qy],styles:[""]}),t})(),eb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-error404"]],decls:2,vars:0,template:function(t,e){1&t&&(ms(0,"p"),na(1,"error404 works!"),vs())},styles:[""]}),t})(),nb=(()=>{class t{constructor(t){this.activatedRoute=t,this.breadcrumb=null}ngOnInit(){this.breadcrumb=this.activatedRoute.snapshot.params.param.replace(/[_]/g," ")}}return t.\u0275fac=function(e){return new(e||t)(fs(qg))},t.\u0275cmp=ce({type:t,selectors:[["app-search-breadcrumb"]],decls:9,vars:3,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["routerLink","/"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7),mu(8,"titlecase"),vs(),vs(),vs(),vs()),2&t&&(fi(7),ra(vu(8,1,e.breadcrumb)))},directives:[sv],pipes:[El],styles:[""]}),t})();function rb(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.$implicit,n=e.index;ps("value",Cs(2).sortValues[n]),fi(1),ia(" ",t," ")}}function ib(t,e){if(1&t&&(ms(0,"select",13),hs(1,rb,2,2,"option",14),vs()),2&t){const t=Cs();fi(1),ps("ngForOf",t.sortItems)}}function ob(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function sb(t,e){if(1&t){const t=bs();ms(0,"div",25),ms(1,"div",26),ms(2,"div",27),ms(3,"a",28),ys(4,"img",29),vs(),ys(5,"div",30),ms(6,"ul",31),ms(7,"li"),ms(8,"a",32),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),ys(9,"i",33),vs(),vs(),ms(10,"li"),ms(11,"a",34),ys(12,"i",35),vs(),vs(),ms(13,"li"),ms(14,"a",36),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(15,"i",37),vs(),vs(),vs(),vs(),ms(16,"div",38),ms(17,"a",39),na(18),vs(),ms(19,"div",40),ms(20,"a",41),na(21),vs(),ms(22,"div",42),ms(23,"select",43),hs(24,ob,2,2,"option",14),vs(),ms(25,"span"),na(26),vs(),vs(),ys(27,"div",30),vs(),ms(28,"div",44),ms(29,"a",41),na(30),vs(),ys(31,"div",30),vs(),vs(),vs(),vs()}if(2&t){const t=e.$implicit,n=e.index,r=Cs(2);fi(3),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",r.price[n][1],Gr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ra(t.store),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",r.reviews[n]),fi(2),ra(r.rating[n]),fi(1),ps("innerHTML",r.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",r.price[n][0],Gr)}}function ab(t,e){if(1&t&&(ms(0,"option",15),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function ub(t,e){if(1&t&&(ms(0,"div",45),ms(1,"div",27),ms(2,"a",28),ys(3,"img",29),vs(),ys(4,"div",46),vs(),ms(5,"div",38),ms(6,"div",40),ms(7,"a",41),na(8),vs(),ms(9,"div",42),ms(10,"select",43),hs(11,ab,2,2,"option",14),vs(),ms(12,"span"),na(13),vs(),vs(),ms(14,"p",47),na(15,"Sold by: "),ms(16,"a",48),na(17),vs(),vs(),ys(18,"div",46),vs(),ms(19,"div",49),ys(20,"div",30),ms(21,"a",50),na(22,"Add to cart"),vs(),ms(23,"ul",31),ms(24,"li"),ms(25,"a",28),ys(26,"i",35),na(27,"View"),vs(),vs(),ms(28,"li"),ms(29,"a",48),ys(30,"i",37),na(31," Wishlist"),vs(),vs(),vs(),vs(),vs(),na(32),vs()),2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(3),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(4),ra(t.store),fi(1),ps("innerHTML",t.summary,Gr),fi(2),ps("innerHTML",i.price[n][0],Gr),fi(5),ks("href","product/",t.url,"",zr),fi(7),ia(" ",r?i.callback(i.params):""," ")}}function cb(t,e){if(1&t&&(ms(0,"div",16),ms(1,"div",17),ms(2,"div",18),ms(3,"div",19),hs(4,sb,32,15,"div",20),vs(),vs(),ms(5,"div",21),ys(6,"ul",22),vs(),vs(),ms(7,"div",23),ms(8,"div",18),hs(9,ub,33,14,"div",24),vs(),ms(10,"div",21),ys(11,"ul",22),vs(),vs(),vs()),2&t){const t=Cs();fi(4),ps("ngForOf",t.products),fi(2),us("data-total-pages",t.totalPage)("data-actual-page",t.page)("data-current-route",t.currentRoute),fi(3),ps("ngForOf",t.products),fi(2),us("data-total-pages",t.totalPage)("data-actual-page",t.page)("data-current-route",t.currentRoute)}}function lb(t,e){1&t&&(ms(0,"div",51),ms(1,"div",52),ms(2,"div",53),ms(3,"span",54),na(4,"Loading..."),vs(),vs(),vs(),vs())}let hb=(()=>{class t{constructor(t,e,n,r){this.productsService=t,this.activatedRoute=e,this.usersService=n,this.router=r,this.path=Rf,this.products=[],this.render=!0,this.cargando=!1,this.rating=[],this.reviews=[],this.price=[],this.params=null,this.productFound=0,this.currentRoute=null,this.totalPage=0,this.sortItems=[],this.sortValues=[],this.properties=["category","name","store","sub_category","tags","title_list","url"],this.listProducts=[]}ngOnInit(){this.cargando=!0,this.params=this.activatedRoute.snapshot.params.param.split("&")[0],this.sort=this.activatedRoute.snapshot.params.param.split("&")[1],this.page=this.activatedRoute.snapshot.params.param.split("&")[2],Number.isInteger(Number(this.sort))&&(this.page=this.sort,this.sort=void 0),this.currentRoute=null==this.sort?"search/"+this.params:`search/${this.params}&${this.sort}`,this.properties.forEach(t=>{this.productsService.getSearchData(t,this.params).subscribe(t=>{let e;for(e in t)this.listProducts.push(t[e]);this.productsFnc(this.listProducts)})})}productsFnc(t){if(t.length>0){let e;this.products=[];let n=[],r=0;for(e in t)r++,n.push(t[e]);this.productFound=r,this.totalPage=Math.ceil(Number(this.productFound)/6),null!=this.sort&&"first"!=this.sort||(n.sort((function(t,e){return e.date_created-t.date_created})),this.sortItems=["Sort by first","Sort by latest","Sort by popularity","Sort by price low to high","Sort by price high to low"],this.sortValues=["first","latest","popularity","low","high"]),"latest"==this.sort&&(n.sort((function(t,e){return t.date_created-e.date_created})),this.sortItems=["Sort by latest","Sort by first","Sort by popularity","Sort by price: low to high","Sort by price: high to low"],this.sortValues=["latest","first","popularity","low","high"]),"popularity"==this.sort&&(n.sort((function(t,e){return e.views-t.views})),this.sortItems=["sort by popularity","sort by first","sort by latest","sort by price low to high","sort by price high to low"],this.sortValues=["popularity","first","latest","low","high"]),"low"==this.sort&&(n.sort((function(t,e){return t.price-e.price})),this.sortItems=["sort by price low to high","sort by first","sort by latest","sort by popularity","sort by price high to low"],this.sortValues=["low","first","latest","popularity","high"]),"high"==this.sort&&(n.sort((function(t,e){return e.price-t.price})),this.sortItems=["sort by price high to low","sort by first","sort by latest","sort by popularity","sort by price low to high"],this.sortValues=["high","first","latest","popularity","low"]),n.forEach((t,e)=>{null==this.page&&(this.page=1);let r=Number(e)+6*this.page-6;r<6*this.page&&null!=n[r]&&(this.products.push(n[r]),this.rating.push(qf(n[r])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(n[r])),this.cargando=!1)})}else this.cargando=!1}callback(t){this.render&&(this.render=!1,$f(),Wf(),Kf.fnc(),Yf(),$(".sortItems").change((function(){window.open(`search/${t}&${$(this).val()}`,"_top")})))}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(qg),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-search-showcase"]],decls:20,vars:4,consts:[[1,"ps-shopping","ps-tab-root"],[1,"ps-shopping__header"],[1,"ps-shopping__actions"],["class","ps-select sortItems","data-placeholder","Sort Items",4,"ngIf"],[1,"ps-shopping__view"],[1,"ps-tab-list"],[1,"active"],["href","#tab-1"],[1,"icon-grid"],["href","#tab-2"],[1,"icon-list4"],["class","ps-tabs",4,"ngIf"],["class","",4,"ngIf"],["data-placeholder","Sort Items",1,"ps-select","sortItems"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ps-tabs"],["id","tab-1",1,"ps-tab","active"],[1,"ps-shopping-product"],[1,"row"],["class","col-lg-2 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"ps-pagination"],[1,"pagination"],["id","tab-2",1,"ps-tab"],["class","ps-product ps-product--wide",4,"ngFor","ngForOf"],[1,"col-lg-2","col-md-4","col-6"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"",3,"innerHTML"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to Cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[1,"ps-product__content","hover"],[1,"ps-product","ps-product--wide"],[3,"innerHTML"],[1,"ps-product__vendor"],["href","#"],[1,"ps-product__shopping"],["href","#",1,"ps-btn"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"p"),ms(3,"strong"),na(4),vs(),na(5," Productos Encontrados"),vs(),ms(6,"div",2),hs(7,ib,2,1,"select",3),ms(8,"div",4),ms(9,"p"),na(10,"View"),vs(),ms(11,"ul",5),ms(12,"li",6),ms(13,"a",7),ys(14,"i",8),vs(),vs(),ms(15,"li"),ms(16,"a",9),ys(17,"i",10),vs(),vs(),vs(),vs(),vs(),vs(),hs(18,cb,12,8,"div",11),hs(19,lb,5,0,"div",12),vs()),2&t&&(fi(4),ra(e.productFound),fi(3),ps("ngIf",e.sortItems.length>0),fi(11),ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,Cd,Dd],styles:[""]}),t})(),db=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-search"]],decls:6,vars:0,consts:[[1,"container-fuid","bg-white","my-4"],[1,"container"],[1,"ps-layout--shop"]],template:function(t,e){1&t&&(ys(0,"app-search-breadcrumb"),ms(1,"div",0),ms(2,"div",1),ms(3,"div",2),ms(4,"section"),ys(5,"app-search-showcase"),vs(),vs(),vs(),vs())},directives:[nb,hb],styles:[""]}),t})();function fb(t,e){if(1&t&&(ms(0,"div",5),ys(1,"img",6),ms(2,"div",7),ms(3,"h4"),na(4),vs(),ms(5,"h3"),na(6),vs(),ms(7,"h3"),na(8),ys(9,"br"),ms(10,"p"),na(11),ms(12,"strong"),na(13),vs(),vs(),vs(),ms(14,"a",8),na(15),vs(),vs(),na(16),vs()),2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);us("data-background",i.path+"img/products/"+i.category[n]+"/horizontal/"+t["IMG tag"]),fi(1),Ds("src","",i.path,"img/products/",i.category[n],"/horizontal/",t["IMG tag"],"",zr),fi(3),ra(t["H4 tag"]),fi(2),ra(t["H3-1 tag"]),fi(2),ia(" ",t["H3-2 tag"],""),fi(3),ra(t["H3-3 tag"]),fi(2),ra(t["H3-4s tag"]),fi(1),ks("routerLink","product/",i.url[n],""),fi(1),ra(t["Button tag"]),fi(1),ia(" ",r?i.callback():""," ")}}function pb(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),hs(2,fb,17,12,"div",4),vs(),vs()),2&t){const t=Cs();fi(2),ps("ngForOf",t.banner_home)}}function gb(t,e){1&t&&(ms(0,"div",9),ms(1,"div",10),ms(2,"div",11),ms(3,"span",12),na(4,"Loading..."),vs(),vs(),vs(),vs())}let mb=(()=>{class t{constructor(t){this.productsService=t,this.path=Rf,this.banner_home=[],this.category=[],this.url=[],this.render=!0,this.preload=!1}ngOnInit(){this.preload=!0;let t=0;this.productsService.getData().subscribe(e=>{let n,r=0;for(n in e)r++;r>5&&(t=Math.floor(Math.random()*(r-5))),this.productsService.getLimiData(Object.keys(e)[t],5).subscribe(t=>{let e;for(e in t)this.banner_home.push(JSON.parse(t[e].horizontal_slider)),this.category.push(t[e].category),this.url.push(t[e].url),this.preload=!1})})}callback(){this.render&&(this.render=!1,Mf(),$("[data-background]").each((function(){if($(this).attr("data-backgroun1d")){var t=$(this).attr("data-background");$(this).css({background:"url("+t+")"})}})))}}return t.\u0275fac=function(e){return new(e||t)(fs(kv))},t.\u0275cmp=ce({type:t,selectors:[["app-home-banner"]],decls:2,vars:2,consts:[["class","ps-home-banner",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"ps-home-banner"],["data-owl-auto","true","data-owl-loop","true","data-owl-speed","5000","data-owl-gap","0","data-owl-nav","true","data-owl-dots","true","data-owl-item","1","data-owl-item-xs","1","data-owl-item-sm","1","data-owl-item-md","1","data-owl-item-lg","1","data-owl-duration","1000","data-owl-mousedrag","on","data-owl-animate-in","fadeIn","data-owl-animate-out","fadeOut",1,"ps-carousel--nav-inside","owl-slider"],["class","ps-banner--market-4",4,"ngFor","ngForOf"],[1,"ps-banner--market-4"],["alt","",3,"src"],[1,"ps-banner__content"],[1,"ps-btn",3,"routerLink"],[1,"d-flex","justify-content-center"],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,pb,3,1,"div",0),hs(1,gb,5,0,"div",1)),2&t&&(ps("ngIf",!e.preload),fi(1),ps("ngIf",e.preload))},directives:[ml,pl,sv],styles:[""]}),t})(),vb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-home-features"]],decls:35,vars:0,consts:[[1,"ps-site-features"],[1,"container"],[1,"ps-block--site-features","ps-block--site-features-2"],[1,"ps-block__item"],[1,"ps-block__left"],[1,"icon-rocket"],[1,"ps-block__right"],[1,"icon-sync"],[1,"icon-credit-card"],[1,"icon-bubbles"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),ms(4,"div",4),ys(5,"i",5),vs(),ms(6,"div",6),ms(7,"h4"),na(8,"Free Delivery"),vs(),ms(9,"p"),na(10,"For all oders over $99"),vs(),vs(),vs(),ms(11,"div",3),ms(12,"div",4),ys(13,"i",7),vs(),ms(14,"div",6),ms(15,"h4"),na(16,"90 Days Return"),vs(),ms(17,"p"),na(18,"If goods have problems"),vs(),vs(),vs(),ms(19,"div",3),ms(20,"div",4),ys(21,"i",8),vs(),ms(22,"div",6),ms(23,"h4"),na(24,"Secure Payment"),vs(),ms(25,"p"),na(26,"100% secure payment"),vs(),vs(),vs(),ms(27,"div",3),ms(28,"div",4),ys(29,"i",9),vs(),ms(30,"div",6),ms(31,"h4"),na(32,"24/7 Support"),vs(),ms(33,"p"),na(34,"Dedicated support"),vs(),vs(),vs(),vs(),vs(),vs())},styles:[""]}),t})();function yb(t,e){if(1&t&&(ms(0,"div",6),ms(1,"a",7),ys(2,"img",8),vs(),vs()),2&t){const t=e.$implicit,n=e.index,r=Cs(2);fi(1),ks("routerLink","prpduct/",r.url[n],""),fi(1),Ds("src","",r.path,"img/products/",r.category[n],"/default/",t,"",zr)}}function bb(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"div",4),hs(3,yb,3,4,"div",5),vs(),vs(),vs()),2&t){const t=Cs();fi(3),ps("ngForOf",t.banner_default)}}function wb(t,e){1&t&&(ms(0,"div",9),ms(1,"div",10),ms(2,"div",11),ms(3,"span",12),na(4,"Loading..."),vs(),vs(),vs(),vs())}let _b=(()=>{class t{constructor(t){this.productsService=t,this.path=Rf,this.banner_default=[],this.category=[],this.url=[],this.preload=!1}ngOnInit(){this.preload=!0;let t=0;this.productsService.getData().subscribe(e=>{let n,r=0;for(n in e)r++;r>2&&(t=Math.floor(Math.random()*(r-2))),this.productsService.getLimiData(Object.keys(e)[t],2).subscribe(t=>{let e;for(e in t)this.banner_default.push(t[e].default_banner),this.category.push(t[e].category),this.url.push(t[e].url),this.preload=!1})})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv))},t.\u0275cmp=ce({type:t,selectors:[["app-home-promotions"]],decls:2,vars:2,consts:[["class","ps-promotions",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"ps-promotions"],[1,"container"],[1,"row"],["class","col-md-6 col-12 ",4,"ngFor","ngForOf"],[1,"col-md-6","col-12"],[1,"ps-collection",3,"routerLink"],["alt","",3,"src"],[1,"d-flex","justify-content-center"],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,bb,4,1,"div",0),hs(1,wb,5,0,"div",1)),2&t&&(ps("ngIf",!e.preload),fi(1),ps("ngIf",e.preload))},directives:[ml,pl,sv],styles:[""]}),t})();function Eb(t,e){if(1&t&&(ms(0,"div",26),ms(1,"div",27),ms(2,"div",28),ms(3,"figure"),ms(4,"div",29),ys(5,"div",30),ys(6,"div",31),vs(),vs(),ys(7,"div",32),vs(),ms(8,"div",33),ms(9,"h5"),na(10),vs(),ms(11,"h3",34),ms(12,"a",35),na(13),vs(),vs(),ms(14,"div",36),ms(15,"h4",37),ys(16,"span",38),ms(17,"del"),na(18),vs(),vs(),ms(19,"div",39),ys(20,"select",40),ms(21,"span",41),na(22,"(1 review)"),vs(),vs(),ms(23,"div",42),ms(24,"p"),na(25," Status:"),ms(26,"strong",43),na(27," In Stock"),vs(),vs(),vs(),vs(),ms(28,"div",44),ms(29,"p"),na(30,"Expires In"),vs(),ms(31,"ul",45),ms(32,"li"),ys(33,"span",46),ms(34,"p"),na(35,"Days"),vs(),vs(),ms(36,"li"),ys(37,"span",47),ms(38,"p"),na(39,"Hours"),vs(),vs(),ms(40,"li"),ys(41,"span",48),ms(42,"p"),na(43,"Minutes"),vs(),vs(),ms(44,"li"),ys(45,"span",49),ms(46,"p"),na(47,"Seconds"),vs(),vs(),vs(),vs(),ms(48,"div",50),ms(49,"div",51),ys(50,"span",52),vs(),ms(51,"p"),ms(52,"strong"),na(53),vs(),na(54," Sold"),vs(),vs(),vs(),vs(),na(55),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs(2);fi(2),us("gallery",r.products[t].gallery)("category",r.products[t].category),fi(4),us("offer",r.products[t].offer)("price",r.products[t].price),fi(4),ra(r.products[t].category),fi(2),ks("routerLink","product/",r.products[t].url,""),fi(1),ia(" ",r.products[t].name," "),fi(5),ra(r.products[t].price),fi(1),us("reviews",r.products[t].reviews),fi(30),us("data-value",r.products[t].stock),fi(4),ia("",100-r.products[t].stock,"/100"),fi(2),ia(" ",n?r.callback():""," ")}}function Sb(t,e){if(1&t&&(ms(0,"div",16),ms(1,"div",17),ms(2,"h3"),na(3,"Deal hot today"),vs(),ms(4,"div",18),ms(5,"a",19),ys(6,"i",20),vs(),ms(7,"a",21),ys(8,"i",22),vs(),vs(),vs(),ms(9,"div",23),ms(10,"div",24),hs(11,Eb,56,12,"div",25),vs(),vs(),vs()),2&t){const t=Cs();fi(11),ps("ngForOf",t.indexes)}}function Ib(t,e){1&t&&(ms(0,"div",53),ms(1,"div",11),ms(2,"div",12),ms(3,"span",13),na(4,"Loading..."),vs(),vs(),vs(),vs())}function Cb(t,e){if(1&t&&(ms(0,"div",54),na(1),vs()),2&t){const t=e.last,n=Cs();fi(1),ia(" ",t?n.callbackBestSeller(n.topSales):""," ")}}let Tb=(()=>{class t{constructor(t,e){this.productsService=t,this.salesService=e,this.path=Rf,this.indexes=[],this.render=!0,this.products=[],this.cargando=!1,this.topSales=[],this.topSalesBlock=[],this.renderBestSeller=!0}ngOnInit(){this.cargando=!0;let t=[],e=new Date,n=null;this.productsService.getData().subscribe(r=>{let i;for(i in r)t.push({offer:JSON.parse(r[i].offer),stock:r[i].stock}),this.products.push(r[i]);for(i in t)n=new Date(parseInt(t[i].offer[2].split("-")[0]),parseInt(t[i].offer[2].split("-")[1])-1,parseInt(t[i].offer[2].split("-")[2])),e<n&&t[i].stock>0&&(this.indexes.push(i),this.cargando=!1)});let r=[];this.salesService.getData().subscribe(t=>{let e;for(e in t)r.push({product:t[e].product,quantity:t[e].quantity});r.sort((function(t,e){return e.quantity-t.quantity}));let n=[];r.forEach(t=>{if(!n.find(e=>e.product==t.product)){const{product:e,quantity:r}=t;n.push({product:e,quantity:r})}});let i=0;n.forEach((t,e)=>{e<20&&(i++,this.productsService.getFilterData("name",t.product).subscribe(t=>{let e;for(e in t)this.topSales.push(t[e])}))});for(let r=0;r<Math.round(i/4);r++)this.topSalesBlock.push(r)})}callback(){if(this.render){this.render=!1;let t=$(".galleryMix_1"),e=$(".galleryMix_2"),n=$(".galleryMix_3"),r=$(".offer_1"),i=$(".offer_2"),o=$(".offer_3"),s=$(".review_1"),a=$(".review_2"),u=$(".review_3"),c=0;$(".ps-carousel--deal-hot").hide();for(let l=0;l<t.length;l++){c++;for(let r=0;r<JSON.parse($(t[l]).attr("gallery")).length;r++)$(e[l]).append(`<div class="item">\n              <a href="assets/img/products/${$(t[l]).attr("category")}/gallery/${JSON.parse($(t[l]).attr("gallery"))[r]}">\n                <img src="assets/img/products/${$(t[l]).attr("category")}/gallery/${JSON.parse($(t[l]).attr("gallery"))[r]}" alt="" />\n              </a>\n            </div>\n          `),$(n[l]).append(`<div class="item">\n              <img src="assets/img/products/${$(t[l]).attr("category")}/gallery/${JSON.parse($(t[l]).attr("gallery"))[r]}">\n\t          </div>`);let h=JSON.parse($(r[l]).attr("offer")),d=Number($(r[l]).attr("price"));"Disccount"==h[0]&&($(r[l]).html(`<span>Save<br/>$${(d*h[1]/100).toFixed(2)}</span>`),$(i[l]).html("$"+(d-d*h[1]/100).toFixed(2))),"Fixed"==h[0]&&($(r[l]).html(`<span>Save <br> $${(d-h[1]).toFixed(2)}</span>`),$(i[l]).html("$"+h[1])),$(o[l]).attr("data-time",new Date(parseInt(h[2].split("-")[0]),parseInt(h[2].split("-")[1])-1,parseInt(h[2].split("-")[2])));let f=0;for(let t=0;t<JSON.parse($(s[l]).attr("reviews")).length;t++)f+=Number(JSON.parse($(s[l]).attr("reviews"))[t].review);let p=Math.round(f/JSON.parse($(s[l]).attr("reviews")).length);$(u[l]).html(p);for(let t=1;t<=5;t++)$(a[l]).append(`<option value="2">${t}</option>`),p==t&&$(a[l]).children("option").val(1)}setTimeout((function(){$(".ps-carousel--deal-hot").show(),Mf(),Vf(),jf(),Uf()}),100*c),Bf(),$f(),Hf()}}callbackBestSeller(t){if(this.renderBestSeller){this.renderBestSeller=!1;let e=$(".topSaleBlock"),n=[];setTimeout((function(){$(".preload").remove();for(let r=0;r<e.length;r++){let i;for(i in n.push(t.slice(r*e.length,r*e.length+e.length)),n[r]){let t,o,s,a,u,c=new Date;""!=n[r][i].offer?(u=new Date(parseInt(JSON.parse(n[r][i].offer)[2].split("-")[0]),parseInt(JSON.parse(n[r][i].offer)[2].split("-")[1])-1,parseInt(JSON.parse(n[r][i].offer)[2].split("-")[2])),c<u?(o=JSON.parse(n[r][i].offer)[0],s=JSON.parse(n[r][i].offer)[1],"Disccount"==o&&(a=(n[r][i].price-n[r][i].price*s/100).toFixed(2)),"Fixed"==o&&(a=s),t=`<p class="ps-product__price sale">$${a} <del>$${n[r][i].price} </del></p>`):t=`<p class="ps-product__price">$${n[r][i].price} </p>`):t=`<p class="ps-product__price">$${n[r][i].price} </p>`,$(e[r]).append(`<div class="ps-product--horizontal">\n\n                <div class="ps-product__thumbnail">\n                  <a href="product/${n[r][i].url}">\n                    <img src="assets/img/products/${n[r][i].category}/${n[r][i].image}" alt="" />\n                  </a>\n                </div>\n\n                <div class="ps-product__content">\n                  <a class="ps-product__title" href="product/${n[r][i].url}">\n                    ${n[r][i].name}\n                  </a>\n\n                  ${t}\n\n                </div>\n            </div>`)}}$(".owl-dot").css({background:"#ddd"})}),1e3*e.length)}}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(xv))},t.\u0275cmp=ce({type:t,selectors:[["app-home-hot-today"]],decls:18,vars:3,consts:[[1,"ps-deal-hot"],[1,"container"],[1,"row"],[1,"col-xl-9","col-12"],["class","ps-block--deal-hot","data-mh","dealhot",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col-xl-3","col-12"],["data-mh","dealhot",1,"widget","widget_best-sale"],[1,"widget-title"],[1,"widget__content"],[1,"d-flex","justify-content-center","preload"],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"],["data-owl-auto","true","data-owl-loop","false","data-owl-speed","5000","data-owl-gap","0","data-owl-nav","false","data-owl-dots","true","data-owl-item","1","data-owl-item-xs","1","data-owl-item-sm","1","data-owl-item-md","1","data-owl-item-lg","1","data-owl-duration","1000","data-owl-mousedrag","on",1,"ps-carousel--product-box","owl-slider","mb-n4"],["class","ps-product-group topSaleBlock",4,"ngFor","ngForOf"],["data-mh","dealhot",1,"ps-block--deal-hot"],[1,"ps-block__header"],[1,"ps-block__navigation"],["href",".ps-carousel--deal-hot",1,"ps-carousel__prev"],[1,"icon-chevron-left"],["href",".ps-carousel--deal-hot",1,"ps-carousel__next"],[1,"icon-chevron-right"],[1,"ps-product__content"],["data-owl-auto","true","data-owl-loop","true","data-owl-speed","5000","data-owl-gap","0","data-owl-nav","false","data-owl-dots","true","data-owl-item","1","data-owl-item-xs","1","data-owl-item-sm","1","data-owl-item-md","1","data-owl-item-lg","1","data-owl-duration","1000","data-owl-mousedrag","on",1,"ps-carousel--deal-hot","ps-carousel--deal-hot","owl-slider"],["class","ps-product--detail ps-product--hot-deal",4,"ngFor","ngForOf"],[1,"ps-product--detail","ps-product--hot-deal"],[1,"ps-product__header"],["data-vertical","true",1,"ps-product__thumbnail","galleryMix_1"],[1,"ps-wrapper"],["data-arrow","true",1,"ps-product__gallery","galleryMix_2"],[1,"ps-product__badge","offer_1"],["data-item","4","data-md","3","data-sm","3","data-arrow","true",1,"ps-product__variants","galleryMix_3"],[1,"ps-product__info"],[1,"ps-product__name"],[3,"routerLink"],[1,"ps-product__meta"],[1,"ps-product__price","sale"],[1,"offer_2"],[1,"ps-product__rating","review_1"],["data-read-only","true",1,"ps-rating","review_2"],[1,"review_3"],[1,"ps-product__specification"],[1,"in-stock"],[1,"ps-product__expires"],[1,"ps-countdown","offer_3"],[1,"days"],[1,"hours"],[1,"minutes"],[1,"seconds"],[1,"ps-product__processs-bar"],[1,"ps-progress"],[1,"ps-progress__value"],[1,"d-flex","justify-content-center"],[1,"ps-product-group","topSaleBlock"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),hs(4,Sb,12,1,"div",4),hs(5,Ib,5,0,"div",5),vs(),ms(6,"div",6),ms(7,"aside",7),ms(8,"h3",8),na(9,"Top 20 Best Seller"),vs(),ms(10,"div",9),ms(11,"div",10),ms(12,"div",11),ms(13,"div",12),ms(14,"span",13),na(15,"Loading..."),vs(),vs(),vs(),vs(),ms(16,"div",14),hs(17,Cb,2,1,"div",15),vs(),vs(),vs(),vs(),vs(),vs(),vs()),2&t&&(fi(4),ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando),fi(12),ps("ngForOf",e.topSalesBlock))},directives:[ml,pl,sv],styles:[""]}),t})();function kb(t,e){if(1&t&&(ms(0,"div",6),ms(1,"div",7),ys(2,"a",8),ys(3,"img",9),ms(4,"p"),na(5),vs(),vs(),vs()),2&t){const t=e.$implicit,n=Cs(2);fi(2),ks("routerLink","products/",t.url,""),fi(1),As("src","",n.path,"img/categories/",t.image,"",zr),fi(2),ra(t.name)}}function Ab(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"h3"),na(3,"Top categories of the month"),vs(),ms(4,"div",4),hs(5,kb,6,4,"div",5),vs(),vs(),vs()),2&t){const t=Cs();fi(5),ps("ngForOf",t.categories)}}function Db(t,e){1&t&&(ms(0,"div",10),ms(1,"div",11),ms(2,"div",12),ms(3,"span",13),na(4,"Loading..."),vs(),vs(),vs(),vs())}let xb=(()=>{class t{constructor(t){this.categoriesService=t,this.path=Rf,this.categories=[],this.cargando=!1}ngOnInit(){this.cargando=!0;let t=[];this.categoriesService.getData().subscribe(e=>{let n;for(n in e)t.push(e[n]);t.sort((function(t,e){return e.view-t.view})),t.forEach((e,n)=>{n<6&&(this.categories[n]=t[n],this.cargando=!1)})})}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv))},t.\u0275cmp=ce({type:t,selectors:[["app-home-top-categories"]],decls:2,vars:2,consts:[["class","ps-top-categories",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"ps-top-categories"],[1,"container"],[1,"row"],["class","col-xl-2 col-lg-3 col-sm-4 col-6",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-sm-4","col-6"],[1,"ps-block--category"],[1,"ps-block__overlay",3,"routerLink"],["alt","",3,"src"],[1,"d-flex","justify-content-center"],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,Ab,6,1,"div",0),hs(1,Db,5,0,"div",1)),2&t&&(ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,sv],styles:[""]}),t})();function Ob(t,e){if(1&t&&(ms(0,"div",5),ms(1,"div",6),ms(2,"h3"),na(3),vs(),ys(4,"ul"),ms(5,"a",7),na(6,"View All"),vs(),vs(),ms(7,"div",8),ys(8,"div"),vs(),ys(9,"div",9),na(10),vs()),2&t){const t=e.$implicit,n=e.last,r=e.index,i=Cs(2);fi(3),ra(t.name),fi(1),us("category-showcase",t.name),fi(1),ks("routerLink","products/",t.url,""),fi(3),us("category-sl",t.url),fi(1),us("category-pb",t.url),fi(1),ia(" ",n?i.callback(r):""," ")}}function Nb(t,e){if(1&t&&(ms(0,"div",3),hs(1,Ob,11,6,"div",4),vs()),2&t){const t=Cs();fi(1),ps("ngForOf",t.categories)}}function Pb(t,e){1&t&&(ms(0,"div",10),ms(1,"div",11),ms(2,"div",12),ms(3,"span",13),na(4,"Loading..."),vs(),vs(),vs(),vs())}let Fb=(()=>{class t{constructor(t,e,n){this.categoriesService=t,this.subCategoriesService=e,this.productsService=n,this.path=Rf,this.categories=[],this.cargando=!1,this.render=!0}ngOnInit(){this.cargando=!0;let t=[];this.categoriesService.getData().subscribe(e=>{let n;for(n in e)t.push(e[n]);t.sort((function(t,e){return e.view-t.view})),t.forEach((e,n)=>{n<6&&(this.categories[n]=t[n],this.cargando=!1)})})}callback(t){if(this.render){this.render=!1;let e=[],n=[],r=0;this.categories.forEach((i,o)=>{this.subCategoriesService.getFilterData("category",i.name).subscribe(t=>{let n;for(n in t)e.push({category:t[n].category,subcategory:t[n].name,url:t[n].url});for(n in e)i.name==e[n].category&&$(`[category-showcase='${i.name}']`).append(`\n                    <li><a href="products/${e[n].url}">${e[n].subcategory}</a></li>\n                  `)}),this.productsService.getFilterDataWithLimit("category",i.url,6).subscribe(e=>{let o;for(o in e)n.push({category:e[o].category,url:e[o].url,name:e[o].name,image:e[o].image,price:e[o].price,offer:e[o].offer,reviews:e[o].reviews,stock:e[o].stock,vertical_slider:e[o].vertical_slider});for(o in n)if(i.url==n[o].category){let e,i,s,a,u,c='<p class="ps-product__price sale">$567.99 <del>$670.00 </del></p>',l=new Date;""!=n[o].offer?(u=new Date(parseInt(JSON.parse(n[o].offer)[2].split("-")[0]),parseInt(JSON.parse(n[o].offer)[2].split("-")[1])-1,parseInt(JSON.parse(n[o].offer)[2].split("-")[2])),l<u?(e=JSON.parse(n[o].offer)[0],i=JSON.parse(n[o].offer)[1],"Disccount"==e&&(s=(n[o].price-n[o].price*i/100).toFixed(2)),"Fixed"==e&&(s=i,i=Math.round(100-100*s/n[o].price)),a=`<div class="ps-product__badge">-${i}%</div>`,c=`<p class="ps-product__price sale">$${s} <del>$${n[o].price} </del></p>`):(a="",c=`<p class="ps-product__price">$${n[o].price} </p>`)):(a="",c=`<p class="ps-product__price">$${n[o].price} </p>`);let h=0;for(let t=0;t<JSON.parse(n[o].reviews).length;t++)h+=Number(JSON.parse(n[o].reviews)[t].review);let d=Math.round(h/JSON.parse(n[o].reviews).length);0==n[o].stock&&(a='<div class="ps-product__badge out-stock">Out Of Stock</div>'),$(`[category-pb='${n[o].category}']`).append(`<div class="ps-product ps-product--simple">\n\n                          <div class="ps-product__thumbnail">\n\n                            <a href="product/${n[o].url}">\n\n                              <img src="assets/img/products/${n[o].category}/${n[o].image}" alt="">\n\n                            </a>\n\n                            ${a}\n\n                          </div>\n\n                          <div class="ps-product__container">\n\n                              <div class="ps-product__content" data-mh="clothing">\n\n                                <a class="ps-product__title" href="product/${n[o].url}">\n                                  ${n[o].name}\n                                </a>\n\n                                  <div class="ps-product__rating">\n\n                                      <select class="productRating ps-rating" data-read-only="true">\n\n\n                                      </select>\n\n                                      <span>${d}</span>\n\n                                  </div>\n\n                                  ${c}\n\n                              </div>\n\n                          </div>\n\n                      </div>\n                      `);let f=$(".productRating");for(let t=0;t<f.length;t++)for(let e=1;e<=5;e++)$(f[t]).append(`<option value="2">${e}</option>`),d==e&&$(f[t]).children("option").val(1);$f(),$(`[category-sl='${n[o].category}']`).append(`\n                        \n                        <a href="product/${n[o].url}">\n\n                          <img src="assets/img/products/${n[o].category}/vertical/${n[o].vertical_slider}">\n\n                        </a>\n                      `),r++,r==6*(t+1)&&($("[category-sl]").addClass("ps-carousel--product-box"),$("[category-sl]").addClass("owl-slider"),$("[category-sl]").owlCarousel({items:1,autoplay:!0,autoplayTimeout:7e3,loop:!0,nav:!0,margin:0,dots:!0,navSpeed:500,dotsSpeed:500,dragEndSpeed:500,navText:["<i class='icon-chevron-left'></i>","<i class='icon-chevron-right'></i>"]}))}})})}}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv),fs(Py),fs(kv))},t.\u0275cmp=ce({type:t,selectors:[["app-home-showcase"]],decls:3,vars:2,consts:[[1,"ps-section--gray"],["class","container",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"container"],["class","ps-block--products-of-category",4,"ngFor","ngForOf"],[1,"ps-block--products-of-category"],[1,"ps-block__categories"],[1,"ps-block__more-link",3,"routerLink"],[1,"ps-block__slider"],[1,"ps-block__product-box"],[1,"d-flex","justify-content-center"],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(ms(0,"div",0),hs(1,Nb,2,1,"div",1),hs(2,Pb,5,0,"div",2),vs()),2&t&&(fi(1),ps("ngIf",!e.cargando),fi(1),ps("ngIf",e.cargando))},directives:[ml,pl,sv],styles:[""]}),t})(),Rb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[["id","homepage-6"]],template:function(t,e){1&t&&(ms(0,"div",0),ys(1,"app-home-banner"),ys(2,"app-home-features"),ys(3,"app-home-promotions"),ys(4,"app-home-hot-today"),ys(5,"app-home-top-categories"),ys(6,"app-home-showcase"),vs())},directives:[mb,vb,_b,Tb,xb,Fb],styles:[""]}),t})();function Lb(t,e){if(1&t){const t=bs();ms(0,"article",4),ms(1,"div",5),ys(2,"img",6),vs(),ms(3,"div",7),ms(4,"div",8),ms(5,"a",9),na(6),vs(),vs(),ms(7,"div",10),ys(8,"div",11),ms(9,"a",12),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs().addShoppingCart(n.url,1,[])})),na(10," Add to Cart"),vs(),vs(),vs(),vs()}if(2&t){const t=e.$implicit,n=e.index,r=Cs();fi(2),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),Ts("alt",t.name),fi(4),ia(" ",t.name," "),fi(2),ps("innerHTML",r.price[n],Gr)}}let Mb=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.productsService=e,this.usersService=n,this.router=r,this.path=Rf,this.call_to_action=[],this.price=[]}ngOnInit(){this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{for(const e in t)this.call_to_action.push(t[e]),this.call_to_action.forEach(t=>{let e,n,r;""!=t.offer?(e=JSON.parse(t.offer)[0],n=JSON.parse(t.offer)[1],"Disccount"==e&&(r=(t.price-t.price*n/100).toFixed(2)),"Fixed"==e&&(r=n),this.price.push(`<span class="ps-product__price">\n                                      <span>$${r}</span>\n                      \n                                      <del>$${t.price}</del>\n                                    </span>`)):this.price.push(`<span class="ps-product__price">\n                                    <span>$${t.price}</span>\n                                  </span>`)})})}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-call-to-action"]],decls:4,vars:1,consts:[["data-sticky","true",1,"header","header--product","header--sticky"],[1,"navigation"],[1,"container"],["class","ps-product--header-sticky",4,"ngFor","ngForOf"],[1,"ps-product--header-sticky"],[1,"ps-product__thumbnail"],[3,"src","alt"],[1,"ps-product__wrapper"],[1,"ps-product__content"],["href","#",1,"ps-product__title"],[1,"ps-product__shopping"],[1,"mr-5",3,"innerHTML"],[1,"ps-btn",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(ms(0,"header",0),ms(1,"nav",1),ms(2,"div",2),hs(3,Lb,11,6,"article",3),vs(),vs(),vs()),2&t&&(fi(3),ps("ngForOf",e.call_to_action))},directives:[pl],styles:[""]}),t})(),Vb=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.productsService=e,this.storesService=n,this.breadcrumb=null}ngOnInit(){this.breadcrumb=this.activatedRoute.snapshot.params.param.replace(/[-]/g," "),this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{for(const e in t){let n=Object.keys(t).toString(),r={views:Number(t[e].views+1)};this.productsService.patchData(n,r).subscribe(t=>{})}}),null!=this.activatedRoute.snapshot.queryParams.coupon&&this.storesService.getFilterData("url",this.activatedRoute.snapshot.queryParams.coupon).subscribe(t=>{for(const e in t)tp.set("coupon",t[e].url,{expires:7})})}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Ov))},t.\u0275cmp=ce({type:t,selectors:[["app-product-breadcrumb"]],decls:9,vars:3,consts:[[1,"ps-breadcrumb"],[1,"container"],[1,"breadcrumb"],["routerLink","/"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"ul",2),ms(3,"li"),ms(4,"a",3),na(5,"Home"),vs(),vs(),ms(6,"li"),na(7),mu(8,"titlecase"),vs(),vs(),vs(),vs()),2&t&&(fi(7),ra(vu(8,1,e.breadcrumb)))},directives:[sv],pipes:[El],styles:[""]}),t})();function jb(t,e){if(1&t&&(ms(0,"div",7),ms(1,"div",8),ms(2,"div",9),ms(3,"a",10),ys(4,"img",11),vs(),vs(),ms(5,"div",12),ms(6,"div",13),ms(7,"a",14),na(8),vs(),ys(9,"div",15),vs(),vs(),vs(),na(10),vs()),2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs();fi(3),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(3),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}let Ub=(()=>{class t{constructor(t,e,n){this.productsService=t,this.usersService=e,this.router=n,this.path=Rf,this.products=[],this.price=[],this.render=!0}ngOnInit(){this.productsService.getFilterData("title_list",this.childItem.title_list).subscribe(t=>{this.productsFnc(t)})}productsFnc(t){let e;this.products.push(this.childItem);let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.views-t.views}));let r=Math.floor(Math.random()*n.length);n.forEach((t,e)=>{let i=0;this.childItem.name==t.name&&(i=e),r==i&&(r=Math.floor(Math.random()*n.length)),e!=i&&e==r&&this.products.push(t)});for(const i in this.products)this.price.push(zf(this.products[i]))}callback(){if(this.render){this.render=!1;let t=$(".endPrice .end-price"),e=0;for(let n=0;n<t.length;n++)e+=Number($(t[n]).html());$(".ps-block__total strong").html("$"+e.toFixed(2))}}addWishlist(t,e){this.usersService.addWishlist(t);let n=this.usersService;setTimeout((function(){n.addWishlist(e)}),1e3)}addShoppingCart(t,e,n,r,i,o){let s=this.router.url;this.usersService.addShoppingCart({product:t,unit:e,details:n,url:s});let a=this.usersService;setTimeout((function(){a.addShoppingCart({product:r,unit:i,details:o,url:s})}),1e3)}}return t.\u0275fac=function(e){return new(e||t)(fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-bought-together"]],inputs:{childItem:"childItem"},decls:14,vars:1,consts:[[1,"ps-block--bought-toggether"],[1,"ps-block__content"],[1,"ps-block__items"],["class","ps-block__item",4,"ngFor","ngForOf"],[1,"ps-block__item","ps-block__total"],[1,"ps-btn",2,"cursor","pointer",3,"click"],[1,"ps-btn","ps-btn--gray","ps-btn--outline",2,"cursor","pointer",3,"click"],[1,"ps-block__item"],[1,"ps-product","ps-product--simple"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[1,"ps-product__container"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"endPrice",3,"innerHTML"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"h4"),na(2,"Frequently Bought Together"),vs(),ms(3,"div",1),ms(4,"div",2),hs(5,jb,11,8,"div",3),ms(6,"div",4),ms(7,"p"),na(8,"Total Price:"),ys(9,"strong"),vs(),ms(10,"a",5),Es("click",(function(){return e.addShoppingCart(e.products[0].url,1,[],e.products[1].url,1,[])})),na(11," Add All to cart "),vs(),ms(12,"a",6),Es("click",(function(){return e.addWishlist(e.products[0].url,e.products[1].url)})),na(13," Add All to whishlist "),vs(),vs(),vs(),vs(),vs()),2&t&&(fi(5),ps("ngForOf",e.products))},directives:[pl],styles:[""]}),t})();function Bb(t,e){if(1&t&&(ms(0,"div",1),ys(1,"img",2),ms(2,"div",3),ms(3,"h4"),na(4),vs(),ms(5,"p"),na(6),vs(),ms(7,"a",4),na(8,"Visit Store"),vs(),vs(),vs()),2&t){const t=e.$implicit,n=Cs();fi(1),Ds("src","",n.path,"img/stores/",t.url,"/",t.logo,"",zr),Ts("alt",t.store),fi(3),ra(t.store),fi(2),ra(t.abstract),fi(1),ks("href","store/",t.url,"",zr)}}let $b=(()=>{class t{constructor(t){this.storesService=t,this.store=[],this.path=Rf}ngOnInit(){this.storesService.getFilterData("store",this.childItem).subscribe(t=>{for(const e in t)this.store.push(t[e])})}}return t.\u0275fac=function(e){return new(e||t)(fs(Ov))},t.\u0275cmp=ce({type:t,selectors:[["app-vendor-store"]],inputs:{childItem:"childItem"},decls:1,vars:1,consts:[["class","media p-3",4,"ngFor","ngForOf"],[1,"media","p-3"],[1,"mr-5","mt-1","rounded-circle",2,"width","120px",3,"src","alt"],[1,"media-body"],[1,"ps-btn",3,"href"]],template:function(t,e){1&t&&hs(0,Bb,9,7,"div",0),2&t&&ps("ngForOf",e.store)},directives:[pl],styles:[""]}),t})();function Hb(t,e){if(1&t&&ys(0,"img",12),2&t){const t=Cs().$implicit;As("src","",Cs().path,"img/users/",t.image,"",zr)}}function qb(t,e){1&t&&ys(0,"img",12),2&t&&ks("src","",Cs(2).path,"img/users/default/default.png",zr)}function Gb(t,e){1&t&&(ms(0,"h4"),na(1," Anonimous "),ms(2,"small"),ms(3,"i"),na(4," posted in febrero "),vs(),vs(),vs())}function zb(t,e){if(1&t&&(ms(0,"h4"),na(1),ms(2,"small"),ms(3,"i"),na(4," posted in febrero "),vs(),vs(),vs()),2&t){const t=Cs().$implicit;fi(1),ia(" ",t.name," ")}}function Wb(t,e){if(1&t&&(ms(0,"div",7),hs(1,Hb,1,2,"img",8),hs(2,qb,1,1,"img",8),ms(3,"div",9),ys(4,"select",10),hs(5,Gb,5,0,"h4",11),hs(6,zb,5,1,"h4",11),ms(7,"p"),na(8),vs(),vs(),na(9),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs();fi(1),ps("ngIf",null!=t.image),fi(1),ps("ngIf",null==t.image),fi(2),us("reviews",t.review),fi(1),ps("ngIf",null==t.name),fi(1),ps("ngIf",null!=t.name),fi(2),ia(" ",t.review," "),fi(1),ia(" ",n?r.callback():""," ")}}let Kb=(()=>{class t{constructor(){this.path=Rf,this.rating=[],this.itemReviews=[],this.render=!0}ngOnInit(){this.rating.push(qf(this.childItem));let t=[];t.push(Gf(this.rating[0]));for(let r=0;r<5;r++)$(".reviewsOption").append(`\n          \n          <option value="${t[0][r]}">${r+1}</option>\n\n        `);$f(),this.totalReviews=JSON.parse(this.childItem.reviews).length;let e=[];JSON.parse(this.childItem.reviews).forEach(t=>{e.push(t.review)}),e.sort();let n={1:0,2:0,3:0,4:0,5:0};e.forEach((t,e,r)=>{r.indexOf(t),r.lastIndexOf(t),n[t]+=1});for(let r=5;r>0;r--){let t=Math.round(100*n[r]/e.length);$(".ps-block--average-rating").append(`\n      <div class="ps-block__star">\n\n        <span>${r} Star</span>\n\n          <div class="ps-progress" data-value="${t}">\n\n            <span></span>\n\n          </div>\n\n          <span>${t}%</span>\n\n      </div>\n      `)}this.itemReviews.push(JSON.parse(this.childItem.reviews))}callback(){if(this.render){this.render=!0;let t=$("[reviews]");for(let e=0;e<t.length;e++)for(let n=0;n<5;n++)$(t[e]).append(`\n                \n                <option value="2">${n+1}</option>\n      \n              `),$(t[e]).attr("reviews")==n+1&&$(t[e]).children("option").val(1);$f()}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-reviews"]],inputs:{childItem:"childItem"},decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-5","col-12"],[1,"ps-block--average-rating"],[1,"ps-block__header"],["data-read-only","true",1,"ps-rating","reviewsOption"],[1,"col-lg-7","col-12"],["class","media border p-3",4,"ngFor","ngForOf"],[1,"media","border","p-3"],["alt","","class","mr-5 mt-1 rounded-circle","style","width: 60px;",3,"src",4,"ngIf"],[1,"media-body"],["data-read-only","true",1,"ps-rating"],[4,"ngIf"],["alt","",1,"mr-5","mt-1","rounded-circle",2,"width","60px",3,"src"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),ms(4,"h3"),na(5),vs(),ys(6,"select",4),ms(7,"span"),na(8),vs(),vs(),vs(),vs(),ms(9,"div",5),hs(10,Wb,10,7,"div",6),vs(),vs()),2&t&&(fi(5),ra(e.rating[0]),fi(3),ia("",e.totalReviews," Review"),fi(2),ps("ngForOf",e.itemReviews[0]))},directives:[pl,ml],styles:[""]}),t})(),Jb=(()=>{class t{constructor(t){this.domSanitizer=t}transform(t,...e){return this.domSanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(fs(Ql))},t.\u0275pipe=me({name:"urlsecure",type:t,pure:!0}),t})();function Yb(t,e){1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"div",4),ms(3,"span",5),na(4,"Loading..."),vs(),vs(),vs(),vs())}function Zb(t,e){if(1&t&&(ms(0,"div",15),ms(1,"a",16),ys(2,"img",17),vs(),vs()),2&t){const t=e.$implicit,n=Cs(2);fi(1),Ds("href","",n.path,"img/products/",n.product[0].category,"/",t,"",zr),fi(1),Ds("src","",n.path,"img/products/",n.product[0].category,"/",t,"",zr)}}function Xb(t,e){if(1&t&&(ms(0,"div",15),ys(1,"img",17),na(2),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs(2);fi(1),Ds("src","",r.path,"img/products/",r.product[0].category,"/",t,"",zr),fi(1),ia(" ",n?r.callbackGallery():""," ")}}function Qb(t,e){if(1&t&&(ms(0,"option",59),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function tw(t,e){1&t&&(ms(0,"strong",60),na(1,"En stock"),vs())}function ew(t,e){1&t&&(ms(0,"strong",61),na(1,"sin stock"),vs())}function nw(t,e){if(1&t&&(ms(0,"div",62),ms(1,"figure"),ms(2,"figcaption"),na(3," Don't Miss Out! This promotion will expires in"),vs(),ms(4,"ul",63),ms(5,"li"),ys(6,"span",64),ms(7,"p"),na(8,"Days"),vs(),vs(),ms(9,"li"),ys(10,"span",65),ms(11,"p"),na(12,"Hours"),vs(),vs(),ms(13,"li"),ys(14,"span",66),ms(15,"p"),na(16,"Minutes"),vs(),vs(),ms(17,"li"),ys(18,"span",67),ms(19,"p"),na(20,"Seconds"),vs(),vs(),vs(),vs(),ms(21,"figure"),ms(22,"figcaption"),na(23,"Sold Items"),vs(),ms(24,"div",68),ms(25,"div",69),ys(26,"span"),vs(),ms(27,"p"),ms(28,"b"),na(29),vs(),na(30," Sold"),vs(),vs(),vs(),vs()),2&t){const t=Cs(),e=t.index,n=t.$implicit,r=Cs(2);fi(4),us("data-time",r.countD[e]),fi(20),us("data-value",n.stock),fi(5),ia("",100-n.stock,"/100")}}function rw(t,e){if(1&t&&(ms(0,"a",16),na(1),vs()),2&t){const t=e.$implicit;ks("href","search/",Cs(3).tags,"",zr),fi(1),ia(" ",t," ")}}function iw(t,e){if(1&t){const t=bs();ms(0,"div",18),ms(1,"h1"),na(2),vs(),ms(3,"div",19),ms(4,"div",20),ms(5,"select",21),hs(6,Qb,2,2,"option",22),vs(),ms(7,"span"),na(8),vs(),vs(),vs(),ys(9,"div",23),ms(10,"div",24),ms(11,"p"),na(12," Sold By:"),ms(13,"a",25),ms(14,"strong"),na(15),vs(),vs(),na(16," Status: "),hs(17,tw,2,0,"strong",26),hs(18,ew,2,0,"strong",27),vs(),ys(19,"div",28),ys(20,"iframe",29),mu(21,"urlsecure"),vs(),ys(22,"div",30),hs(23,nw,31,3,"div",31),ms(24,"div",32),ms(25,"figure"),ms(26,"figcaption"),na(27,"Quantity"),vs(),ms(28,"div",33),ms(29,"button",34),Es("click",(function(){Xe(t);const e=ds(34);return Cs(2).changeQuantity(e.value,1,"up")})),ys(30,"i",35),vs(),ms(31,"button",36),Es("click",(function(){Xe(t);const e=ds(34);return Cs(2).changeQuantity(e.value,1,"down")})),ys(32,"i",37),vs(),ms(33,"input",38,39),Es("change",(function(){Xe(t);const e=ds(34);return Cs(2).changeQuantity(e.value,0,null)})),vs(),vs(),vs(),ms(35,"a",40),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),na(36,"Add to cart"),vs(),ms(37,"a",41),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).buyNow(n.url,1,[])})),na(38,"Comprar Ahora"),vs(),ms(39,"div",42),ms(40,"a",43),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(41,"i",44),vs(),vs(),vs(),ms(42,"div",45),ms(43,"a",46),na(44,"Report Abuse"),vs(),ms(45,"p",47),ms(46,"strong"),na(47," Categories:"),vs(),ms(48,"a",16),na(49),vs(),na(50,", "),ms(51,"a",16),na(52),vs(),na(53,", "),ms(54,"a",16),na(55),vs(),vs(),ms(56,"p",48),ms(57,"strong"),na(58," Tags"),vs(),hs(59,rw,2,2,"a",49),vs(),vs(),ms(60,"div",50),ms(61,"a",51),ys(62,"i",52),vs(),ms(63,"a",53),ys(64,"i",54),vs(),ms(65,"a",55),ys(66,"i",56),vs(),ms(67,"a",57),ys(68,"i",58),vs(),vs(),vs()}if(2&t){const t=e.$implicit,n=e.index,r=Cs(2);fi(2),ra(t.name),fi(4),ps("ngForOf",r.reviews[n]),fi(2),ra(r.rating[n]),fi(1),ps("innerHTML",r.price[n][0],Gr),fi(6),ra(t.store),fi(2),ps("ngIf",t.stock>0),fi(1),ps("ngIf",0==t.stock),fi(1),ps("innerHTML",t.summary,Gr),fi(1),us("src",vu(21,18,r.video),Wr),fi(2),us("specification",t.specification),fi(1),ps("ngIf",""!=t.offer&&r.offer),fi(25),ks("href","products/",t.category,"",zr),fi(1),ra(t.category),fi(2),ks("href","products/",t.sub_category,"",zr),fi(1),ra(t.sub_category),fi(2),ks("href","search/",t.title_list,"",zr),fi(1),ra(t.title_list),fi(4),ps("ngForOf",r.tags)}}function ow(t,e){if(1&t&&(ms(0,"div",70),ys(1,"app-bought-together",71),ms(2,"ul",72),ms(3,"li",73),ms(4,"a",74),na(5,"Description"),vs(),vs(),ms(6,"li"),ms(7,"a",75),na(8,"Specification"),vs(),vs(),ms(9,"li"),ms(10,"a",76),na(11,"Vendor"),vs(),vs(),ms(12,"li"),ms(13,"a",77),na(14),vs(),vs(),ms(15,"li"),ms(16,"a",78),na(17,"Questions and Answers"),vs(),vs(),ms(18,"li"),ms(19,"a",79),na(20,"More Offers"),vs(),vs(),vs(),ms(21,"div",80),ms(22,"div",81),ys(23,"div",23),vs(),ms(24,"div",82),ys(25,"div",23),vs(),ms(26,"div",83),ys(27,"app-vendor-store",71),vs(),ms(28,"div",84),ys(29,"app-reviews",71),vs(),ms(30,"div",85),ms(31,"div",86),ms(32,"h3"),na(33,"Questions and Answers"),vs(),ms(34,"div",87),ys(35,"input",88),vs(),vs(),vs(),vs(),na(36),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs(2);fi(1),ps("childItem",t),fi(13),ia("Reviews (",r.totalReviews,")"),fi(9),ps("innerHTML",t.description,Gr),fi(2),ps("innerHTML",t.details,Gr),fi(2),ps("childItem",t.store),fi(2),ps("childItem",t),fi(7),ia(" ",n?r.callback():""," ")}}function sw(t,e){if(1&t&&(ms(0,"div",6),ms(1,"div",7),ms(2,"div",8),ms(3,"figure"),ms(4,"div",9),ms(5,"div",10),hs(6,Zb,3,6,"div",11),vs(),vs(),vs(),ms(7,"div",12),hs(8,Xb,3,4,"div",11),vs(),vs(),hs(9,iw,69,20,"div",13),vs(),hs(10,ow,37,7,"div",14),vs()),2&t){const t=Cs();fi(6),ps("ngForOf",t.gallery[0]),fi(2),ps("ngForOf",t.gallery[0]),fi(1),ps("ngForOf",t.product),fi(1),ps("ngForOf",t.product)}}let aw=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.productsService=e,this.usersService=n,this.router=r,this.path=Rf,this.product=[],this.rating=[],this.reviews=[],this.price=[],this.preload=!1,this.render=!0,this.renderGallery=!0,this.countD=[],this.gallery=[],this.video=null,this.tags=null,this.offer=!1,this.quantity=1}ngOnInit(){this.preload=!0,this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{this.productsFnc(t)})}productsFnc(t){let e;this.product=[];let n=[];for(e in t)n.push(t[e]);n.forEach((t,e)=>{if(this.product.push(t),this.rating.push(qf(this.product[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.product[e])),""!=this.product[e].offer&&new Date<new Date(parseInt(JSON.parse(this.product[e].offer)[2].split("-")[0]),parseInt(JSON.parse(this.product[e].offer)[2].split("-")[1])-1,parseInt(JSON.parse(this.product[e].offer)[2].split("-")[2]))){this.offer=!0;const t=JSON.parse(this.product[e].offer)[2];this.countD.push(new Date(parseInt(t.split("-")[0]),parseInt(t.split("-")[1])-1,parseInt(t.split("-")[2])))}this.gallery.push(JSON.parse(this.product[e].gallery)),"youtube"==JSON.parse(this.product[e].video)[0]&&(this.video=`https://www.youtube.com/embed/${JSON.parse(this.product[e].video)[1]}?rel=0&autoplay=0 `),"vimeo"==JSON.parse(this.product[e].video)[0]&&(this.video="https://player.vimeo.com/video/"+JSON.parse(this.product[e].video)[1]),this.tags=this.product[e].tags.split(","),this.totalReviews=JSON.parse(this.product[e].reviews).length,this.preload=!1})}callback(){this.render&&(this.render=!1,$f(),Bf(),Hf(),Yf(),Zf(),jf(),Qf(),""!=$(".ps-product__variations").attr("specification")&&JSON.parse($(".ps-product__variations").attr("specification")).forEach((t,e)=>{let n=Object.keys(t).toString(),r=`<figure class='details${e}'>\n                            <figcaption>\n                                ${n}: <strong>Elije una opcion:</strong>                       \n                            </figcaption>\n                            <div class="d-flex">\n                            \n                            </div>\n                          </figure>`;$(".ps-product__variations").append(`\n              ${r}\n            `);for(const i in t[n])"Color"==n?$(`.details${e} .d-flex`).append(`\n\n                  <div class="rounded-circle mr-3 details ${n}"\n                  detailType="${n}" detailValue="${t[n][i]}"\n                  data-toggle="tooltip" title="${t[n][i]}" \n                  style="background-color: ${t[n][i]}; width: 30px; height: 30px; cursor: pointer;\n                  border:1px solid #bbb">\n                    \n                  </div>\n                `):$(`.details${e} .d-flex`).append(`\n\n                  <div class="py2 px-3 mr-3 details ${n}"\n                  detailType="${n}" detailValue="${t[n][i]}"\n                  data-toggle="tooltip" title="${t[n][i]}" style="cursor: pointer; border:1px solid #bbb"" >\n                    ${t[n][i]}\n                  </div>\n                `)}),$(document).on("click",".details",(function(){let t=$(".details."+$(this).attr("detailType"));for(let e=0;e<t.length;e++)$(t[e]).css({border:"1px solid #bbb"});if($(this).css({border:"4px solid #bbb"}),localStorage.getItem("details")){let t=JSON.parse(localStorage.getItem("details"));for(const e in t)t[e][$(this).attr("detailType")]=$(this).attr("detailValue"),localStorage.setItem("details",JSON.stringify(t))}else localStorage.setItem("details",`[{"${$(this).attr("detailType")}":"${$(this).attr("detailValue")}"}]`)})))}callbackGallery(){this.callbackGallery&&(this.renderGallery=!1,Uf())}addWishlist(t){this.usersService.addWishlist(t)}changeQuantity(t,e,n){let r=1;Number(t)>9&&(t=9),Number(t)<1&&(t=1),r="up"==n&&Number(t)<9?Number(t)+e:"down"==n&&Number(t)>1?Number(t)-e:Number(t),$(".quantity input").val(t),this.quantity=r}addShoppingCart(t,e,n){localStorage.getItem("details")&&(n=localStorage.getItem("details"));let r={product:t,unit:this.quantity,details:n,url:this.router.url};localStorage.removeItem("details"),this.usersService.addShoppingCart(r)}buyNow(t,e,n){localStorage.getItem("details")&&(n=localStorage.getItem("details"));let r={product:t,unit:this.quantity,details:n,url:"checkout"};localStorage.removeItem("details"),this.usersService.addShoppingCart(r)}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-product-left"]],decls:2,vars:2,consts:[["class","",4,"ngIf"],["class","ps-product--detail ps-product--fullwidth",4,"ngIf"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"ps-product--detail","ps-product--fullwidth"],[1,"ps-product__header"],["data-vertical","true",1,"ps-product__thumbnail"],[1,"ps-wrapper"],["data-arrow","true",1,"ps-product__gallery"],["class","item",4,"ngFor","ngForOf"],["data-item","4","data-md","4","data-sm","4","data-arrow","false",1,"ps-product__variants"],["class","ps-product__info",4,"ngFor","ngForOf"],["class","ps-product__content ps-tab-root",4,"ngFor","ngForOf"],[1,"item"],[3,"href"],["alt","",3,"src"],[1,"ps-product__info"],[1,"ps-product__meta"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"",3,"innerHTML"],[1,"ps-product__desc"],["href","shop-default.html",1,"mr-20"],["class","ps-tag--in-stock",4,"ngIf"],["class","ps-tag--out-stock",4,"ngIf"],[1,"ps-list--dot",3,"innerHTML"],["height","360","frameborder","0","allowfullscreen","",1,"mb-3"],[1,"ps-product__variations"],["class","ps-product__countdown",4,"ngIf"],[1,"ps-product__shopping"],[1,"form-group--number","quantity"],[1,"up",3,"click"],[1,"fa","fa-plus"],[1,"down",3,"click"],[1,"fa","fa-minus"],["type","number","value","1","min","1","max","9","step","1",1,"form-control","px-5",3,"change"],["quantity",""],[1,"ps-btn","ps-btn--black",2,"cursor","pointer",3,"click"],[1,"ps-btn",2,"cursor","pointer",3,"click"],[1,"ps-product__actions"],[2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__specification"],["href","#",1,"report"],[1,"categories"],[1,"tags"],[3,"href",4,"ngFor","ngForOf"],[1,"ps-product__sharing"],["href","#",1,"facebook"],[1,"fab","fa-facebook"],["href","#",1,"twitter"],[1,"fab","fa-twitter"],["href","#",1,"linkedin"],[1,"fab","fa-linkedin"],["href","#",1,"instagram"],[1,"fab","fa-instagram"],[3,"value"],[1,"ps-tag--in-stock"],[1,"ps-tag--out-stock"],[1,"ps-product__countdown"],[1,"ps-countdown"],[1,"days"],[1,"hours"],[1,"minutes"],[1,"seconds"],[1,"ps-product__progress-bar","ps-progress"],[1,"ps-progress__value"],[1,"ps-product__content","ps-tab-root"],[3,"childItem"],[1,"ps-tab-list"],[1,"active"],["href","#tab-1"],["href","#tab-2"],["href","#tab-3"],["href","#tab-4"],["href","#tab-5"],["href","#tab-6"],[1,"ps-tabs"],["id","tab-1",1,"ps-tab","active"],["id","tab-2",1,"ps-tab"],["id","tab-3",1,"ps-tab"],["id","tab-4",1,"ps-tab"],["id","tab-5",1,"ps-tab"],[1,"ps-block--questions-answers"],[1,"form-group"],["type","text","placeholder","Have a question? Search for answer?",1,"form-control"]],template:function(t,e){1&t&&(hs(0,Yb,5,0,"div",0),hs(1,sw,11,4,"div",1)),2&t&&(ps("ngIf",e.preload),fi(1),ps("ngIf",!e.preload))},directives:[ml,pl,Cd,Dd,Ub,$b,Kb],pipes:[Jb],styles:[""]}),t})();function uw(t,e){1&t&&(ms(0,"div",10),ms(1,"div",11),ms(2,"div",12),ms(3,"span",13),na(4,"Loading..."),vs(),vs(),vs(),vs())}function cw(t,e){if(1&t&&(ms(0,"option",37),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function lw(t,e){if(1&t){const t=bs();ms(0,"div",17),ms(1,"div",18),ms(2,"a",19),ys(3,"img",20),vs(),ys(4,"div",21),ms(5,"ul",22),ms(6,"li"),ms(7,"a",23),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addShoppingCart(n.url,1,[])})),ys(8,"i",24),vs(),vs(),ms(9,"li"),ms(10,"a",25),ys(11,"i",26),vs(),vs(),ms(12,"li"),ms(13,"a",27),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).addWishlist(n.url)})),ys(14,"i",28),vs(),vs(),vs(),vs(),ms(15,"div",29),ms(16,"a",30),na(17),vs(),ms(18,"div",31),ms(19,"a",32),na(20),vs(),ms(21,"div",33),ms(22,"select",34),hs(23,cw,2,2,"option",35),vs(),ms(24,"span"),na(25),vs(),vs(),ys(26,"div",21),vs(),ms(27,"div",36),ms(28,"a",32),na(29),vs(),ys(30,"div",21),vs(),vs(),na(31),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ra(t.store),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}function hw(t,e){if(1&t&&(ms(0,"aside",14),ms(1,"h3"),na(2,"Same store"),vs(),ms(3,"div",15),hs(4,lw,32,16,"div",16),vs(),vs()),2&t){const t=Cs();fi(4),ps("ngForOf",t.products)}}let dw=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.productsService=e,this.usersService=n,this.router=r,this.path=Rf,this.products=[],this.rating=[],this.reviews=[],this.price=[],this.preload=!1,this.render=!0}ngOnInit(){this.preload=!0,this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{for(const e in t)this.productsService.getFilterData("store",t[e].store).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.products=[];let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.sales-t.sales})),n.forEach((t,e)=>{e<4&&(this.products.push(t),this.rating.push(qf(this.products[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.products[e])),this.preload=!1)})}callback(){this.render&&(this.render=!1,setTimeout((function(){$f()}),1e3))}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-product-right"]],decls:21,vars:2,consts:[[1,"widget","widget_product","widget_features"],[1,"icon-network"],[1,"icon-3d-rotate"],[1,"icon-receipt"],[1,"icon-credit-card"],[1,"widget","widget_sell-on-site"],[1,"icon-store"],["href","#"],["class","",4,"ngIf"],["class","widget widget_same-brand",4,"ngIf"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"widget","widget_same-brand"],[1,"widget__content"],["class","ps-product",4,"ngFor","ngForOf"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[3,"innerHTML"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"ps-product__content","hover"],[3,"value"]],template:function(t,e){1&t&&(ms(0,"aside",0),ms(1,"p"),ys(2,"i",1),na(3," Shipping worldwide"),vs(),ms(4,"p"),ys(5,"i",2),na(6," Free 7-day return if eligible, so easy"),vs(),ms(7,"p"),ys(8,"i",3),na(9," Supplier give bills for this product."),vs(),ms(10,"p"),ys(11,"i",4),na(12," Pay online or when receiving goods"),vs(),vs(),ms(13,"aside",5),ms(14,"p"),ys(15,"i",6),na(16," Sell on MarketPlace?"),ms(17,"a",7),na(18," Register Now !"),vs(),vs(),vs(),hs(19,uw,5,0,"div",8),hs(20,hw,5,1,"aside",9)),2&t&&(fi(19),ps("ngIf",e.preload),fi(1),ps("ngIf",!e.preload))},directives:[ml,pl,Cd,Dd],styles:[""]}),t})();function fw(t,e){if(1&t&&(ms(0,"option",26),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function pw(t,e){if(1&t){const t=bs();ms(0,"div",5),ms(1,"div",6),ms(2,"div",7),ms(3,"a",8),ys(4,"img",9),vs(),ys(5,"div",10),ms(6,"ul",11),ms(7,"li"),ms(8,"a",12),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs().addShoppingCart(n.url,1,[])})),ys(9,"i",13),vs(),vs(),ms(10,"li"),ms(11,"a",14),ys(12,"i",15),vs(),vs(),ms(13,"li"),ms(14,"a",16),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs().addWishlist(n.url)})),ys(15,"i",17),vs(),vs(),vs(),vs(),ms(16,"div",18),ms(17,"a",19),na(18),vs(),ms(19,"div",20),ms(20,"a",21),na(21),vs(),ms(22,"div",22),ms(23,"select",23),hs(24,fw,2,2,"option",24),vs(),ms(25,"span"),na(26),vs(),vs(),ys(27,"div",10),vs(),ms(28,"div",25),ms(29,"a",21),na(30),vs(),ys(31,"div",10),vs(),vs(),vs(),na(32),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs();fi(3),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ra(t.store),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}let gw=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.productsService=e,this.usersService=n,this.router=r,this.path=Rf,this.products=[],this.rating=[],this.reviews=[],this.price=[],this.cargando=!1,this.render=!0}ngOnInit(){this.cargando=!0,this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{for(const e in t)this.productsService.getFilterData("sub_category",t[e].sub_category).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.products=[];let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.views-t.views})),n.forEach((t,e)=>{e<6&&(this.products.push(t),this.rating.push(qf(this.products[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.products[e])),this.cargando=!1)})}callback(){this.render&&(this.render=!1,setTimeout((function(){$f()}),1e3))}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-similar-bought"]],decls:7,vars:1,consts:[[1,"ps-section--default","ps-customer-bought"],[1,"ps-section__header"],[1,"ps-section__content"],[1,"row"],["class","col-lg-2 col-md-4 col-6 ",4,"ngFor","ngForOf"],[1,"col-lg-2","col-md-4","col-6"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[3,"innerHTML"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"ps-product__content","hover"],[3,"value"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"h3"),na(3,"Customers who bought this item also bought"),vs(),vs(),ms(4,"div",2),ms(5,"div",3),hs(6,pw,33,16,"div",4),vs(),vs(),vs()),2&t&&(fi(6),ps("ngForOf",e.products))},directives:[pl,Cd,Dd],styles:[""]}),t})();function mw(t,e){if(1&t&&(ms(0,"option",25),na(1),vs()),2&t){const t=e.index;ps("value",e.$implicit),fi(1),ra(t+1)}}function vw(t,e){if(1&t){const t=bs();ms(0,"div",5),ms(1,"div",6),ms(2,"a",7),ys(3,"img",8),vs(),ys(4,"div",9),ms(5,"ul",10),ms(6,"li"),ms(7,"a",11),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs().addShoppingCart(n.url,1,[])})),ys(8,"i",12),vs(),vs(),ms(9,"li"),ms(10,"a",13),ys(11,"i",14),vs(),vs(),ms(12,"li"),ms(13,"a",15),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs().addWishlist(n.url)})),ys(14,"i",16),vs(),vs(),vs(),vs(),ms(15,"div",17),ms(16,"a",18),na(17),vs(),ms(18,"div",19),ms(19,"a",20),na(20),vs(),ms(21,"div",21),ms(22,"select",22),hs(23,mw,2,2,"option",23),vs(),ms(24,"span"),na(25),vs(),vs(),ys(26,"div",9),vs(),ms(27,"div",24),ms(28,"a",20),na(29),vs(),ys(30,"div",9),vs(),vs(),na(31),vs()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs();fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",i.path,"img/products/",t.category,"/",t.image,"",zr),fi(1),ps("innerHTML",i.price[n][1],Gr),fi(6),ks("href","product/",t.url,"",zr),fi(7),ra(t.store),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(3),ps("ngForOf",i.reviews[n]),fi(2),ra(i.rating[n]),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(2),ks("href","product/",t.url,"",zr),fi(1),ra(t.name),fi(1),ps("innerHTML",i.price[n][0],Gr),fi(1),ia(" ",r?i.callback():""," ")}}let yw=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.productsService=e,this.usersService=n,this.router=r,this.path=Rf,this.products=[],this.rating=[],this.reviews=[],this.price=[],this.cargando=!1,this.render=!0}ngOnInit(){this.cargando=!0,this.productsService.getFilterData("url",this.activatedRoute.snapshot.params.param).subscribe(t=>{for(const e in t)this.productsService.getFilterData("category",t[e].category).subscribe(t=>{this.productsFnc(t)})})}productsFnc(t){let e;this.products=[];let n=[];for(e in t)n.push(t[e]);n.sort((function(t,e){return e.views-t.views})),n.forEach((t,e)=>{e<10&&(this.products.push(t),this.rating.push(qf(this.products[e])),this.reviews.push(Gf(this.rating[e])),this.price.push(zf(this.products[e])),this.cargando=!1)})}callback(){this.render&&(this.render=!1,Mf(),Vf(),setTimeout((function(){$f()}),1e3))}addWishlist(t){this.usersService.addWishlist(t)}addShoppingCart(t,e,n){this.usersService.addShoppingCart({product:t,unit:e,details:n,url:this.router.url})}}return t.\u0275fac=function(e){return new(e||t)(fs(qg),fs(kv),fs(Av),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-related-product"]],decls:7,vars:1,consts:[[1,"ps-section--default"],[1,"ps-section__header"],[1,"ps-section__content"],["data-owl-auto","true","data-owl-loop","true","data-owl-speed","10000","data-owl-gap","30","data-owl-nav","true","data-owl-dots","true","data-owl-item","6","data-owl-item-xs","2","data-owl-item-sm","2","data-owl-item-md","3","data-owl-item-lg","4","data-owl-item-xl","6","data-owl-duration","1000","data-owl-mousedrag","on",1,"ps-carousel--nav","owl-slider"],["class","ps-product",4,"ngFor","ngForOf"],[1,"ps-product"],[1,"ps-product__thumbnail"],[3,"href"],["alt","",3,"src"],[3,"innerHTML"],[1,"ps-product__actions"],["data-toggle","tooltip","data-placement","top","title","Add to cart",2,"cursor","pointer",3,"click"],[1,"icon-bag2"],["data-toggle","tooltip","data-placement","top","title","Quick View",3,"href"],[1,"icon-eye"],["data-toggle","tooltip","data-placement","top","title","Add to Whishlist",2,"cursor","pointer",3,"click"],[1,"icon-heart"],[1,"ps-product__container"],["href","#",1,"ps-product__vendor"],[1,"ps-product__content"],[1,"ps-product__title",3,"href"],[1,"ps-product__rating"],["data-read-only","true",1,"ps-rating"],[3,"value",4,"ngFor","ngForOf"],[1,"ps-product__content","hover"],[3,"value"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"h3"),na(3,"Related products"),vs(),vs(),ms(4,"div",2),ms(5,"div",3),hs(6,vw,32,16,"div",4),vs(),vs(),vs()),2&t&&(fi(6),ps("ngForOf",e.products))},directives:[pl,Cd,Dd],styles:[""]}),t})();const bw=[{path:"",component:Rb},{path:"products/:param",component:tb},{path:"product/:param",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-product"]],decls:11,vars:0,consts:[[1,"ps-page--product"],[1,"ps-container"],[1,"ps-page__container"],[1,"ps-page__left"],[1,"ps-page__right"]],template:function(t,e){1&t&&(ys(0,"app-call-to-action"),ys(1,"app-product-breadcrumb"),ms(2,"div",0),ms(3,"div",1),ms(4,"div",2),ms(5,"div",3),ys(6,"app-product-left"),vs(),ms(7,"div",4),ys(8,"app-product-right"),vs(),vs(),ys(9,"app-similar-bought"),ys(10,"app-related-product"),vs(),vs())},directives:[Mb,Vb,aw,dw,gw,yw],styles:[""]}),t})()},{path:"search/:param",component:db},{path:"login",component:Ny},{path:"register",component:Dy},{path:"shopping-cart",component:Gv},{path:"account",component:Ey,canActivate:[zv]},{path:"account/:param",component:Ey,canActivate:[zv]},{path:"checkout",component:jv,canActivate:[zv]},{path:"**",pathMatch:"full",component:eb}];let ww=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[yv.forRoot(bw)],yv]}),t})();function _w(t,e){if(1&t&&(ms(0,"div",2),ms(1,"div",3),ms(2,"div",4),ms(3,"h3"),na(4),vs(),ms(5,"figure"),ms(6,"p"),na(7),vs(),ms(8,"h4"),na(9),vs(),vs(),vs(),ms(10,"div",5),ms(11,"p"),na(12),ms(13,"span"),na(14),vs(),vs(),vs(),ms(15,"a",6),na(16),vs(),vs(),vs()),2&t){const t=Cs();n="background: url(",r=t.path,i="img/products/",o=t.category,s="/top/",a=t.top_banner["IMG tag"],u=")",zs(Zs,Hs,ls(Ye(),n,r,i,o,s,a,u),!1),fi(4),ra(t.top_banner["H3 tag"]),fi(3),ra(t.top_banner["P1 tag"]),fi(2),ra(t.top_banner["H4 tag"]),fi(3),ra(t.top_banner["P2 tag"]),fi(2),ra(t.top_banner["Span tag"]),fi(1),ks("routerLink","product/",t.url,""),fi(1),ra(t.top_banner["Button tag"])}var n,r,i,o,s,a,u}function Ew(t,e){1&t&&(ms(0,"div",7),ms(1,"div",8),ms(2,"div",9),ms(3,"span",10),na(4,"Loading..."),vs(),vs(),vs(),vs())}let Sw=(()=>{class t{constructor(t){this.productsService=t,this.path=Rf,this.top_banner=null,this.preload=!1,this.category=null,this.url=null}ngOnInit(){this.preload=!0,this.productsService.getData().subscribe(t=>{let e,n=0;for(e in t)n++;let r=Math.floor(Math.random()*n);this.top_banner=JSON.parse(t[Object.keys(t)[r]].top_banner),this.category=t[Object.keys(t)[r]].category,this.url=t[Object.keys(t)[r]].url,this.preload=!1})}}return t.\u0275fac=function(e){return new(e||t)(fs(kv))},t.\u0275cmp=ce({type:t,selectors:[["app-header-promotion"]],decls:2,vars:2,consts:[["class","ps-block--promotion-header bg--cover",3,"style",4,"ngIf"],["class","",4,"ngIf"],[1,"ps-block--promotion-header","bg--cover"],[1,"container"],[1,"ps-block__left"],[1,"ps-block__center"],[1,"ps-btn","ps-btn--sm",3,"routerLink"],[1,""],[1,"text-center"],["role","status",1,"spinner-grow",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(hs(0,_w,17,12,"div",0),hs(1,Ew,5,0,"div",1)),2&t&&(ps("ngIf",!e.preload&&null!=e.top_banner),fi(1),ps("ngIf",e.preload&&null==e.top_banner))},directives:[ml,sv],styles:[""]}),t})();function Iw(t,e){if(1&t&&(ms(0,"div",49),ms(1,"h4"),na(2),ys(3,"span",50),vs(),ys(4,"ul",51),vs()),2&t){const t=e.$implicit;fi(2),ia(" ",t," "),fi(2),us("titleList",t)}}function Cw(t,e){if(1&t&&(ms(0,"li",45),ms(1,"a",46),ys(2,"i"),na(3),vs(),ms(4,"div",47),hs(5,Iw,5,2,"div",48),vs(),na(6),vs()),2&t){const t=e.$implicit,n=e.index,r=e.last,i=Cs();fi(1),ks("routerLink","products/",t.url,""),fi(1),qs(t.icon),fi(1),ia(" ",t.name," "),fi(2),ps("ngForOf",i.arrayTitleList[n]),fi(1),ia(" ",r?i.callback():""," ")}}function Tw(t,e){if(1&t){const t=bs();ms(0,"div",59),ms(1,"div",60),ms(2,"a",61),ys(3,"img",15),vs(),vs(),ms(4,"div",62),ms(5,"a",63),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).removeProduct(n.url,n.listDetails)})),ys(6,"i",64),vs(),ms(7,"a",61),na(8),vs(),ys(9,"div",65),ms(10,"small",66),na(11," Envio: $"),ms(12,"span",67),na(13),vs(),na(14,", Cant: "),ms(15,"span",68),na(16),vs(),ys(17,"span",69),vs(),vs(),na(18),vs()}if(2&t){const t=e.$implicit,n=e.last,r=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(4),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",t.details,Gr),fi(4),ra(t.shipping),fi(3),ra(t.quantity),fi(1),ps("innerHTML",t.price,Gr),fi(1),ia(" ",n?r.callbackShopping():""," ")}}function kw(t,e){if(1&t&&(ms(0,"div",52),ms(1,"div",53),hs(2,Tw,19,11,"div",54),vs(),ms(3,"div",55),ys(4,"div",56),ms(5,"figure"),ms(6,"a",57),na(7,"View Cart"),vs(),ms(8,"a",58),na(9,"Checkout"),vs(),vs(),vs(),vs()),2&t){const t=Cs();fi(2),ps("ngForOf",t.shoppingCart),fi(2),ps("innerHTML",t.subTotal,Gr)}}function Aw(t,e){1&t&&(ms(0,"div",70),ms(1,"div",71),ys(2,"i",72),vs(),ms(3,"div",73),ms(4,"a",74),na(5,"Login"),vs(),ms(6,"a",75),na(7,"Register"),vs(),vs(),vs())}function Dw(t,e){if(1&t&&(ms(0,"div",70),ms(1,"div",76),ms(2,"a",77),ys(3,"div",78),vs(),vs(),ms(4,"div",73),ms(5,"a",77),na(6,"My account"),vs(),vs(),vs()),2&t){const t=Cs();fi(3),ps("innerHTML",t.picture,Gr)}}let xw=(()=>{class t{constructor(t,e,n,r,i){this.categoriesService=t,this.subCategoriesService=e,this.usersService=n,this.productsService=r,this.router=i,this.path=Rf,this.categories=null,this.arrayTitleList=[],this.render=!0,this.authValidate=!1,this.wishlist=0,this.shoppingCart=[],this.totalShoppingCart=0,this.renderShopping=!0,this.subTotal='<h3>Sub Total:<strong class="subTotalHeader"><div class="spinner-border"></div></strong></h3>'}ngOnInit(){if(this.usersService.authActivate().then(t=>{t&&(this.authValidate=!0,this.usersService.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(t=>{for(const e in t)null!=t[e].wishlist&&(this.wishlist=Number(JSON.parse(t[e].wishlist).length)),this.picture=null!=t[e].picture?"direct"!=t[e].method?`<img src="${t[e].picture}" class="img-fluid rounded-circle ml-auto">`:`<img src="assets/img/users/${t[e].username.toLowerCase()}/${t[e].picture}" class="img-fluid rounded-circle ml-auto">`:'<i class="icon-user"></i>'}))}),this.categoriesService.getData().subscribe(t=>{let e;for(e in this.categories=t,t)this.arrayTitleList.push(JSON.parse(t[e].title_list))}),localStorage.getItem("list")){let t=JSON.parse(localStorage.getItem("list"));this.totalShoppingCart=t.length;for(const e in t)this.productsService.getFilterData("url",t[e].product).subscribe(n=>{for(const r in n){let i='<div class="list-details small text-seccondary">';if(t[e].details.length>0){let n=JSON.parse(t[e].details);for(const t in n){let e=Object.keys(n[t]);for(const r in e)i+=`<div>${e[r]}: ${n[t][e[r]]}</div>`}}else if(""!=n[r].specification){let t=JSON.parse(n[r].specification);for(const e in t){let n=Object.keys(t[e]).toString();i+=`<div>${n}: ${t[e][n][0]}</div>`}}i+="</div>",this.shoppingCart.push({url:n[r].url,name:n[r].name,category:n[r].category,image:n[r].image,delivery_time:n[r].delivery_time,quantity:t[e].unit,price:zf(n[r])[0],shipping:Number(n[r].shipping)*Number(t[e].unit),details:i,listDetails:t[e].details})}})}}goSearch(t){0!=t.length&&null!=Jf(t)&&window.open("search/"+Jf(t),"_top")}callback(){if(this.render){this.render=!1;let t=[];this.arrayTitleList.forEach(e=>{for(let n=0;n<e.length;n++)this.subCategoriesService.getFilterData("title_list",e[n]).subscribe(r=>{let i,o;t.push(r);let s=[];for(i in t)for(o in t[i])s.push({titleList:t[i][o].title_list,subcategory:t[i][o].name,url:t[i][o].url});for(i in s)e[n]==s[i].titleList&&$(`[titleList='${e[n]}']`).append(`<li>\n\t\t\t\t\t\t\t\t\t\t<a href="products/${s[i].url}">${s[i].subcategory}</a>\n\t\t\t\t\t\t\t\t\t</li>`)})})}}callbackShopping(){if(this.renderShopping){this.renderShopping=!1;let t=$(".ps-product--cart-mobile");setTimeout((function(){let t=$(".pShoppingHeader .end-price"),e=$(".qShoppingHeader"),n=$(".sShoppingHeader"),r=0;for(let i=0;i<t.length;i++){let o=Number($(t[i]).html())+Number($(n[i]).html());r+=Number($(e[i]).html()*o)}$(".subTotalHeader").html("$"+r.toFixed(2))}),500*t.length)}}removeProduct(t,e){if(localStorage.getItem("list")){let n=JSON.parse(localStorage.getItem("list"));n.forEach((r,i)=>{r.product==t&&r.details==e.toString()&&n.splice(i,1)}),localStorage.setItem("list",JSON.stringify(n)),Xf("success","product removed",this.router.url)}}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv),fs(Py),fs(Av),fs(kv),fs(ov))},t.\u0275cmp=ce({type:t,selectors:[["app-header"]],decls:86,vars:9,consts:[["data-sticky","true",1,"header","header--standard","header--market-place-4"],[1,"header__top"],[1,"container"],[1,"header__left"],[1,"d-flex","justify-content-center"],["href","#","target","_blank"],[1,"fab","fa-facebook-f","mr-4"],[1,"fab","fa-instagram","mr-4"],[1,"fab","fa-twitter","mr-4"],[1,"fab","fa-youtube","mr-4"],[1,"header__right"],[1,"header__top-links"],["href","#"],[1,"icon-telephone"],[1,"ps-dropdown","language"],["alt","",3,"src"],[1,"ps-dropdown-menu"],[1,"header__content"],[1,"header__content-left"],["routerLink","/",1,"ps-logo"],[1,"menu--product-categories"],[1,"menu__toggle"],[1,"icon-menu"],[1,"menu__content"],[1,"menu--dropdown"],["class","menu-item-has-children has-mega-menu",4,"ngFor","ngForOf"],[1,"header__content-center"],[1,"ps-form--quick-search"],[1,"form-group--icon"],[1,"icon-chevron-down"],[1,"form-control"],["value","1"],["type","text","placeholder","I'm shopping for...",1,"form-control",3,"keyup.enter"],["search",""],["type","button",3,"click"],[1,"header__content-right"],[1,"header__actions"],["routerLink","account",1,"header__extra"],[1,"icon-heart"],[1,"totalWishlist"],[1,"ps-cart--mini"],["href","#",1,"header__extra"],[1,"icon-bag2"],["class","ps-cart__content",4,"ngIf"],["class","ps-block--user-header",4,"ngIf"],[1,"menu-item-has-children","has-mega-menu"],["target","_top",3,"routerLink"],[1,"mega-menu"],["class","mega-menu__column",4,"ngFor","ngForOf"],[1,"mega-menu__column"],[1,"sub-toggle"],[1,"mega-menu__list"],[1,"ps-cart__content"],[1,"ps-cart__items"],["class","ps-product--cart-mobile",4,"ngFor","ngForOf"],[1,"ps-cart__footer"],[3,"innerHTML"],["routerLink","shopping-cart",1,"ps-btn"],["routerLink","checkout",1,"ps-btn"],[1,"ps-product--cart-mobile"],[1,"ps-product__thumbnail"],[3,"href"],[1,"ps-product__content"],[1,"ps-product__remove",2,"cursor","pointer",3,"click"],[1,"icon-cross"],[1,"",3,"innerHTML"],[1,"ps-product","text-left","p-0","m-0"],[1,"sShoppingHeader"],[1,"qShoppingHeader"],[1,"pShoppingHeader",3,"innerHTML"],[1,"ps-block--user-header"],[1,"ps-block__left"],[1,"icon-user"],[1,"ps-block__right"],["routerLink","login"],["routerLink","register"],[1,"ps-block__left","text-right"],["routerLink","account"],[2,"width","40px",3,"innerHTML"]],template:function(t,e){if(1&t){const t=bs();ms(0,"header",0),ms(1,"div",1),ms(2,"div",2),ms(3,"div",3),ms(4,"ul",4),ms(5,"li"),ms(6,"a",5),ys(7,"i",6),vs(),vs(),ms(8,"li"),ms(9,"a",5),ys(10,"i",7),vs(),vs(),ms(11,"li"),ms(12,"a",5),ys(13,"i",8),vs(),vs(),ms(14,"li"),ms(15,"a",5),ys(16,"i",9),vs(),vs(),vs(),vs(),ms(17,"div",10),ms(18,"ul",11),ms(19,"li"),ms(20,"a",12),na(21,"Sell on MarketPlace"),vs(),vs(),ms(22,"li"),ms(23,"a",12),na(24,"Store List"),vs(),vs(),ms(25,"li"),ys(26,"i",13),na(27," Hotline:"),ms(28,"strong"),na(29," 1-800-234-5678"),vs(),vs(),ms(30,"li"),ms(31,"div",14),ms(32,"a",12),ys(33,"img",15),na(34,"English"),vs(),ms(35,"ul",16),ms(36,"li"),ms(37,"a",12),ys(38,"img",15),na(39," Spanish"),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),ms(40,"div",17),ms(41,"div",2),ms(42,"div",18),ms(43,"a",19),ys(44,"img",15),vs(),ms(45,"div",20),ms(46,"div",21),ys(47,"i",22),ms(48,"span"),na(49," Shop by Department"),vs(),vs(),ms(50,"div",23),ms(51,"ul",24),hs(52,Cw,7,7,"li",25),vs(),vs(),vs(),vs(),ms(53,"div",26),ms(54,"form",27),ms(55,"div",28),ys(56,"i",29),ms(57,"select",30),ms(58,"option",31),na(59,"All"),vs(),ms(60,"option",31),na(61,"Smartphone"),vs(),ms(62,"option",31),na(63,"Sounds"),vs(),ms(64,"option",31),na(65,"Technology toys"),vs(),vs(),vs(),ms(66,"input",32,33),Es("keyup.enter",(function(){Xe(t);const n=ds(67);return e.goSearch(n.value)})),vs(),ms(68,"button",34),Es("click",(function(){Xe(t);const n=ds(67);return e.goSearch(n.value)})),na(69,"Search"),vs(),vs(),vs(),ms(70,"div",35),ms(71,"div",36),ms(72,"a",37),ys(73,"i",38),ms(74,"span"),ms(75,"i",39),na(76),vs(),vs(),vs(),ms(77,"div",40),ms(78,"a",41),ys(79,"i",42),ms(80,"span"),ms(81,"i"),na(82),vs(),vs(),vs(),hs(83,kw,10,2,"div",43),vs(),hs(84,Aw,8,0,"div",44),hs(85,Dw,7,1,"div",44),vs(),vs(),vs(),vs(),vs()}2&t&&(fi(33),ks("src","",e.path,"img/template/en.png",zr),fi(5),ks("src","",e.path,"img/template/es.png",zr),fi(6),ks("src","",e.path,"img/template/logo_light.png",zr),fi(8),ps("ngForOf",e.categories),fi(24),ia(" ",e.wishlist," "),fi(6),ra(e.totalShoppingCart),fi(1),ps("ngIf",e.shoppingCart.length>0),fi(1),ps("ngIf",!e.authValidate),fi(1),ps("ngIf",e.authValidate))},directives:[sv,pl,ef,ed,zd,Cd,Dd,ml],styles:[""]}),t})();function Ow(t,e){if(1&t&&(ms(0,"li",44),ms(1,"a",45),ms(2,"strong"),na(3),vs(),vs(),ms(4,"span",46),ys(5,"i",47),vs(),ys(6,"ul",48),na(7),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs();fi(1),ks("routerLink","products/",t.url,""),fi(2),ra(t.name),fi(3),us("category",t.name),fi(1),ia(" ",n?r.callback():""," ")}}function Nw(t,e){if(1&t){const t=bs();ms(0,"div",56),ms(1,"div",57),ms(2,"a",58),ys(3,"img",14),vs(),vs(),ms(4,"div",59),ms(5,"a",60),Es("click",(function(){Xe(t);const n=e.$implicit;return Cs(2).removeProduct(n.url,n.listDetails)})),ys(6,"i",61),vs(),ms(7,"a",58),na(8),vs(),ys(9,"div",53),ms(10,"small",62),na(11," Envio: $"),ms(12,"span",63),na(13),vs(),na(14,", Cant: "),ms(15,"span",64),na(16),vs(),ys(17,"span",65),vs(),vs(),na(18),vs()}if(2&t){const t=e.$implicit,n=e.last,r=Cs(2);fi(2),ks("href","product/",t.url,"",zr),fi(1),Ds("src","",r.path,"img/products/",t.category,"/",t.image,"",zr),fi(4),ks("href","product/",t.url,"",zr),fi(1),ia(" ",t.name," "),fi(1),ps("innerHTML",t.details,Gr),fi(4),ra(t.shipping),fi(3),ra(t.quantity),fi(1),ps("innerHTML",t.price,Gr),fi(1),ia(" ",n?r.callbackShopping():""," ")}}function Pw(t,e){if(1&t&&(ms(0,"div",49),ms(1,"div",50),hs(2,Nw,19,11,"div",51),vs(),ms(3,"div",52),ys(4,"div",53),ms(5,"figure"),ms(6,"a",54),na(7,"View Cart"),vs(),ms(8,"a",55),na(9,"Checkout"),vs(),vs(),vs(),vs()),2&t){const t=Cs();fi(2),ps("ngForOf",t.shoppingCart),fi(2),ps("innerHTML",t.subTotals,Gr)}}function Fw(t,e){1&t&&(ms(0,"div",66),ms(1,"div",67),ys(2,"i",68),vs(),ms(3,"div",69),ms(4,"a",70),na(5,"Login"),vs(),ms(6,"a",71),na(7,"Register"),vs(),vs(),vs())}function Rw(t,e){if(1&t&&(ms(0,"div",66),ms(1,"div",72),ms(2,"a",73),ys(3,"div",74),vs(),vs(),ms(4,"div",69),ms(5,"a",73),na(6,"My account"),vs(),vs(),vs()),2&t){const t=Cs();fi(3),ps("innerHTML",t.picture,Gr)}}let Lw=(()=>{class t{constructor(t,e,n,r,i){this.categoriesService=t,this.subCategoriesService=e,this.usersService=n,this.router=r,this.productsService=i,this.path=Rf,this.categories=null,this.render=!0,this.categoriesList=[],this.authValidate=!1,this.shoppingCart=[],this.totalShoppingCart=0,this.renderShopping=!0,this.subTotals='<h3>Sub Total:<strong class="subTotalHeader"><div class="spinner-border"></div></strong></h3>'}ngOnInit(){if(this.usersService.authActivate().then(t=>{t&&(this.authValidate=!0,this.usersService.getFilterData("idToken",localStorage.getItem("idToken")).subscribe(t=>{for(const e in t)this.picture=null!=t[e].picture?"direct"!=t[e].method?`<img src="${t[e].picture}" class="img-fluid rounded-circle ml-auto">`:`<img src="assets/img/users/${t[e].username.toLowerCase()}/${t[e].picture}" class="img-fluid rounded-circle ml-auto">`:'<i src="icon-user"></i>'}))}),this.categoriesService.getData().subscribe(t=>{let e;for(e in this.categories=t,t)this.categoriesList.push(t[e].name)}),$(document).on("click",".sub-toggle",(function(){$(this).parent().children("ul").toggle()})),localStorage.getItem("list")){let t=JSON.parse(localStorage.getItem("list"));this.totalShoppingCart=t.length;for(const e in t)this.productsService.getFilterData("url",t[e].product).subscribe(n=>{for(const r in n){let i='<div class="list-details small text-seccondary">';if(t[e].details.length>0){let n=JSON.parse(t[e].details);for(const t in n){let e=Object.keys(n[t]);for(const r in e)i+=`<div>${e[r]}: ${n[t][e[r]]}</div>`}}else if(""!=n[r].specification){let t=JSON.parse(n[r].specification);for(const e in t){let n=Object.keys(t[e]).toString();i+=`<div>${n}: ${t[e][n][0]}</div>`}}i+="</div>",this.shoppingCart.push({url:n[r].url,name:n[r].name,category:n[r].category,image:n[r].image,delivery_time:n[r].delivery_time,quantity:t[e].unit,price:zf(n[r])[0],shipping:Number(n[r].shipping)*Number(t[e].unit),details:i,listDetails:t[e].details})}})}}goSearch(t){0!=t.length&&null!=Jf(t)&&window.open("search/"+Jf(t),"_top")}callback(){if(this.render){this.render=!1;let t=[];this.categoriesList.forEach(e=>{this.subCategoriesService.getFilterData("category",e).subscribe(n=>{let r;for(r in n)t.push({category:n[r].category,subcategory:n[r].name,url:n[r].url});for(r in t)e==t[r].category&&$(`[category='${e}']`).append(`<li class="current-menu-item ">\n\t\t                <a href="products/${t[r].url}">${t[r].subcategory}</a>\n\t\t              </li>`)})})}}callbackShopping(){if(this.renderShopping){this.renderShopping=!1;let t=$(".ps-product--cart-mobile");setTimeout((function(){let t=$(".pShoppingHeaderM .end-price"),e=$(".qShoppingHeaderM"),n=$(".sShoppingHeaderM"),r=0;for(let i=0;i<t.length;i++){let o=Number($(t[i]).html())+Number($(n[i]).html());r+=Number($(e[i]).html()*o)}$(".subTotalHeader").html("$"+r.toFixed(2))}),500*t.length)}}removeProduct(t,e){if(localStorage.getItem("list")){let n=JSON.parse(localStorage.getItem("list"));n.forEach((r,i)=>{r.product==t&&r.details==e.toString()&&n.splice(i,1)}),localStorage.setItem("list",JSON.stringify(n)),Xf("success","product removed",this.router.url)}}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv),fs(Py),fs(Av),fs(ov),fs(kv))},t.\u0275cmp=ce({type:t,selectors:[["app-header-mobile"]],decls:73,vars:8,consts:[["data-sticky","true",1,"header","header--mobile"],[1,"header__top"],[1,"header__left"],[1,"d-flex","justify-content-center"],["href","#","target","_blank"],[1,"fab","fa-facebook-f","mr-4"],[1,"fab","fa-instagram","mr-4"],[1,"fab","fa-twitter","mr-4"],[1,"fab","fa-youtube","mr-4"],[1,"header__right"],[1,"navigation__extra"],["href","#"],[1,"icon-telephone"],[1,"ps-dropdown","language"],["alt","",3,"src"],[1,"ps-dropdown-menu"],[1,"navigation--mobile"],[1,"navigation__left"],[1,"menu--product-categories"],["id","filter-sidebar",1,"ps-shop__filter-mb","mt-4"],[1,"icon-menu"],[1,"ps-filter--sidebar"],[1,"ps-filter__header"],["href","#",1,"ps-btn--close","ps-btn--no-boder"],[1,"ps-filter__content"],[1,"widget","widget_shop"],[1,"ps-list--categories"],["class","current-menu-item menu-item-has-children",4,"ngFor","ngForOf"],["routerLink","/",1,"ps-logo","pl-3","pl-sm-5"],["alt","",1,"pt-3",3,"src"],[1,"navigation__right"],[1,"header__actions"],[1,"ps-cart--mini"],["routerLink","shoppingCart",1,"header__extra"],[1,"icon-bag2"],["class","ps-cart__content",4,"ngIf"],["class","ps-block--user-header",4,"ngIf"],[1,"ps-search--mobile"],[1,"ps-form--search-mobile"],[1,"form-group--nest"],["type","text","placeholder","Search something...",1,"form-control",3,"keyup.enter"],["search",""],["type","button",3,"click"],[1,"icon-magnifier"],[1,"current-menu-item","menu-item-has-children"],[3,"routerLink"],[1,"sub-toggle"],[1,"fa","fa-angle-down"],[1,"sub-menu"],[1,"ps-cart__content"],[1,"ps-cart__items"],["class","ps-product--cart-mobile",4,"ngFor","ngForOf"],[1,"ps-cart__footer"],[1,"",3,"innerHTML"],["href","shopping-cart",1,"ps-btn"],["href","checkout",1,"ps-btn"],[1,"ps-product--cart-mobile"],[1,"ps-product__thumbnail"],[3,"href"],[1,"ps-product__content","text-left"],[1,"ps-product__remove",2,"cursor","pointer",3,"click"],[1,"icon-cross"],[1,"ps-product","text-left","p-0","m-0"],[1,"sShoppingHeaderM"],[1,"qShoppingHeaderM"],[1,"pShoppingHeaderM",3,"innerHTML"],[1,"ps-block--user-header"],[1,"ps-block__left"],[1,"icon-user"],[1,"ps-block__right"],["routerLink","login"],["routerLink","register"],[1,"ps-block__left","text-right"],["routerLink","account"],[2,"width","40px",3,"innerHTML"]],template:function(t,e){if(1&t){const t=bs();ms(0,"header",0),ms(1,"div",1),ms(2,"div",2),ms(3,"ul",3),ms(4,"li"),ms(5,"a",4),ys(6,"i",5),vs(),vs(),ms(7,"li"),ms(8,"a",4),ys(9,"i",6),vs(),vs(),ms(10,"li"),ms(11,"a",4),ys(12,"i",7),vs(),vs(),ms(13,"li"),ms(14,"a",4),ys(15,"i",8),vs(),vs(),vs(),vs(),ms(16,"div",9),ms(17,"ul",10),ms(18,"li"),ms(19,"a",11),na(20,"Sell on MarketPlace"),vs(),vs(),ms(21,"li"),ms(22,"a",11),na(23,"Store List"),vs(),vs(),ms(24,"li"),ys(25,"i",12),na(26," Hotline:"),ms(27,"strong"),na(28," 1-800-234-5678"),vs(),vs(),ms(29,"li"),ms(30,"div",13),ms(31,"a",11),ys(32,"img",14),na(33,"English"),vs(),ms(34,"ul",15),ms(35,"li"),ms(36,"a",11),ys(37,"img",14),na(38," Espa\xf1ol"),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs(),ms(39,"div",16),ms(40,"div",17),ms(41,"div",18),ms(42,"div",19),ys(43,"i",20),vs(),ms(44,"div",21),ms(45,"div",22),ms(46,"h3"),na(47,"Categories"),vs(),ys(48,"a",23),vs(),ms(49,"div",24),ms(50,"aside",25),ms(51,"ul",26),hs(52,Ow,8,4,"li",27),vs(),vs(),vs(),vs(),vs(),ms(53,"a",28),ys(54,"img",29),vs(),vs(),ms(55,"div",30),ms(56,"div",31),ms(57,"div",32),ms(58,"a",33),ys(59,"i",34),ms(60,"span"),ms(61,"i"),na(62),vs(),vs(),vs(),hs(63,Pw,10,2,"div",35),vs(),hs(64,Fw,8,0,"div",36),hs(65,Rw,7,1,"div",36),vs(),vs(),vs(),ms(66,"div",37),ms(67,"form",38),ms(68,"div",39),ms(69,"input",40,41),Es("keyup.enter",(function(){Xe(t);const n=ds(70);return e.goSearch(n.value)})),vs(),ms(71,"button",42),Es("click",(function(){Xe(t);const n=ds(70);return e.goSearch(n.value)})),ys(72,"i",43),vs(),vs(),vs(),vs(),vs()}2&t&&(fi(32),ks("src","",e.path,"img/template/en.png",zr),fi(5),ks("src","",e.path,"img/template/es.png",zr),fi(15),ps("ngForOf",e.categories),fi(2),ks("src","",e.path,"img/template/logo_light.png",zr),fi(8),ra(e.totalShoppingCart),fi(1),ps("ngIf",e.shoppingCart.length>0),fi(1),ps("ngIf",!e.authValidate),fi(1),ps("ngIf",e.authValidate))},directives:[pl,sv,ml,ef,ed,zd],styles:[""]}),t})(),Mw=(()=>{class t{constructor(){this.path=Rf}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-newletter"]],decls:16,vars:0,consts:[[1,"ps-newsletter"],[1,"container"],["action","do_action","method","post",1,"ps-form--newsletter"],[1,"row"],[1,"col-xl-5","col-12"],[1,"ps-form__left"],[1,"col-xl-7","col-12"],[1,"ps-form__right"],[1,"form-group--nest"],["type","email","placeholder","Email address",1,"form-control"],[1,"ps-btn"]],template:function(t,e){1&t&&(ms(0,"div",0),ms(1,"div",1),ms(2,"form",2),ms(3,"div",3),ms(4,"div",4),ms(5,"div",5),ms(6,"h3"),na(7,"Newsletter"),vs(),ms(8,"p"),na(9,"Subcribe to get information about products and coupons"),vs(),vs(),vs(),ms(10,"div",6),ms(11,"div",7),ms(12,"div",8),ys(13,"input",9),ms(14,"button",10),na(15,"Subscribe"),vs(),vs(),vs(),vs(),vs(),vs(),vs(),vs())},directives:[ef,ed,zd],styles:[""]}),t})();function Vw(t,e){if(1&t&&(ms(0,"p"),ms(1,"strong"),na(2),vs(),na(3),vs()),2&t){const t=e.$implicit,n=e.last,r=Cs();fi(1),us("category-footer",t.name),fi(1),ra(t.name),fi(1),ia(" ",n?r.callback():""," ")}}let jw=(()=>{class t{constructor(t,e){this.categoriesService=t,this.subCategoriesService=e,this.path=Rf,this.categories=null,this.render=!0,this.categoriesList=[]}ngOnInit(){this.categoriesService.getData().subscribe(t=>{let e;for(e in this.categories=t,t)this.categoriesList.push(t[e].name)})}callback(){if(this.render){this.render=!1;let t=[];this.categoriesList.forEach(e=>{this.subCategoriesService.getFilterData("category",e).subscribe(n=>{let r;for(r in n)t.push({category:n[r].category,subcategory:n[r].name,url:n[r].url});for(r in t)e==t[r].category&&$(`[category-footer='${e}']`).after(`<a href="products/${t[r].url}">${t[r].subcategory}</a>`)})})}}}return t.\u0275fac=function(e){return new(e||t)(fs(Uv),fs(Py))},t.\u0275cmp=ce({type:t,selectors:[["app-footer"]],decls:98,vars:6,consts:[[1,"ps-footer"],[1,"container"],[1,"ps-footer__widgets"],[1,"widget","widget_footer","widget_contact-us"],[1,"widget-title"],[1,"widget_content"],["href","mailto:contact@marketplace.co"],[1,"ps-list--social"],["href","#",1,"facebook"],[1,"fab","fa-facebook-f"],["href","#",1,"twitter"],[1,"fab","fa-twitter"],["href","#",1,"google-plus"],[1,"fab","fa-youtube"],["href","#",1,"instagram"],[1,"fab","fa-instagram"],[1,"widget","widget_footer"],[1,"ps-list--link"],["href","#"],["href","faqs.html"],["href","about-us.html"],["href","contact-us.html"],["href","checkout.html"],["href","my-account.html"],["href","shop-default.html"],[1,"ps-footer__links"],[4,"ngFor","ngForOf"],[1,"ps-footer__copyright"],["alt","",3,"src"]],template:function(t,e){1&t&&(ms(0,"footer",0),ms(1,"div",1),ms(2,"div",2),ms(3,"aside",3),ms(4,"h4",4),na(5,"Contact us"),vs(),ms(6,"div",5),ms(7,"p"),na(8,"Call us 24/7"),vs(),ms(9,"h3"),na(10,"1800 97 97 69"),vs(),ms(11,"p"),na(12," 502 New Design Str, Melbourne, Australia "),ys(13,"br"),ms(14,"a",6),na(15,"contact@marketplace.co"),vs(),vs(),ms(16,"ul",7),ms(17,"li"),ms(18,"a",8),ys(19,"i",9),vs(),vs(),ms(20,"li"),ms(21,"a",10),ys(22,"i",11),vs(),vs(),ms(23,"li"),ms(24,"a",12),ys(25,"i",13),vs(),vs(),ms(26,"li"),ms(27,"a",14),ys(28,"i",15),vs(),vs(),vs(),vs(),vs(),ms(29,"aside",16),ms(30,"h4",4),na(31,"Quick links"),vs(),ms(32,"ul",17),ms(33,"li"),ms(34,"a",18),na(35,"Policy"),vs(),vs(),ms(36,"li"),ms(37,"a",18),na(38,"Term & Condition"),vs(),vs(),ms(39,"li"),ms(40,"a",18),na(41,"Shipping"),vs(),vs(),ms(42,"li"),ms(43,"a",18),na(44,"Return"),vs(),vs(),ms(45,"li"),ms(46,"a",19),na(47,"FAQs"),vs(),vs(),vs(),vs(),ms(48,"aside",16),ms(49,"h4",4),na(50,"Company"),vs(),ms(51,"ul",17),ms(52,"li"),ms(53,"a",20),na(54,"About Us"),vs(),vs(),ms(55,"li"),ms(56,"a",18),na(57,"Affilate"),vs(),vs(),ms(58,"li"),ms(59,"a",18),na(60,"Career"),vs(),vs(),ms(61,"li"),ms(62,"a",21),na(63,"Contact"),vs(),vs(),vs(),vs(),ms(64,"aside",16),ms(65,"h4",4),na(66,"Bussiness"),vs(),ms(67,"ul",17),ms(68,"li"),ms(69,"a",18),na(70,"Our Press"),vs(),vs(),ms(71,"li"),ms(72,"a",22),na(73,"Checkout"),vs(),vs(),ms(74,"li"),ms(75,"a",23),na(76,"My account"),vs(),vs(),ms(77,"li"),ms(78,"a",24),na(79,"Shop"),vs(),vs(),vs(),vs(),vs(),ms(80,"div",25),hs(81,Vw,4,3,"p",26),vs(),ms(82,"div",27),ms(83,"p"),na(84,"\xa9 2020 MarketPlace. All Rights Reserved"),vs(),ms(85,"p"),ms(86,"span"),na(87,"We Using Safe Payment For:"),vs(),ms(88,"a",18),ys(89,"img",28),vs(),ms(90,"a",18),ys(91,"img",28),vs(),ms(92,"a",18),ys(93,"img",28),vs(),ms(94,"a",18),ys(95,"img",28),vs(),ms(96,"a",18),ys(97,"img",28),vs(),vs(),vs(),vs(),vs()),2&t&&(fi(81),ps("ngForOf",e.categories),fi(8),ks("src","",e.path,"img/payment-method/1.jpg",zr),fi(2),ks("src","",e.path,"img/payment-method/2.jpg",zr),fi(2),ks("src","",e.path,"img/payment-method/3.jpg",zr),fi(2),ks("src","",e.path,"img/payment-method/4.jpg",zr),fi(2),ks("src","",e.path,"img/payment-method/5.jpg",zr))},directives:[pl],styles:[""]}),t})(),Uw=(()=>{class t{constructor(){this.title="sistema-frm"}ngOnInit(){!function(t){/iPad|iPhone|iPod/.test(navigator.userAgent)&&window;var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};t((function(){var n,r,i,o,s,a,u;t("[data-background]").each((function(){if(t(this).attr("data-background")){var e=t(this).attr("data-background");t(this).css({background:"url("+e+")"})}})),n=t(".navigation--sidebar"),r=t(".ps-filter--sidebar"),t(".menu-toggle-open").on("click",(function(e){e.preventDefault(),t(this).toggleClass("active"),n.toggleClass("active"),t(".ps-site-overlay").toggleClass("active")})),t(".ps-toggle--sidebar").on("click",(function(e){e.preventDefault();var n=t(this).attr("href");t(this).toggleClass("active"),t(this).siblings("a").removeClass("active"),t(n).toggleClass("active"),t(n).siblings(".ps-panel--sidebar").removeClass("active"),t(".ps-site-overlay").toggleClass("active")})),t("#filter-sidebar").on("click",(function(e){e.preventDefault(),r.addClass("active"),t(".ps-site-overlay").addClass("active")})),t(".ps-filter--sidebar .ps-filter__header .ps-btn--close").on("click",(function(e){e.preventDefault(),r.removeClass("active"),t(".ps-site-overlay").removeClass("active")})),t("body").on("click",(function(e){t(e.target).siblings(".ps-panel--sidebar").hasClass("active")&&(t(".ps-panel--sidebar").removeClass("active"),t(".ps-site-overlay").removeClass("active"))})),t(".menu--mobile .menu-item-has-children > .sub-toggle").on("click",(function(e){e.preventDefault();var n=t(this).parent(".menu-item-has-children");t(this).toggleClass("active"),n.siblings().find(".sub-toggle").removeClass("active"),n.children(".sub-menu").slideToggle(350),n.siblings().find(".sub-menu").slideUp(350),n.hasClass("has-mega-menu")&&(n.children(".mega-menu").slideToggle(350),n.siblings(".has-mega-menu").find(".mega-menu").slideUp(350))})),t(".menu--mobile .has-mega-menu .mega-menu__column .sub-toggle").on("click",(function(e){e.preventDefault();var n=t(this).closest(".mega-menu__column");t(this).toggleClass("active"),n.siblings().find(".sub-toggle").removeClass("active"),n.children(".mega-menu__list").slideToggle(350),n.siblings().find(".mega-menu__list").slideUp(350)})),t(".ps-list--categories").length>0&&t(".ps-list--categories .menu-item-has-children > .sub-toggle").on("click",(function(e){e.preventDefault();var n=t(this).parent(".menu-item-has-children");t(this).toggleClass("active"),n.siblings().find(".sub-toggle").removeClass("active"),n.children(".sub-menu").slideToggle(350),n.siblings().find(".sub-menu").slideUp(350),n.hasClass("has-mega-menu")&&(n.children(".mega-menu").slideToggle(350),n.siblings(".has-mega-menu").find(".mega-menu").slideUp(350))})),function(e){var n=t(".ps-masonry");if(n.length>0)if(n.hasClass("filter")){n.imagesLoaded((function(){n.isotope({columnWidth:".grid-sizer",itemSelector:".grid-item",isotope:{columnWidth:".grid-sizer"},filter:"*"})}));var r=n.closest(".masonry-root").find(".ps-masonry-filter > li > a");r.on("click",(function(e){e.preventDefault();var n=t(this).attr("href");return r.find("a").removeClass("current"),t(this).parent("li").addClass("current"),t(this).parent("li").siblings("li").removeClass("current"),t(this).closest(".masonry-root").find(".ps-masonry").isotope({itemSelector:".grid-item",isotope:{columnWidth:".grid-sizer"},filter:n}),!1}))}else n.imagesLoaded((function(){n.masonry({columnWidth:".grid-sizer",itemSelector:".grid-item"})}))}(),t(".ps-filter__trigger").on("click",(function(e){e.preventDefault();var n=t(this);n.find(".ps-filter__icon").toggleClass("active"),n.closest(".ps-filter").find(".ps-filter__content").slideToggle()})),t(".ps-sidebar--home").length>0&&t(".ps-sidebar--home > .ps-sidebar__header > a").on("click",(function(e){e.preventDefault(),t(this).closest(".ps-sidebar--home").children(".ps-sidebar__content").slideToggle()})),t(".ps-tab-list  li > a ").on("click",(function(e){e.preventDefault();var n=t(this).attr("href");t(this).closest("li").siblings("li").removeClass("active"),t(this).closest("li").addClass("active"),t(n).addClass("active"),t(n).siblings(".ps-tab").removeClass("active")})),t(".ps-tab-list.owl-slider .owl-item a").on("click",(function(e){e.preventDefault();var n=t(this).attr("href");t(this).closest(".owl-item").siblings(".owl-item").removeClass("active"),t(this).closest(".owl-item").addClass("active"),t(n).addClass("active"),t(n).siblings(".ps-tab").removeClass("active")})),i=0,o=t("#back2top"),t(window).scroll((function(){var e=t(window).scrollTop();e>i&&e>500?o.addClass("active"):o.removeClass("active"),i=e})),o.on("click",(function(){t("html, body").animate({scrollTop:"0px"},800)})),function(){t(".header").each((function(){if(!0===t(this).data("sticky")){var e=t(this);t(window).scroll((function(){t(this).scrollTop()>50?e.addClass("header--sticky"):e.removeClass("header--sticky")}))}}));var e=t("#cart-sticky");e.length>0&&t(window).scroll((function(){t(this).scrollTop()>50?e.addClass("active"):e.removeClass("active")}))}(),function(){var e=t(".ps-slider"),n=e.siblings().find(".ps-slider__min"),r=e.siblings().find(".ps-slider__max"),i=e.data("default-min"),o=e.data("default-max"),s=e.data("max"),a=e.data("step");if(e.length>0){e.slider({min:0,max:s,step:a,range:!0,values:[i,o],slide:function(t,e){var i=e.values;n.text("$"+i[0]),r.text("$"+i[1])}});var u=e.slider("option","values");n.text("$"+u[0]),r.text("$"+u[1])}}(),(s=t(".ps-modal")).length&&s.hasClass("active")&&t("body").css("overflow-y","hidden"),s.find(".ps-modal__close, .ps-btn--close").on("click",(function(e){e.preventDefault(),t(this).closest(".ps-modal").removeClass("active")})),t(".ps-modal-link").on("click",(function(e){e.preventDefault();var n=t(this).attr("href");t(n).addClass("active"),t("body").css("overflow-y","hidden")})),t(".ps-modal").on("click",(function(e){t(e.target).closest(".ps-modal__container").length||(s.removeClass("active"),t("body").css("overflow-y","auto"))})),a=t(".ps-search"),t(".ps-search-btn").on("click",(function(t){t.preventDefault(),a.addClass("active")})),a.find(".ps-btn--close").on("click",(function(t){t.preventDefault(),a.removeClass("active")})),t(".ps-carousel--animate").slick({autoplay:!0,speed:1e3,lazyLoad:"progressive",arrows:!1,fade:!0,dots:!0,prevArrow:"<i class='slider-prev ba-back'></i>",nextArrow:"<i class='slider-next ba-next'></i>"}),t(".bg--parallax").each((function(){var n=t(this),r=t(window).height();e.any()?t(this).css("background-attachment","scroll"):t(window).scroll((function(){var e=t(window).scrollTop(),i=n.offset().top;i+n.outerHeight()<e||i>e+r||n.css("backgroundPosition","50% "+Math.round(.2*(i-e))+"px")}))})),function(){var e,n=t(".ps-product--sticky"),r=t(window).innerWidth();if(!(n.length>0))return!1;if(e=new e(".ps-product__sticky .ps-product__info",{topSpacing:20,bottomSpacing:20,containerSelector:".ps-product__sticky"}),t(".sticky-2").length>0)var i=new e(".ps-product__sticky .sticky-2",{topSpacing:20,bottomSpacing:20,containerSelector:".ps-product__sticky"});992>r&&(e.destroy(),i.destroy())}(),(u=t(".ps-accordion")).find(".ps-accordion__content").hide(),t(".ps-accordion.active").find(".ps-accordion__content").show(),u.find(".ps-accordion__header").on("click",(function(e){e.preventDefault(),t(this).closest(".ps-accordion").hasClass("active")?(t(this).closest(".ps-accordion").removeClass("active"),t(this).closest(".ps-accordion").find(".ps-accordion__content").slideUp(350)):(t(this).closest(".ps-accordion").addClass("active"),t(this).closest(".ps-accordion").find(".ps-accordion__content").slideDown(350),t(this).closest(".ps-accordion").siblings(".ps-accordion").find(".ps-accordion__content").slideUp()),t(this).closest(".ps-accordion").siblings(".ps-accordion").removeClass("active"),t(this).closest(".ps-accordion").siblings(".ps-accordion").find(".ps-accordion__content").slideUp()})),t(".ps-custom-scrollbar").each((function(){var e=t(this).data("height");t(this).slimScroll({height:e+"px",alwaysVisible:!0,color:"#000000",size:"6px",railVisible:!0})})),t(".ps-datepicker").datepicker(),t('[data-toggle="tooltip"]').tooltip()})),t(window).on("load",(function(){var e,n;t("body").addClass("loaded"),n=(e=t("#subscribe")).data("time"),setTimeout((function(){e.length>0&&(e.addClass("active"),t("body").css("overflow","hidden"))}),n),t(".ps-popup__close").on("click",(function(e){e.preventDefault(),t(this).closest(".ps-popup").removeClass("active"),t("body").css("overflow","auto")})),t("#subscribe").on("click",(function(n){t(n.target).closest(".ps-popup__content").length||(e.removeClass("active"),t("body").css("overflow-y","auto"))}))})),t.scrollUp({scrollText:"",scrollSpeed:1e3})}(jQuery)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ce({type:t,selectors:[["app-root"]],decls:6,vars:0,template:function(t,e){1&t&&(ys(0,"app-header-promotion"),ys(1,"app-header"),ys(2,"app-header-mobile"),ys(3,"router-outlet"),ys(4,"app-newletter"),ys(5,"app-footer"))},directives:[Sw,xw,Lw,uv,Mw,jw],styles:[""]}),t})(),Bw=(()=>{class t{}return t.\u0275mod=fe({type:t,bootstrap:[Uw]}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[],imports:[[rh,ww,Uh,pf,Pf,Of.forRoot({confirmButtonType:"danger"})]]}),t})();(function(){if(br)throw new Error("Cannot enable prod mode after platform setup.");yr=!1})(),eh().bootstrapModule(Bw).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("os0x"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function m(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);